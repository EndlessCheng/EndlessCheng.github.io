// Copyrights C-EGG inc.
(function(){var aa="門前清自摸和;立直;一發;槍槓;嶺上開花;海底摸月;河底撈魚;平和;斷么九;一盃口;自風 東;自風 南;自風 西;自風 北;場風 東;場風 南;場風 西;場風 北;役牌 白;役牌 發;役牌 中;兩立直;七對子;混全帶么九;一氣通貫;三色同順;三色同刻;三槓子;對對和;三暗刻;小三元;混老頭;二盃口;純全帶么九;混一色;清一色;人和;天和;地和;大三元;四暗刻;四暗刻單騎;字一色;綠一色;清老頭;九蓮寶燈;純正九蓮寶燈;國士無雙;國士無雙13面;大四喜;小四喜;四槓子;ドラ;裏ドラ;赤ドラ;親;門前;榮和;本場;明槓;暗槓;五;ガリ;セット;カラス;全ガリ;バンバン".split(";"),
ba="新人 ９級 ８級 ７級 ６級 ５級 ４級 ３級 ２級 １級 初段 二段 三段 四段 五段 六段 七段 八段 九段 十段 天鳳".split(" "),da=" 滿貫 跳滿 倍滿 三倍滿 役滿".split(" "),ga={kaze4:"四風連打",yao9:"九種九牌",ron3:"三家和了",reach4:"四家立直",
kan4:"四槓散了",nm:"流局滿貫"},ha=[{800:"300-500",1100:"400-700",1200:"400-800",1500:"500-1000",1800:"600-1200",2E3:"700-1300",2300:"800-1500",2400:"800-1600",2700:"900-1800",3E3:"1000-2000",3500:"1200-2300",3900:"1300-2600",4400:"1500-2900",4800:"1600-3200",5400:"1800-3600",5900:"2000-3900",6E3:"2000-4000",9E3:"3000-6000",12E3:"4000-8000",18E3:"6000-12000",24E3:"8000-16000",48E3:"16000-32000",72E3:"24000-48000"},{1E3:500,1400:700,1600:800,2E3:1E3,2400:1200,2600:1300,
3E3:1500,3200:1600,3600:1800,4E3:2E3,4600:2300,5200:2600,5800:2900,6400:3200,7200:3600,7800:3900,8E3:4E3,12E3:6E3,16E3:8E3,24E3:12E3,32E3:16E3,64E3:32E3,96E3:48E3},{1100:"300-500",1500:"400-700",1600:"400-800",2E3:"500-1000",2400:"600-1200",2700:"700-1300",3100:"800-1500",3200:"800-1600",3600:"900-1800",4E3:"1000-2000",4700:"1200-2300",5200:"1300-2600",5900:"1500-2900",6400:"1600-3200",7200:"1800-3600",7900:"2000-3900",8E3:"2000-4000",12E3:"3000-6000",16E3:"4000-8000",24E3:"6000-12000",32E3:"8000-16000",
64E3:"16000-32000",96E3:"24000-48000"},{1500:500,2100:700,2400:800,3E3:1E3,3600:1200,3900:1300,4500:1500,4800:1600,5400:1800,6E3:2E3,6900:2300,7800:2600,8700:2900,9600:3200,10800:3600,11700:3900,12E3:4E3,18E3:6E3,24E3:8E3,36E3:12E3,48E3:16E3,96E3:32E3,144E3:48E3}];function ia(a,e){return 0!=(0==a?0!=(e&1536)?~e&8:e&64:e&64)}function ja(a){return(a&32)>>4|(a&128)>>7}
function ka(a){return 0!=(a&2048)?"東天紅":(a&16?"三":"四")+"般上特鳳若銀琥孔".substr(ja(a)+4*(0!=(a&1536)),1)+(a&8?"南":"東")+(0!=(a&1536)?(a&8?"":"速")+(~a&512?"祝０":a&1024?"祝５":"祝２"):(a&4?"":"喰")+(a&2?"":"赤")+(a&64?"速":"")+(a&256?"暗":"")+(a&512?"祝":""))}
var la=[0,0,0,0,0,0,0,0,-10,-20,-30,-40,-50,-60,-70,-80,-90,-100,-110,-120,0],ma=[20,20,20,20,40,60,80,100,100,100,400,800,1200,1600,2E3,2400,2800,3200,3600,4E3,0],na=[1,3,0,7,9,11,0,15,65,0,0,0,73,0,0,0,129,131,0,135,137,139,0,143,193,0,0,0,201,0,0,0,33,35,0,39,41,43,0,47,97,0,0,0,105,0,0,0,161,163,0,167,169,171,0,175,225,0,0,0,233,0,0,0,17,25,145,153,49,57,177,185,81,89,209,217,113,121,241,249,1025,1033,513,521,1537,1545,1553,1561,1153,1161,641,649,1665,1673,1681,1689,1057,1065,545,553,1569,1577,
1585,1593,1185,1193,673,681,1697,1705,1713,1721,2065];var sa=function(){function a(a,d,b){return"HK"==p.server?a:oa?d:b}return{10:function(){return a("wss://b-hk.mjv.jp","wss://b-wc.mjv.jp","wss://b-ww.mjv.jp")},11:function(){return a("https://b-hk.mjv.jp","https://p.mjv.jp","https://p.mjv.jp")},13:function(){return a("https://b-hk.mjv.jp/0/wg/","https://mjv.jp/0/wg/","https://mjv.jp/0/wg/")},20:function(){return a("https://tenhou.net/3/err.cgi","https://tenhou.net/3/err.cgi","https://tenhou.net/3/err.cgi")},21:function(){return a("https://tenhou.net/3/tr/",
"https://tenhou.net/3/tr/","https://tenhou.net/3/tr/")},22:function(){return a("https://tenhou.net/0/log/find.cgi","https://tenhou.net/0/log/find.cgi","https://tenhou.net/0/log/find.cgi")},30:function(){return a("https://b.mjv.jp/regid?q=1&uname=","https://b.mjv.jp/regid?q=1&uname=","https://b.mjv.jp/regid?q=1&uname=")},31:function(){return a("https://b.mjv.jp/regid?uname=","https://b.mjv.jp/regid?uname=","https://b.mjv.jp/regid?uname=")},32:function(){return a("https://b.mjv.jp/csreg","https://b.mjv.jp/csreg",
"https://b.mjv.jp/csreg")}}}();function ta(a,e,d){a.addEventListener(e,d,!1)}function xa(a,e){for(var d in e)a.addEventListener(d,e[d],!1);return a}function ya(a,e){if(a&&e)for(var d in e)a[d]=e[d];return a}function Aa(a){a.sort(function(a,d){return a-d})}function Ba(a,e){a.sort(function(a,b){return(e[a]<<8|a)-(e[b]<<8|b)})}function q(a,e){if(void 0===a||""===a)return[];e=e||1;a.split&&(a=a.split(","));for(var d=0;d<a.length;++d)a[d]=1!=e&&""==a[d]?void 0:e*~~a[d];return a}
function Ca(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Da(a){a=a.split("&");var e={},d;for(d in a)if(a[d].length){var b=a[d].split("=");e[b.shift()]=decodeURIComponent(b.join("="))}return e}function Ea(a){for(var e=a.length-1;0<e;--e){var d=Math.floor(Math.random()*(e+1)),b=a[e];a[e]=a[d];a[d]=b}return a}
function Sa(a,e,d){var b=new XMLHttpRequest;b.onload=function(){200==this.status?e(this.response):d&&d(this)};b.onerror=function(){d&&d(this)};b.open("GET",a,!0);b.send()}function Ua(a,e){var d;return function(){clearTimeout(d);d=setTimeout(function(){d=null;a()},e)}}function Va(a,e){return("000"+e).slice(-a)}function Ya(a){return(0<a?"+":"")+a}var Za=1,r=window,$a=document,ab=$a.body,bb=0,cb=0,fb=0,gb=navigator.userAgent;gb.match(/iP(hone|od|ad)/)&&gb.match(/OS (\d+)_(\d+)/)&&(bb=RegExp.$1+"."+RegExp.$2);
gb.match(/Android (\d\.\d)/)&&(cb=parseFloat(RegExp.$1));var fb=4.4>cb&&0<gb.indexOf(" Chrome/")&&0<gb.indexOf(" Version/"),hb="ontouchstart"in $a.documentElement&&!r.navigator.msPointerEnabled,oa=!!r.cordova,ib=oa||"standalone"in navigator&&navigator.standalone,jb=!1,t=r.devicePixelRatio||1,u=Da(location.search.substr(1));u.TW=u.tw=~~u.tw%4;u.hb=!(!u.wg&&!u.log);u.sb=!1;
u.Df=function(a){function e(d,b){var f=a.match(d);return f?f[1]:b}u.log=e(/\?log=([^&]*)/,"");u.TW=u.tw=~~e(/&tw=(\d)/,0);u.ts=~~e(/&ts=(\d+)/,0);u.wg=e(/\?wg=([^&]*)/,"");(u.log||u.wg)&&v.ka(11)};function kb(a,e,d,b,f){a=$a.createElement(a);d&&(a.className=d);ya(a,b);ya(a.style,f);return e?e.insertBefore(a,null):a}
function lb(a){for(var e=1;e<arguments.length;++e){var d=arguments[e];if(0===d)Array.prototype.push.apply(arguments,"cfg lang regid clearid idcont uname sx mvlb ok".split(" "));else if(1===d)Array.prototype.push.apply(arguments,"testplay haifu kansen openurl help hairi purchase".split(" "));else if(2===d)Array.prototype.push.apply(arguments,["iap","storePurchase","exit"]);else if(3===d)Array.prototype.push.apply(arguments,["rule","join","cancel","logout"]);else for(var d=$a.getElementsByName(d),b=
0;b<d.length;++b){var f=d[b];f&&(f.disabled=a)}}}function nb(a){if(!a)return!1;a=a.replace(/\?.*$/,"");return a.match(/^https?:\/\/(?:[\w-]+\.)+[\w-]+(?:\/[\w-]+)+\.(?:jpg|png|gif)$/)}
var ob=function(){var a=[],e=new XMLHttpRequest;e.onload=function(){a.length&&1!=e.readyState&&(e.open("POST",sa[20](),!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.send(a.shift()))};return function(){for(var d=arguments[0],b=1;b<arguments.length;++b)d+=" "+arguments[b];a.push(d);e.onload()}}(),pb="";r.onerror=function(a,e,d){a=a+" "+e+":"+d;pb!=a&&ob(a);pb=a};var qb=document.createElement("style");qb.innerHTML="@font-face{font-family:cwTeX-Q-Kai-T;src: url(https://cdn.tenhou.net/3/res/font/cwTeXQKaiT-Medium_20200430.ttf) format('truetype');}@font-face{font-family:icons2;src: url(https://cdn.tenhou.net/3/res/font/icons_20200502.ttf) format('truetype');}*{-webkit-tap-highlight-color:rgba(0,0,0,0);line-height:1;}:focus{outline:0;}HTML{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}HTML{touch-action:pan-y;}BODY{font-family:sans-serif;overflow-x:hidden;-webkit-text-size-adjust:100%;}HR{border-color:#444;border-width:1px 0 0 0;border-style:solid;margin:0.5em 0;}TEXTAREA{margin:0px;word-break:break-all;}SELECT{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:0.6em;}SELECT::-ms-expand{display:none;}BUTTON,SELECT,INPUT,.bth{height:2em;font-size:175%;margin:0;}BUTTON,SELECT,INPUT[type=checkbox]+LABEL,A.bt3{padding:0 0.5em;color:inherit;border:solid 1px #444;}BUTTON,SELECT,INPUT[type=checkbox]+LABEL{background:linear-gradient(to bottom, rgba(0,0,0,0.4) 0%,rgba(167,147,127,0.4) 50%,rgba(31,31,31,0.4) 51%,rgba(0,0,0,0.4) 100%);}A.bt3{display:block;width:100%;height:100%;padding:0 1em;border:solid 1px #444;background:linear-gradient(to bottom, rgba(0,0,0,0.4) 0%,rgba(47,47,47,0.4) 100%);}A.bt3:hover,SELECT:hover{background-color:#030;}SELECT:disabled,BUTTON:disabled{color:#888;background:#444;pointer-events:none;}OPTION{background-color:#FFF;color:#000;}BUTTON *{pointer-events:none;}.notxt{font-size:0px;}.sscl{-webkit-overflow-scrolling:touch;}.rot000{position:absolute;}.rot090{position:absolute;transform:rotate( 90deg);-webkit-transform:rotate( 90deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=1);}.rot180{position:absolute;transform:rotate(180deg);-webkit-transform:rotate(180deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2);}.rot270{position:absolute;transform:rotate(270deg);-webkit-transform:rotate(270deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);}.ts0,sblink{text-shadow:#000 -1px 0px 0px, #000 1px 0px 0px, #000 1px 1px 1px,#000 -1px -1px 1px;}.tsv{text-shadow:#000 -1px -1px 0px, #000 0px 1px 0px, #000 3px 3px 0px;}.nosel{-ms-user-select:none;-moz-user-select:none;-webkit-user-select:none;user-select:none;}.tbl{display:table;}.tbc{display:table-cell;}.nobr{word-break:keep-all;white-space:nowrap;}.gray{color:#666;}.bgb40{background-color:rgba(0,0,0,0.4);}.bgb60{background-color:rgba(0,0,0,0.6);}.bgb80{background-color:rgba(0,0,0,0.8);}.bgb{background-color:#000;}.ra0{border-radius:0.6em;}.ra1{border-radius:0.6em 0 0 0.6em;}.ra2{border-radius:0 0.6em 0.6em 0;}.dan18,.dan19,.dan20{font-weight:bold;}.n2r{display:inline-block;width:2em;text-align:right;}SELECT{padding-right:1em;}.select-wrapper{position:relative;display:inline-block;}.select-wrapper:after{content:'';position:absolute;right:0.5em;top:45%;width:0;height:0;border-left:0.3em solid transparent;border-right:0.3em solid transparent;border-top: 0.3em solid #FFF;pointer-events:none;}.select-wrapper>BUTTON:first-child{padding-right:1em;border-radius:0.6em;}.fixed-select{min-width:10em;max-width:90vw;max-height:85vh;overflow-y:auto;}.fixed-select .A{font-size:150%;color:#000;padding:0.5em;text-decoration:none;display:block;}.fixed-select .A{border-bottom:1px solid #DDD;cursor:pointer;}.fixed-select .A:nth-child(1){border-top:1px solid #DDD;}.fixed-select .A:hover{background-color:#CCC}.fixed-select .A DIV.desc{color:#666;font-size:50%;}.fixed-select .A *{pointer-events:none;}.vscl::-webkit-scrollbar{background:#CCC;width:0.5em;}.vscl::-webkit-scrollbar-thumb{background:#AAA;}INPUT[type=checkbox]{display:none;}INPUT[type=checkbox]+LABEL{position:relative;cursor:pointer;display:inline-block;border-radius:0.6em;}INPUT[type=checkbox]+LABEL{padding:0.5em 0.5em 0.5em 1.8em;}INPUT[type=checkbox]+LABEL::before{font-family:icons2;content:'';position:absolute;left:0.5em;top:25%;}INPUT[type=checkbox]:checked+LABEL::before{content:'';}INPUT[type=checkbox]:disabled+LABEL{color:#888;background:#444;pointer-events:none;}.bblink{animation: _bblink 0.5s ease 0s infinite alternate;}@keyframes _bblink{0%{background-color:rgba(255,255,255,0.3);}30%{background-color:rgba(0,0,0,0.3);}100%{background-color:rgba(0,0,0,0.3);}}.cblink{animation: _cblink 1.75s linear 0s infinite alternate;}@keyframes _cblink{0%{color:#FFF;}80%{color:#FFF;}100%{color:#666;}}.sblink{animation: _sblink 0.5s linear 0s infinite alternate;position:absolute;bottom:0;right:0.25em;color:#888;font-size:300%;pointer-events:none;}@keyframes _sblink{0%{color:transparent;}30%{color:#888;}100%{color:#888;}}.fadeinqs{animation:_fadein 0.25s ease 0s 1 normal;}.fadein2s{animation:_fadein 2s ease 0s 1 normal;}@keyframes _fadein{0%{opacity:0;}100%{opacity:1;}}.flip{perspective:100px;opacity:0;transform:rotateX(-90deg);transition:all 0.5s cubic-bezier(.36,-0.64,.34,1.76);}.flip.show{opacity:1;transform:none;transition:all 0.5s cubic-bezier(.36,-0.64,.34,1.76);}.flipinqs{animation:_flipin 0.25s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}.flipinhs{animation:_flipin 0.5s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}.flipin1s{animation:_flipin 1s cubic-bezier(0.175, 0.885, 0.320, 1) 0s 1 normal;}@keyframes _flipin{0%{opacity:0;transform:rotateX(-90deg);}100%{opacity:1;transform:none;}}.flipinqs.hide{animation:_flipout 0.25s cubic-bezier(0.600, 0, 0.735, 0.045) 0s 1 normal;}.flipinhs.hide{animation:_flipout 0.5s cubic-bezier(0.600, 0, 0.735, 0.045) 0s 1 normal;}@keyframes _flipout{0%{opacity:1;transform:none;}100%{opacity:0;transform:rotateX(-90deg);}}.arrow-box-left,.arrow-box-right{position:relative;background:#FFF;color:#000;border-radius:0.2em;padding:0.5em;}.arrow-box-left:after{right:100%;top:50%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(255, 255, 255, 0);border-right-color:#FFF;border-width:0.5em;margin-top:-0.5em;}.arrow-box-right:after {left:100%;top:50%;border:solid transparent;content:' ';height:0;width:0;position:absolute;pointer-events:none;border-color:rgba(255, 255, 255, 0);border-left-color:#FFF;border-width:0.5em;margin-top:-0.5em;}#pftab TD,#rnktab TD{padding-top:0.35em;}#pftab SMALL,#rnktab SMALL{font-size:60%;}.trtab TD{padding:0.5em 0.25em;}";
ab.appendChild(qb);function z(a){return"<span class=gray>"+a+"</span>"}function rb(a){return"<span class=nobr>"+a+"</span>"}kb("SPAN",ab,"",{innerHTML:"FontLoader&#xe800;"},{position:"absolute",fontFamily:"cwTeX-Q-Kai-T,icons2",visibility:"hidden"});setInterval(function(){for(var a=$a.getElementsByClassName("sblink"),e=0;e<a.length;++e){var d=a[e],b=d.previousSibling;d.style.visibility=b.scrollTop+b.offsetHeight<b.scrollHeight-.25*d.offsetHeight?"":"hidden"}},1E3);var sb=function(){function a(b){var a=b&7,c=0,d=0;1==a||4==a?c=d=1:2==a&&(c=d=2);b>>=3;a=(b&7)-c;if(0>a)return!1;c=d;d=0;1==a||4==a?(c+=1,d+=1):2==a&&(c+=2,d+=2);b>>=3;a=(b&7)-c;if(0>a)return!1;c=d;d=0;1==a||4==a?(c+=1,d+=1):2==a&&(c+=2,d+=2);b>>=3;a=(b&7)-c;if(0>a)return!1;c=d;d=0;1==a||4==a?(c+=1,d+=1):2==a&&(c+=2,d+=2);b>>=3;a=(b&7)-c;if(0>a)return!1;c=d;d=0;1==a||4==a?(c+=1,d+=1):2==a&&(c+=2,d+=2);b>>=3;a=(b&7)-c;if(0>a)return!1;c=d;d=0;1==a||4==a?(c+=1,d+=1):2==a&&(c+=2,d+=2);b>>=3;a=(b&7)-c;
if(0>a)return!1;c=d;d=0;1==a||4==a?(c+=1,d+=1):2==a&&(c+=2,d+=2);b>>=3;a=(b&7)-c;if(0!=a&&3!=a)return!1;a=(b>>3&7)-d;return 0==a||3==a}function e(b,d){if(0==b){if(128<=(d&448)&&a(d-128)||65536<=(d&229376)&&a(d-65536)||33554432<=(d&117440512)&&a(d-33554432))return!0}else if(1==b){if(16<=(d&56)&&a(d-16)||8192<=(d&28672)&&a(d-8192)||4194304<=(d&14680064)&&a(d-4194304))return!0}else if(2==b&&(2<=(d&7)&&a(d-2)||1024<=(d&3584)&&a(d-1024)||524288<=(d&1835008)&&a(d-524288)))return!0;return!1}function d(b,
a){return b[a+0]<<0|b[a+1]<<3|b[a+2]<<6|b[a+3]<<9|b[a+4]<<12|b[a+5]<<15|b[a+6]<<18|b[a+7]<<21|b[a+8]<<24}return{ac:function(b){var f=1<<b[27]|1<<b[28]|1<<b[29]|1<<b[30]|1<<b[31]|1<<b[32]|1<<b[33];if(16<=f)return!1;if(2==(f&3)&&2==b[0]*b[8]*b[9]*b[17]*b[18]*b[26]*b[27]*b[28]*b[29]*b[30]*b[31]*b[32]*b[33]||!(f&10)&&7==(2==b[0])+(2==b[1])+(2==b[2])+(2==b[3])+(2==b[4])+(2==b[5])+(2==b[6])+(2==b[7])+(2==b[8])+(2==b[9])+(2==b[10])+(2==b[11])+(2==b[12])+(2==b[13])+(2==b[14])+(2==b[15])+(2==b[16])+(2==b[17])+
(2==b[18])+(2==b[19])+(2==b[20])+(2==b[21])+(2==b[22])+(2==b[23])+(2==b[24])+(2==b[25])+(2==b[26])+(2==b[27])+(2==b[28])+(2==b[29])+(2==b[30])+(2==b[31])+(2==b[32])+(2==b[33]))return!0;if(f&2)return!1;var c=b[0]+b[3]+b[6],g=b[1]+b[4]+b[7],m=b[9]+b[12]+b[15],k=b[10]+b[13]+b[16],h=b[18]+b[21]+b[24],l=b[19]+b[22]+b[25],n=(c+g+(b[2]+b[5]+b[8]))%3;if(1==n)return!1;var x=(m+k+(b[11]+b[14]+b[17]))%3;if(1==x)return!1;var E=(h+l+(b[20]+b[23]+b[26]))%3;if(1==E||1!=(2==n)+(2==x)+(2==E)+(2==b[27])+(2==b[28])+
(2==b[29])+(2==b[30])+(2==b[31])+(2==b[32])+(2==b[33]))return!1;c=(1*c+2*g)%3;g=d(b,0);m=(1*m+2*k)%3;k=d(b,9);h=(1*h+2*l)%3;b=d(b,18);return f&4?!(n|c|x|m|E|h)&&a(g)&&a(k)&&a(b):2==n?!(x|m|E|h)&&a(k)&&a(b)&&e(c,g):2==x?!(E|h|n|c)&&a(b)&&a(g)&&e(m,k):2==E?!(n|c|x|m)&&a(g)&&a(k)&&e(h,b):!1},nb:function(b){var a=[],c=0;if(12<=(0!==b[0])+(0!==b[8])+(0!==b[9])+(0!==b[17])+(0!==b[18])+(0!==b[26])+(0!==b[27])+(0!==b[28])+(0!==b[29])+(0!==b[30])+(0!==b[31])+(0!==b[32])+(0!==b[33]))for(;34>c;++c)3>=b[c]&&
(++b[c],sb.ac(b)&&a.push(c),--b[c]);else{for(;27>c;++c)3>=b[c]&&(b[c]||0<c%9&&b[c-1]||8>c%9&&b[c+1])&&(++b[c],sb.ac(b)&&a.push(c),--b[c]);for(;34>c;++c)3>=b[c]&&b[c]&&(++b[c],sb.ac(b)&&a.push(c),--b[c])}return a},xf:function(b){for(var a={},c=0;34>c;++c)b[c]&&(--b[c],a[c]=sb.nb(b),++b[c]);return a}}}();var A=function(){function a(b){d&&d[b]&&0==d[b](e)||!e||(e.parentNode.removeChild(e),e=null)}var e,d;return{l:function(b,f,c,g){1==arguments.length&&(f=1);d=[g,c];var m=e=kb("DIV",ab,"tbl fadeinqs",{},{position:"fixed",left:0,top:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.75)"});setTimeout(function(){f||ta(m,"click",function(){a(0)});m=kb("DIV",m,"tbc",{},{textAlign:"center",verticalAlign:"middle"});m=kb("DIV",m,"",{},{display:"inline-block",background:"#FFF",color:"#000",borderRadius:"0.6em",
maxWidth:"90vw",padding:"1em"});m.innerHTML='<div style="position:relative;font-size:150%;'+(f?"padding:1em 0;":"")+'">'+b+'</div><button style="width:6em;">CANCEL</button><button style="width:6em;">OK</button>';var c=m.getElementsByTagName("BUTTON");c[0].onclick=function(){a(0)};c[0].style.display=f&2?"":"none";c[1].onclick=function(){a(1)};c[1].style.display=f&1?"":"none";c=m.getElementsByTagName("INPUT");if(cb&&oa)for(var h=0;h<c.length;++h)xa(c[h],{focus:function(){tb(1)},blur:function(){tb()}});
c.length&&c[0].focus()},1)},Z:function(b,a,c,d,e){return A.l('<div class="fixed-select sscl" style="position:relative;'+(a||"")+'">'+b+'</div><div class=sblink style="visibility:hidden;">▼</div>',c,d,e)},fb:function(){return!!e}}}();
ta(r,"click",function(a){var e=a.target;if(e.classList.contains("A")&&e.id&&e.parentNode.classList.contains("fixed-select"))if("A"==e.tagName&&a.preventDefault(),a=e.id.split("-"),C.b&&C[a[0]])C[a[0]](a[0],a[1]);else switch(a[0]){case "#tw":3==H.a?ub.Ib(a[0],a[1]):2==H.a&&vb.Ib(a[0],a[1]);break;case "#ts":ub.Se(a[0],a[1]);break;case "#tj":ub.Te(a[0],a[1])}});function wb(a){if("254"==a)return"a";if("255"==a)return"r";if("136"==a)return"0z";var e=a>>2;return(27>e&&16==a%36?"0":e%9+1)+"mpsz".substr(e/9,1)}function xb(a){for(var e="",d=0;d<a.length;++d)e+=wb(a[d]);return e.replace(/\d(m|p|s|z)(\d\1)*/g,"$&:").replace(/(m|p|s|z)([^:])/g,"$2").replace(/:/g,"")}
function Ab(a){return a.replace(/(\d)(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{0,8})(\d{8})(m|p|s|z)/g,"$1$9$2$9$3$9$4$9$5$9$6$9$7$9$8$9").replace(/(\d?)(\d?)(\d?)(\d?)(\d?)(\d?)(\d)(\d)(m|p|s|z)/g,"$1$9$2$9$3$9$4$9$5$9$6$9$7$9$8$9").replace(/(m|p|s|z)(m|p|s|z)+/g,"$1").replace(/([^0-9]|^)[mpsz](\d[mpsz\d]*)/g,"$1$2")}
function Bb(a){if(!a)return"";for(var e=[],d=0;34>d;++d)e[d]=0;return Ab(a).replace(/r/g,"255,").replace(/a/g,"254,").replace(/(\d)([mpsz])(?![mpsz])/g,function(b,a,c){a=~~a;if("z"==c&&0==a)return"136,";b="m"==c?0:"p"==c?1:"s"==c?2:3;return a?36*b+4*(a-1)+ ++e[9*b+(a-1)]%4+",":4*(9*b+4)+0+","}).replace(/,$/,"")};var p;
(function(){try{p=r.localStorage,p.setItem("a",1),p.removeItem("a")}catch(f){p={setItem:function(b,a){p[b]=a},removeItem:function(b){delete p[b]}};var a=navigator.languages,e=0;navigator.userAgent.match(/TwitterAndroid/)&&(e|=1);for(var d in a)a[d].match(/(ja|JP)/)&&(e|=2);a="";switch(e){case 0:a="This browser(private browsing etc.) won't let you save game logs, IDs or other settings.";break;case 1:a="The Twitter browser will not let you save your settings (game logs, IDs, etc). Open the menu and select Open in Browser.";break;
default:case 2:a="このブラウザ環境(プライベートブラウズなど)では、牌譜の記録やIDの保存などが行えません。";break;case 3:a="Twitterの専用ブラウザでは、設定の保存(牌譜の記録/IDの保存/など)が行えません。メニューの「ブラウザで開く」から通常のブラウザで開いてください。"}A.l(a)}e=
p.scro;if(oa&&r.screen&&r.screen.orientation&&r.screen.orientation.lock){a=screen.orientation;d=a.type;if(bb&&("landscape-primary"==d||"landscape-secondary"==d)){var b=$a.getElementById("loading");b&&(b.style.display="none");r.StatusBar.overlaysWebView(!0);r.StatusBar.hide();a.lock("portrait");"landscape-primary"==d?a.lock("landscape-secondary"):"landscape-secondary"==d&&a.lock("landscape-primary");b&&setTimeout(function(){b.style.display="table"},1E3)}bb&&2==e?a.lock("landscape-primary"==d?"landscape-secondary":
"landscape-secondary"==d?"landscape-primary":"landscape"):a.lock(1==e?"portrait":2==e?"landscape":"any")}})();function Cb(a,e,d){p&&(e!=d?p.setItem(a,e):p.removeItem(a))}(function(){function a(e){jb="mousedown"==e.type;e=p.desktop;1!=e&&2!=e&&(Cb("desktop",jb?3:0,0),e!==p.desktop&&Db());r.removeEventListener("touchstart",a,!1);r.removeEventListener("mousedown",a,!1)}xa(r,{touchstart:a,mousedown:a})})();var I={},Eb,Fb=p.lang||"JP";switch(Fb){case "JP":case "EN":break;default:Fb="JP"}Eb=Fb;function Gb(a){ya(I,a.JP);ya(I,a[Eb])}
Gb({JP:{1001:"プレーヤ名が正しくありません。プレーヤ名には使用できない文字があります。",1002:'このプレーヤ名を使用するにはIDで入場する必要があります<br>■IDの再発行方法は以下を参照してください<br><a href="https://tenhou.net/support.html" target=_blank>https://tenhou.net/support.html</a>',1003:'IDが正しくありません<br>■IDの再発行方法は以下を参照してください<br><a href="https://tenhou.net/support.html" target=_blank>https://tenhou.net/support.html</a><br>180日以上対戦を行っていないIDは停止または削除されている場合があります。七段以上で有料版の決済情報が確認できる場合にはIDの復元が可能です。お早めにお問い合わせください。',
1004:"このプレーヤは既に接続済みです。しばらく経ってから接続してください。",1005:"このプレーヤは既に登録済みです。同じプレーヤ名は使用できません。",1006:"この接続元IPからの新規登録は約７日間行なえません",
1007:"登録に失敗しました",1008:"この接続元からは一定期間アクセスできません<br><br>多くのプレーヤから不正/迷惑行為の通報が寄せられた可能性があります。<br>アクセス解除は問い合わせを頂いても行なえない場合があります。<br>健全なコミュニティの運営に何卒ご理解ご協力をいただきますよう<br>よろしくお願い申し上げます。",
1009:"通報が完了しました",1010:"この機能は個室では利用できません<br>ランキング戦ロビーに移動してください",1011:"通報に失敗しました",1012:"登録が完了しました。IDを紛失しないようにコピーしてください。<small class=gray>(※180日以上対戦を行っていないIDは削除されますのでご注意ください)</small>",
1013:"観戦可能な対戦は現在ありません",1014:"観戦情報が見つかりませんでした<br>この対戦は既に終了している可能性があります",1015:"大会ロビーの作成が完了しました",1016:"大会ロビーの作成に失敗しました",
1017:"予約中は牌譜を閲覧できません",1018:"予約中は観戦できません",1019:"大会ロビーが見つかりませんでした。",1020:"必要な有効期限が不足しています<br><br>今すぐ購入しますか？",1021:"外部ログインサーバからの応答がありません",
1022:"ID互換のないロビーへは移動できません",1023:"一時的に使用している外部IDの有効期限が切れました",1024:"参加に必要な条件を満たしていません",1025:"外部IDでは利用できません",1026:"このロビーでは参加登録は行えません",
1027:"参加登録が完了しました",1028:"すでに参加登録が完了しています",1100:"このルールへの予約は許可されていません",1101:"段位戦の上級/特上卓では、不正防止のため対戦人数が100人未満のルールを予約するには有料会員の有効期限の残りが91日以上必要です",
1102:"接続数が8000人以下の場合のみ予約が許可されています",1200:"トレーニングを使用するにはID登録が必要です。ログイン画面の「新規ID」からIDを取得してください",2003:"牌譜の読み込みに失敗しました。<br>プレイ中の牌譜はゲーム終了後に閲覧可能になります"},
EN:{1001:"Invalid player name. You can't use some of the characters in this name.",1002:'This name is already registered, you must enter an ID to use it.<br>■ To recover a lost ID go here<br><a href="https://tenhou.net/support.html" target=_blank>https://tenhou.net/support.html</a>',1003:'The ID entered is incorrect.<br>■ To recover a lost ID go here<br><a href="https://tenhou.net/support.html" target=_blank>https://tenhou.net/support.html</a><br>If you haven\'t played a match in the last 180 days, your ID might have been deactivated. Only Premium accounts with a rank of 7 Dan and above may be reactivated. Please, enquire as soon as possible.',
1004:"This player is already connected to the server. Try to reconnect later.",1005:"This player is already registered. You can't register this name.",1006:"You can't register any new IDs from this location(IP) for this week.",1007:"Error during registration",1008:"Access from this location is temporarily restricted.<br><br>You may have been reported by other players for obstructive behavior.<br>We may not be able to help you regain access.<br>We appreciate your understanding of our community policies.<br>We're sorry for any inconveniences caused",
1009:"Report sent",1010:"You can't use this in a private room.<br>Please, go back to the Ranking Lobby.",1011:"Couldn't send report",1012:"Registration completed. Please, copy your ID and do not lose it. <small class=gray>(*If you don't play a match for over 180 days your ID will be subject to deletion)</small>",1013:"There are no matches available to spectate.",1014:"We couldn't find any spectator data.<br>This match is probably already over.",1015:"Tournament Lobby created successfully",1016:"Tournament Lobby could not be created",
1017:"You can't view logs while queueing for a match.",1018:"You can't spectate while queueing for a match.",1019:"Tournament Lobby could not be found",1020:"You don't have enough Premium Days left<br><br>Would you like to purchase some?",1021:"No response from external login server",1022:"You can't enter an incompatible lobby.",1023:"The valid period for the external ID has expired.",1024:"You don't meet the requirements to join.",1025:"You can't use an external ID.",1026:"You can't register to participate in this lobby.",
1027:"Participation registered successfully",1028:"You are already registered to participate.",1100:"These rules don't allow you to queue.",1101:"To prevent cheating, only users with 91 days of Premium access or more can queue in Joukyuu or Tokujou tables with less than 100 active players.",1102:"You can queue only when there are less than 8000 players connected.",1200:"You need to register an ID to use Training Mode. Please, go back to the Login Panel and register a New ID.",2003:"Failed to load game log data.<br>You can view the log after this match is over."}});var Hb=108,Lb=kb("DIV",ab,"nosel",{},{display:"none",color:"#CCC",backgroundColor:"#444",height:Hb+"px"}),Mb=kb("DIV",ab,"nosel",{},{display:"none",overflow:"hidden",position:"absolute"}),Nb=kb("DIV",ab,"",{},{position:"absolute"});
hb&&!ib?Lb.innerHTML='<div style="width:100%;height:100%;display:table;pointer-events:none;"><div style="display:table-cell;text-align:center;vertical-align:middle;">上にゆっくりスクロールしてください</div></div>':(Lb.style.height=Hb=0,ab.style.overflow="hidden");
function Ob(){function a(){d=null;var a=$a.documentElement.clientWidth,c=r.innerHeight,g=(~~r.orientation+360)%360,m=b[0];hb&&((~~g+360)%180&&(m=b[1]),cb&&a==m[1]&&(Mb.style.display=Lb.style.display="none",m[0]=m[1]=0),a<m[0]&&(a=m[0]),c<m[1]&&(c=m[1]));a==parseInt(Mb.style.width)&&c==parseInt(Mb.style.height)?(m[0]=a,m[1]=c,ab.style.height=parseInt(Lb.style.height)+c+"px",Mb.style.display=Lb.style.display="",Db()):(e(),tb(),r.scrollTo(0,parseInt(Lb.style.height)),Mb.style.width=a+"px",Mb.style.height=
c+"px")}function e(b){bb&&(Mb.style.display=Lb.style.display="none");b&&"resize"==b.type||(ab.style.height=2*r.innerHeight+"px");clearTimeout(d);d=setTimeout(a,250)}var d,b=[[0,0],[0,0]];ta(r,"orientationchange",bb?e:function(){Mb.style.display=Lb.style.display="none";var a=b[(~~((~~r.orientation+360)%360)+360)%180?1:0];a[0]=a[1]=0;e()});ta(r,"resize",e);e()}
function Pb(a,e,d){var b=e/t+"px",f=d/t+"px";if(a.width!=e||a.height!=d)a.width=e,a.height=d;a=a.style;if(a.width!=b||a.height!=f)a.width=b,a.height=f}
function Qb(){K.a=2;K.a=3==H.a?p.check&24?3:~~p.yama:~~p.yama;0==K.a&&p.desktop&&(K.a=1);Rb();M.Bf();var a=Sb,e=Tb;ab.parentNode.style.fontSize=~~((a-2*N[1])/t/30)+"px";Ub.style.width=(a+(3==H.a&&Mb.offsetHeight<Mb.offsetWidth?(a-2*N[1])/8:0))/t+"px";Ub.style.height=e/t+"px";Pb(Vb.u.canvas,a,e);Pb(Q.u.canvas,Wb,e);Pb(Xb.u.canvas,Wb,e);a=-~~((Wb-a)/2/t);Q.u.canvas.style.marginLeft=Xb.u.canvas.style.marginLeft=a+"px";Yb.fa();R.K();Zb.K();$b.style.left=~~(R[80]/t)+a+"px";$b.style.top=~~(R[81]/t)+"px";
e=ac.u.canvas;e.style.marginLeft=~~(R[32]/t)+a+"px";e.style.marginTop=~~(R[33]/t)+"px";Pb(e,R[34],R[35]);Vb.S();ac.S();Q.Jb();S.K();v.K();C.K();bc.K();Nb.style.top=Ub.offsetHeight+S.b.offsetHeight+"px";(a=$a.getElementById("loading"))&&a.parentNode.removeChild(a)}function Db(){Db=Qb;v.ka(11,r.tenhouEventInfo&&!$a.referrer.match(/^https?:\/\/tenhou.net/))}
function tb(a){var e=r.StatusBar;if(e){oa&&cb&&e.backgroundColorByHexString("#000");var d=$a.documentElement.clientWidth,b=r.innerHeight;!a&&b<d?(e.overlaysWebView(!0),e.hide()):(e.overlaysWebView(!1),e.show())}}oa&&ta($a,"resume",Ua(function(){Vb.S();ac.S();Q.Jb();var a=Xb.u;a.clearRect(0,0,a.canvas.width+1,a.canvas.height+1)},1));var Ub=kb("DIV",Mb,"nosel tbl",{},{margin:"0 auto",position:"relative"});function cc(a,e){var d=arguments;a.beginPath();a.moveTo(d[2],d[3]);for(var b=4;b<d.length;)switch(d[b++]){case 0:b+=2;break;case 1:a.lineTo(d[b++],d[b++]);break;case 2:a.arcTo(d[b++],d[b++],d[b+1],d[b+2],e)}a.closePath()}function dc(a,e,d,b,f){var c=~~(.5*T[0]);cc(a,c,e+c,d+f,2,e+b,d+f,2,e+b,d,2,e,d,2,e,d+f,0,e+b,d+f+.01)}
var Vb=function(){function a(a,d,b,f,c){c&&(a.fillStyle=c,a.fillText(d,1,b+0),a.fillText(d,-1,b+0),a.fillText(d,0,b+1),a.fillText(d,0,b-1),a.fillText(d,1,b+1),a.fillText(d,-1,b+1),a.fillText(d,1,b-1),a.fillText(d,-1,b-1));f&&(a.fillStyle=f,a.fillText(d,0,b))}return{u:kb("CANVAS",Ub,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),S:Ua(function(){var e=Vb.u;if(e&&(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width+1,e.canvas.height+1),M.mb.complete&&M.mb.height&&e.drawImage(M.mb,
0,0),-1!=H.la)){var d=Q.u.canvas.offsetLeft*t,b=R[16]+d,f=R[17],c=R[18],g=R[19],m=T[0],k=~~(.5*m);e.fillStyle="#000";dc(e,b,f,c,g);e.globalAlpha=.2;e.fill();e.globalAlpha=1;var h=3*N[1],l=3*U[0],n=[e];n.push(k,b,f+g);H.B[0]&&n.push(2,b,f+g+l,2,b+c+h,f+g+l,2,b+c+h,f+g+m,1,b+c,f+g+m);n.push(1,b+c,f+g);H.B[1]&&n.push(2,b+c+h,f+g,2,b+c+h,f-l,2,b+c+m,f-l,1,b+c+m,f);n.push(1,b+c,f);H.B[2]&&n.push(2,b+c,f-l,2,b-h,f-l,2,b-h,f-m,1,b,f-m);n.push(1,b,f);H.B[3]&&n.push(2,b-h,f,2,b-h,f+g+l,2,b-m,f+g+l,1,b-m,f+
g);cc.apply(this,n);e.globalAlpha=.15;e.fill();e.globalAlpha=1;for(b=0;4>b;++b)H.B[b]&&(e.setTransform(1,0,0,1,d,0),e.fillStyle="#000",c=48+4*b,f=e,dc(f,R[c+0],R[c+1],R[c+2],R[c+3]),f.globalAlpha=.15,f.fill(),f.globalAlpha=1,f=Math.min(R[c+2]/2,R[c+3]/2),e.textAlign="center",e.textBaseline="middle",e.setTransform(1,0,0,1,R[c+0]+~~(R[c+2]/2)+d,R[c+1]+~~(R[c+3]/2)),e.rotate(270*b*Math.PI/180),c=0==b||3==b?"rgba(255,255,255,0.25)":"rgba(191,191,191,0.25)",g=void 0,u.sb||(c=0==b||3==b?"rgba(255,255,255,0.80)":
"rgba(191,191,191,0.80)",g="rgba(0,0,0,0.50)"),m=-.1,1800<=H.Ua[b]&&(e.font="normal "+.3*f+"px sans-serif",a(e,"R"+~~H.Ua[b],-.55*f,c,g),m=0),e.font="normal "+.9*f+"px cwTeX-Q-Kai-T,icons2,serif",a(e,ba[H.$a[b]],f*m,c,g),e.font="normal "+.25*f+"px sans-serif",a(e,H.B[b],f*(.55+m),c,g));e.fillStyle="#000";e.setTransform(1,0,0,1,d,0);for(b=0;4>b;++b)H.B[b]&&(d=b?0:T[4],f=R[80+2*b],c=R[81+2*b],g=R[96+2*b],m=R[97+2*b],0==b&&(ty0=R[97]),k=e,dc(k,Math.min(f,g),Math.min(c,m)+d,Math.abs(f-g)+N[b],Math.abs(c-
m)+U[b]+T[b]-d),k.globalAlpha=.2,k.fill(),k.globalAlpha=1)}})}}();var Q=function(){function a(a,b,c,d){if(c&&d){var h=Q.u;h.clearRect(a,b,c,d);c=a+c;d=b+d;for(var l,e=0;l=R.ta[e];++e){var k=l.i;if(void 0!==k&&0!==l.v&&k.Ba.complete&&k.Ba.height){var g=l.wa.c+k.offsetX,f=l.wa.h-l.wa.Ea+k.offsetY;if(!(c<=g||d<=f)){var m=g+k.ia;if(!(m<=a)){var D=f+k.ya;if(!(D<=b)){var ca=a-g;0<ca?g=a:ca=0;c<m&&(m=c);var m=m-g,pa=b-f;0<pa?f=b:pa=0;d<D&&(D=d);D-=f;h.globalAlpha=l.v;h.drawImage(k.Ba,k.cb+ca,k.eb+pa,m,D,g,f,m,D);l.ca&&(k=l.ja,h.globalAlpha=l.ca,h.drawImage(k.Ba,k.cb+ca,
k.eb+pa,m,D,g,f,m,D))}}}}}h.globalAlpha=1}}function e(a,d,h,l){c&&g?(a<b?(c+=b-a,b=a):h+=a-b,c<h&&(c=h),d<f?(g+=f-d,f=d):l+=d-f,g<l&&(g=l)):(b=a,f=d,c=h,g=l)}var d=Ua(function(){var b=Q.u;b.clearRect(0,0,b.canvas.width+1,b.canvas.height+1);for(var c,h=0;c=R.ta[h];++h){var d=c.i;if(void 0!==d&&0!==c.v&&d.Ba.complete&&d.Ba.height){var n=c.wa.c+d.offsetX,e=c.wa.h-c.wa.Ea+d.offsetY;b.globalAlpha=c.v;b.drawImage(d.Ba,d.cb,d.eb,d.ia,d.ya,n,e,d.ia,d.ya);if(c.ca){var g=c.ja;b.globalAlpha=c.ca;b.drawImage(g.Ba,
g.cb,g.eb,d.ia,d.ya,n,e,d.ia,d.ya)}}}Q.Ma=a},1),b,f,c,g;return{u:kb("CANVAS",Ub,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),Jb:function(){(Q.Ma=d)()},Ca:function(){b=f=c=g=0;Q.Ma=e},Da:function(){a(b,f,c,g);Q.Ma=a},Ma:a}}();var ac=function(){function a(a,b){for(var c=ac.u,d=[],k=2;k<arguments.length;k+=5){c.font=arguments[k+0];var h=c.measureText(arguments[k+3]).width;d.push(h);a-=h/2}for(k=2;k<arguments.length;k+=5)c.font=arguments[k+0],c.fillStyle=e[arguments[k+1]],(h=e[arguments[k+2]])?(c.shadowBlur=2*t,c.shadowColor=h,c.shadowOffsetX=1*t,c.shadowOffsetY=1*t):(c.shadowBlur=0,c.shadowColor="#000",c.shadowOffsetX=0,c.shadowOffsetY=0),h=d.shift(),c.fillText(arguments[k+3],a+h/2,b+arguments[k+4]),a+=h}var e="#FFF #666 #000 #00F #F00 #AAA".split(" "),
d=0,b=0;return{u:kb("CANVAS",Ub,"",{},{position:"absolute",display:"none"}).getContext("2d"),S:function(e,c){void 0!==e&&(d=e);void 0!==c&&(b=c);var g=ac.u,f=g.canvas.width,k=g.canvas.height,h=Math.min(.18*f,.18*k);if(1==K.a||3==K.a)h*=.9;g.save();g.setTransform(1,0,0,1,0,0);g.clearRect(0,0,f+1,k+1);dc(g,1,1,f-2,k-2);u.sb?(g.fillStyle="#222",g.fill()):(g.globalAlpha=.75,g.fillStyle="#222",g.fill(),g.globalAlpha=1);g.strokeStyle="#111";g.lineWidth=1;g.stroke();var l=b,n=.24*h,x=.02*h,E=ac.u,w=E.canvas.width,
B=E.canvas.height,y=E.createLinearGradient(0,0,l&1?0:w,l&1?B:0);y.addColorStop(0,"rgba(0,127,0,0)");y.addColorStop(.2,"rgba(0,127,0,255)");y.addColorStop(.8,"rgba(0,127,0,255)");y.addColorStop(1,"rgba(0,127,0,0)");E.fillStyle=y;switch(l){case 0:E.fillRect(0,B-n-x,w,n);break;case 1:E.fillRect(w-n-x,0,n,B);break;case 2:E.fillRect(0,x,w,n);break;case 3:E.fillRect(x,0,n,B)}l="normal "+1.2*h+"px cwTeX-Q-Kai-T,icons2,serif";n="normal "+.8*h+"px cwTeX-Q-Kai-T,icons2,serif";x=.15*h;g.textAlign="center";g.textBaseline=
"middle";g.setTransform(1,0,0,1,f/2,k/2);E=[[0,k/2-.7*h],[0,f/2-.7*h],[0,k/2-.7*h],[0,f/2-.7*h]];if(3!=d)if(0==d)for(w=0;4>w;++w)E[w].push(l,(4+w-H.la)%4?1:0,-1,H.pb[w]+" ",0,l,H.connected&1<<w?0:4,2,void 0===H.pa[w]?"-":H.pa[w]/100,0,n,1,-1,"00",x);else if(E[0].push(l,0,2,H.pb[0]+" ",0,l,0,2,void 0===H.pa[0]?"":H.pa[0]/100,0),E[1].push(l,0,2,void 0===H.pa[1]?"":Ya((H.pa[1]-H.pa[0])/100),0),E[2].push(l,0,2,void 0===H.pa[2]?"":Ya((H.pa[2]-H.pa[0])/100),0),E[3].push(l,0,2,void 0===H.pa[3]?"":Ya((H.pa[3]-
H.pa[0])/100),0),~H.s&512)E[0].push(n,1,-1,"00",x);else for(w=0;4>w;++w)E[w].push(l,0,2," "+H.Je[w],0);H.B[0]&&a.apply(this,E[0]);g.rotate(270*Math.PI/180);H.B[1]&&a.apply(this,E[1]);g.rotate(270*Math.PI/180);H.B[2]&&a.apply(this,E[2]);g.rotate(270*Math.PI/180);H.B[3]&&a.apply(this,E[3]);3==d?(g.setTransform(1,0,0,1,f/2,k/2),g.fillStyle="#FFF",a(0,0,l,0,2,"天鳳",0)):0==d?(g.setTransform(1,0,0,1,f/2,k/2-.75*h/2),g.fillStyle="#FFF",l="normal "+1.7*h+"px cwTeX-Q-Kai-T,icons2,serif",n=H.oa[0],
a(0,0,l,0,~~(n/4)&1?4:3,"東南西北".substr(~~(n/4),1),0,l,0,n%4==(H.s&16?2:3)?4:2,n%4+1,0,l,1,-1,"局",0),w=(f-2.8*h)/2,g.beginPath(),g.moveTo(-w,.75*+h),g.lineTo(+w,.75*+h),l=g.createLinearGradient(-w,0,+w,0),l.addColorStop("0.0","rgba(15,15,15,0)"),l.addColorStop("0.5","rgba(15,15,15,1)"),l.addColorStop("1.0","rgba(15,15,15,0)"),g.strokeStyle=l,g.lineWidth=1,g.stroke(),g.setTransform(1,0,0,1,f/2,k/2+1.7*h/2-.75*h/2+.3*h),l="normal "+.75*h+"px cwTeX-Q-Kai-T,icons2,serif",n="normal "+
.5*h+"px cwTeX-Q-Kai-T,icons2,serif",x=.12*h,f=K.Qe(b),a(0,0,l,0,f<(H.s&16?6:8)?4:2,f+" ",0,n,5,-1,"",x,l,0,2,H.oa[1],0,n,5,-1,"",x,l,0,2,H.oa[2],0)):(l="normal bold "+.75*h+"px sans-serif",g.setTransform(1,0,0,1,f/2,k/2),g.fillStyle="#FFF",a(0,0,l,0,2,4==H.a?"天鳳":ka(H.s),0));g.restore()},ka:function(){}}}();
(function(){function a(a,e){ac.S(e||1);if(d){var b=d;delete ec()[b];d=void 0}}function e(){a(0,2);d=fc(function(){d=void 0;ac.S(0)},2E3)}var d=void 0;xa(ac.u.canvas,{touchstart:function(){ac.S(1)},touchend:e,touchcancel:function(){ac.S(0)},mouseover:a,mouseout:e})})();var Xb=function(){function a(a){var k=Xb.u;0<c&&0<g&&k.clearRect(b,f,c,g);var h=b=f=c=g=0,l;for(l in e){var n=e[l];if(0>n.t)n.t+=a;else if(n.t<n.qa){var x=n.i,m=~~(n.Wa+(n.vf-n.Wa)*n.t/n.qa),w=~~(n.Lb+(n.wf-n.Lb)*n.t/n.qa),B=x.ia,y=x.ya;x.Ba.complete&&x.Ba.height&&(k.globalAlpha=n.v,k.drawImage(x.Ba,x.cb,x.eb,B,y,m,w,B,y));n.t+=a;c&&g?(m<b?(c+=b-m,b=m):B+=m-b,c<B&&(c=B),w<f?(g+=f-w,f=w):y+=w-f,g<y&&(g=y)):(b=m,f=w,c=B,g=y)}else n.Eb&&n.Eb.ga(n.nf),delete e[l];++h}k.globalAlpha=1;h||(gc(),d&&d.length&&
(d.shift()(),++h));return h}var e,d,b,f,c,g;return{u:kb("CANVAS",Ub,"",{},{position:"absolute",pointerEvents:"none"}).getContext("2d"),$:!1,ra:function(){d=[];e={};b=f=c=g=0;var a=Xb.u;a.clearRect(0,0,a.canvas.width+1,a.canvas.height+1)},O:function(b,c,h,l,n,g,f,w,B,y){if(Xb.$)return b instanceof Function?b():c instanceof hc?c.ga(h):B&&B.ga(y),0;var k=ec();k.pf||(k.pf=a);if(b instanceof Function)return d.push(b),0;k=e[Za++]={};k.t=-b;c instanceof hc?(B=c,y=h,k.qa=0):(k.v=w,k.i=f,void 0===f&&ob("animation src undefined"),
k.Wa=c,k.Lb=h,k.vf=l,k.wf=n,0<g?(c=l-c,h=n-h,k.qa=~~(Math.sqrt(c*c+h*h)/(N[0]*g))):k.qa=-g);B&&(k.Eb=B,k.nf=y);return b+k.qa},Ha:function(){for(;a(1E4););}}}();Gb({JP:{jb:"槓",Za:"拔",ce:"ポン",be:"チー",Xb:"カン",Yb:"拔き"},EN:{jb:"Kan",Za:"Nuki",ce:"Pon",be:"Chii",Xb:"Kan",Yb:"Nuki"}});
var Zb=function(){for(var a=[],e=0;4>e;++e)a[e]=kb("DIV",Ub,"nosel tbl ts0 rot"+Va(3,270*e%360),{},{fontSize:"80%",pointerEvents:"none",textAlign:"right",display:"none"});var d=[1,2,3,4,5,6,7,8,0,10,11,12,13,14,15,16,17,9,19,20,21,22,23,24,25,26,18,28,29,30,27,32,33,31];return{ra:function(){for(var b=0;4>b;++b)a[b].style.display="none"},wb:function(b){var e=a[b],c=V[16|b].length;if(c){for(var g=c,m=[],k=0;k<V[16|b].length;++k){var h=V[16|b][k];16==h&&(g+=1);m[h]=1}m[0]&&m[1]&&m[2]&&m[3]&&(g+=4);m[16]&&
m[17]&&m[18]&&m[19]&&(g+=4);m[32]&&m[33]&&m[34]&&m[35]&&(g+=4);m[120]&&m[121]&&m[122]&&m[123]&&(g+=4);for(k=5;k<H.oa.length;++k)b=d[H.oa[k]>>2],0!=(H.s&2048)?1==b?b=4:5==b&&(b=8):H.s&16&&1==b&&(b=8),b*=4,g+=~~m[b+0]+~~m[b+1]+~~m[b+2]+~~m[b+3];m="";0!=(H.s&2048)&&(m+=g+'<span style="font-size:50%;">+</span><br>');e.style.display="";e.innerHTML='<div class=tbc style="vertical-align:bottom;padding:0 0.1em;">'+(m+('<span style="font-size:60%;">x</span>'+c+"<br>"))+"</div>"}else e.style.display="none"},
K:function(){for(var b=0;4>b;++b){var d=a[b].style;d.width=d.height=~~(Math.min(N[b],U[b])/t)+"px";var c=-(0==b?N[0]:ic[b]);d.left=~~((R[96+2*b]+-(1==b?U[1]:jc[b]))/t)+Q.u.canvas.offsetLeft+"px";d.top=~~((R[97+2*b]+c)/t)+"px"}}}}(),mc=function(){function a(a){return'<span style="pointer-events:none;vertical-align:middle;">'+a+"</span>"}function e(){for(var a in v)if(!(~a&262144)&&(v[a].parentNode.style.visibility=d[a]?"":"hidden",d[a]&&2===d[a].length)){var e=d[a][0],c=d[a][1];M.xa(v[a],"",4,.8,e,
c);d[2098693]=d[a]={tag:"N",type:e>>2==c>>2?1:3,hai0:e,hai1:c}}}var d={};return{sf:function(b,f){if(1==H.a||4==H.a){var c=0;d={};b&32&&(d[2359814]={tag:"REACH"});b&16&&(d[2359816]={tag:"N",type:7});b&64&&(d[2359815]={tag:"N",type:9});0<K.Qe(0)&&4>K.ib-V[16].length-V[17].length-V[18].length-V[19].length&&(b|=2);var g=[];if(b&2)for(var m,k=(H.s&16?16:17)-1;m=R[2048|k];--k)if(void 0!==m.Ka.ob){for(var h=0;h<V[32].length&&V[32][h]!=m.Ka.ob;++h);h<V[32].length&&g.push({tag:"N",type:5,hai:V[32][h]})}if(b&
2)if(m=V[48],V[64])k=""+V[64],h=f>>2,4==m[h]&&(m[h]-=4,""+sb.nb(m)==k&&g.push({tag:"N",type:4,hai:4*h}),m[h]+=4);else for(h=0;34>h;++h)4>m[h]||g.push({tag:"N",type:4,hai:4*h});g.length||(b&=-3);g.length&&(d[2098693]=d[401412]=g[0],M.xa(v[401412],a(I.jb)+" ",4,.7,g[0].hai),g.shift(),++c);g.length&&(d[2098693]=d[401416]=g[0],M.xa(v[401416],a(I.jb)+" ",4,.7,g[0].hai),g.shift(),++c);g.length&&(d[2098693]=d[401417]=g[0],M.xa(v[401417],a(I.jb)+" ",4,.7,g[0].hai),g.shift(),++c);if(b&128)if(0==(H.s&2048)||
V[64])d[2098693]=d[401414]={tag:"N",type:10},v[401414].innerHTML=I.Yb,++c;else{m=[];for(k=0;k<V[32].length;++k)if(g=V[32][k],h=g>>2,0==h||4==h||8==h||30==h)m[g]={tag:"N",type:10,hai:g};g=[401414,401415,401418,401419,401417];if(h=m[120]||m[121]||m[122]||m[123])d[2098693]=d[g[0]]=h,M.xa(v[g[0]],a(I.Za)+" ",4,.7,h.hai),g.shift(),++c;if(h=m[0]||m[1]||m[2]||m[3])d[2098693]=d[g[0]]=h,M.xa(v[g[0]],a(I.Za)+" ",4,.7,h.hai),g.shift(),++c;if(h=m[16])d[2098693]=d[g[0]]=h,M.xa(v[g[0]],a(I.Za)+" ",4,.7,h.hai),
g.shift(),++c;if(h=m[17]||m[18]||m[19])d[2098693]=d[g[0]]=h,M.xa(v[g[0]],a(I.Za)+" ",4,.7,h.hai),g.shift(),++c;if(h=m[32]||m[33]||m[34]||m[35])d[2098693]=d[g[0]]=h,M.xa(v[g[0]],a(I.Za)+" ",4,.7,h.hai),g.shift(),++c}e();v.X(512);v[2098693].parentNode.style.visibility=1==c?"":"hidden";v[3670533].parentNode.style.visibility=1<c?"":"hidden";1==c&&(v[2098693].innerHTML=b&128?I.Yb:b&2?I.Xb:"?");b&&kc(8,0,0);return b}},qf:function(b,f){if(1==H.a||4==H.a){for(var c=~~(f/4/9),g=~~(f/4)%9,m={},k=0;k<V[32].length;++k){var h=
V[32][k],l=~~(h/4);if(3>c&&2<=g&&l==9*c+g-2||3>c&&1<=g&&l==9*c+g-1||l==9*c+g||3>c&&7>=g&&l==9*c+g+1||3>c&&6>=g&&l==9*c+g+2)l|=K.Gb(h)<<8,m[l]?m[l].push(h):m[l]=[h]}k=0;d={2360326:{tag:"N"}};b&8&&(d[2360328]={tag:"N",type:6});h=m[0|9*c+g]||[];l=m[256|9*c+g]||[];b&2&&3==h.length+l.length&&(M.xa(v[409604],a(I.jb)+" ",4,.8,(l.length?l:h)[0]),d[2098693]=d[409604]={tag:"N",type:2},++k);b&1&&(1==l.length&&2==h.length?(d[409606]=[h[0],h[1]],d[409607]=[l[0],h[0]],k+=2):2<=h.length?(d[409607]=[h[0],h[1]],++k):
1==l.length&&1==h.length&&(d[409607]=[l[0],h[0]],++k));if(b&4)for(var n=0;3>n;++n){var x=(n&1)<<8,E=(n&2)<<7;(h=m[x|9*c+g-2])&&(l=m[E|9*c+g-1])&&(d[n?409614:409610]=[h[0],l[0]],++k);(h=m[x|9*c+g-1])&&(l=m[E|9*c+g+1])&&(d[n?409613:409609]=[h[0],l[0]],++k);(h=m[x|9*c+g+1])&&(l=m[E|9*c+g+2])&&(d[n?409612:409608]=[h[0],l[0]],++k)}d[409607]&&!d[409606]&&(d[409606]=d[409607],delete d[409607]);d[409614]&&!d[409610]&&(d[409610]=d[409614],delete d[409614]);d[409613]&&!d[409609]&&(d[409609]=d[409613],delete d[409613]);
d[409612]&&!d[409608]&&(d[409608]=d[409612],delete d[409612]);e();v.X(1024);bc.l(0,v[2360326]);v[2098693].parentNode.style.visibility=1==k?"":"hidden";v[3671045].parentNode.style.visibility=1<k?"":"hidden";1==k&&(v[2098693].innerHTML=b&4?I.be:b&1?I.ce:b&2?I.Xb:"?");b&&kc(8,0,0)}},rf:function(a){if(1==H.a||4==H.a)d={2360326:{tag:"N"}},a&8&&(d[2360328]={tag:"N",type:6}),e(),v.X(1024),bc.l(0,v[2360326]),v[2098693].parentNode.style.visibility=v[3671045].parentNode.style.visibility="hidden",a&&kc(8,0,
0)},L:function(a){bc.Y();v.X(256);lc();4==H.a?C.Ue(d[a]):W.L(d[a])}}}();
function nc(a){var e=~~a.m,d=e&3,b;if(e&4){a[2]=3;b=(e&64512)>>10;var f=b%3;b=~~(b/3);b=4*(9*~~(b/7)+b%7);b=[b+0+((e&24)>>3),b+4+((e&96)>>5),b+8+((e&384)>>7)];b.splice(0,0,b.splice(f,1)[0])}else e&24?(a[2]=e&16?5:1,a[4]=(e&96)>>5,b=(e&65024)>>9,f=b%3,b=4*~~(b/3),b=[b+0,b+1,b+2,b+3],a[4]=b.splice(a[4],1)[0],b.splice(d^3,0,b.splice(f,1)[0]),e&16&&(b=[a[4]])):e&32?(a[2]=10,b=[(e&65280)>>8]):0==d?(a[2]=4,b=(e&65280)>>8&-4,b=[b+2,b+0,b+1,b+3]):(a[2]=2,e=(e&65280)>>8,b=e&-4,b=[b+0,b+1,b+2,b+3],b.splice(e&
3,1),b.splice(1==d?3:d^3,0,e));a[3]=d;a[0]=b};Gb({JP:{Vb:"鳴き",Od:"ツモ",Nd:"ロン",Md:"リーチ",Pd:"流局",Ld:"終了",Xd:"鳴きなし",Ud:"自動理牌",Wd:"不聴宣言",Vd:"自動和了",Yd:"ツモ切り",Qd:"暗転",Rd:"待ち",Sd:"手牌",Td:"牌山",Wb:"匿名表示",Zd:"視",$d:"局",ae:"巡"},EN:{Vb:"Call",Od:"<b>Tsumo</b>",Nd:"<b>Ron</b>",Md:"Riichi",Pd:"Redeal",Ld:"Exit",Xd:"NoCall",
Ud:"Sort",Wd:"CallNoten",Vd:"AutoWin",Yd:"DropAll",Qd:"Gray",Rd:"Wait",Sd:"Hand",Td:"Wall",Wb:"Anonymous",Zd:"Player",$d:"Round",ae:"Turn"}});
for(var v=function(){function a(a,b,d){var c=v[a];d?c.innerHTML='<span class=nobr style="pointer-events:none;'+(v.o[a]?"":"color:#888;")+'">'+(v.o[a]?"":"")+b+"</span>":(c.innerHTML='<span style="pointer-events:none;'+(v.o[a]?"":"color:#888;")+'">'+b+"<br>"+(v.o[a]?"":"")+"</span>",c.parentNode.style.fontSize="85%")}function e(b){b&&(v.o[b]=!v.o[b]);var c=p.desktop&1;a(1183749,I.Xd,c);a(1183750,I.Ud,c);a(1183751,I.Wd,c);a(1183752,I.Vd,c);a(1183753,I.Yd,c);1183750==b&&v.o[1183750]&&
(V.ub(0),V.tb())}function d(b){b&&(v.o[b]=!v.o[b]);a(1277961,I.Qd);a(1277957,I.Rd);a(1277960,I.Sd);a(1212429,I.Td);p.check=p.check&-32|(v.o[1277961]?0:1)|(v.o[1277957]?0:2)|(v.o[1277960]?0:4)|(v.o[1212429]?24:0);1212429==b&&(K.a=p.check&24?3:~~p.yama,0==K.a&&p.desktop&&(K.a=1),Db());b&&(3==H.a&&ub.Ra(0),2==H.a&&vb.Ib())}function b(a){for(var b=1;b<arguments.length;++b)arguments[b].parentNode.style.visibility=a}return{b:kb("DIV",Mb,"nosel",{},{position:"absolute",display:"none",color:"#FFF",fontFamily:"icons2,sans-serif",
fontSize:"140%"}),a:0,o:{},X:function(a){v.a=126976==a?v.a&3840:a&126976?a|v.a&3840:a|v.a&102400;a=v.a&126976?v.a&126976:v.a&3840;256==a&&3==H.a&&(a=2048);for(var c in v)if(1572868!=c){var g=v[c];g!=v.b&&g.tagName&&(g.parentNode!=v.b&&(g=g.parentNode),g.style.display=!a||~c&a?"none":"")}v[1572868].parentNode.style.display=v.a&126976?"none":"";c=p.desktop&1;if(4096==a||c)e(),b(1==H.a&&~H.s&1?"":"hidden",v[495623]),b("hidden",v[1183751]);32768==a||65536==a?(b(!oa&&u.hb?"hidden":"",v[495623]),d()):256==
a&&b("hidden",v[2360326]);oc.Va&&oc.Va();if(1==H.a&&c){v[1572868].parentNode.style.display="none";a=[v[495623],v[1183749],v[1183750],v[1183752],v[1183753]];for(c=0;c<a.length;++c)a[c].parentNode.style.display="";e()}},K:function(){v.b.style.left=Ub.offsetLeft+"px";v.b.style.top=Ub.offsetTop+"px";var a=~~(R[82]/t),b=~~(R[81]/t),d=~~((R[82]-R[86]-N[1])/4/t),e=~~((R[81]-R[33])/2.5/t),e=Math.max(e,~~((U[4]+T[4])/t));3==H.a&&(Mb.offsetHeight<Mb.offsetWidth?a=~~(Sb/t)+~~(.5*d):b=~~(Tb/t)+e);var k=p.desktop&
1,h;for(h in v){var l=v[h];if(l!=v.b&&l.parentNode){var n=l.style;l.parentNode.parentNode==v.b&&(n=l.parentNode.style);var x=((h&3)>>0)+1,E=(h&12)>>2;k&&2360326==h&&(x=1);n.left=a-d*x+"px";n.top=b-e*E+"px";n.width=d+"px";n.height=e+"px";n.fontSize="";l.style.border="solid 1px "+(h&131072?"#222":"rgba(0,0,0,0.25)");h&131072?(l.classList.remove("ts0"),l.classList.add("bgb")):(l.classList.remove("bgb"),l.classList.add("ts0"))}}if(1==H.a){if(h=[v[1183749],v[1183753],v[1183752],v[1183751],v[1183750],null,
v[495623]],k)for(d=~~(Sb/t/8),e=~~(U[1]/t),a=(R[80]+13*N[4])/t+Q.u.canvas.offsetLeft,b=Ub.offsetHeight-1*e,k=0;k<h.length;++k)h[k]&&(n=h[k].parentNode.style,n.left=a-d*(k+1)+"px",n.top=b+"px",n.width=d+"px",n.height=e+"px",n.fontSize="50%",h[k].classList.remove("bgb"),h[k].classList.add("ts0"),h[k].style.borderStyle="none")}else 3==H.a&&(v[1574918].style.borderColor=v[1574917].style.borderColor=v[1572868].style.borderColor=3==H.a?"#444":"rgba(0,0,0,0.25)",Mb.offsetHeight<Mb.offsetWidth&&(k=~~(1.5*
e),d=~~(.5*d),Mb.offsetWidth<a&&(a=~~Mb.offsetWidth,d=Mb.offsetWidth-~~(Sb/t)),n=v[1574918].parentNode.style,n.width=d+"px",n.height=k+"px",n.left=a-1*d+"px",n.top=b-e-2*k+"px",n=v[1574917].parentNode.style,n.width=d+"px",n.height=k+"px",n.left=a-1*d+"px",n.top=b-e-1*k+"px",n=v[1572868].parentNode.style,n.width=d+"px",n.height=e+"px",n.left=a-1*d+"px",n.top=b-e-0*k+"px"))},ka:function(a,b){switch(a){case 2360326:bc.Ie();break;case 409606:case 409607:case 409604:case 409610:case 409609:case 409608:case 409614:case 409613:case 409612:case 401412:case 401416:case 401417:case 401414:case 401415:case 401418:case 401419:case 2359815:case 2360328:case 2359816:case 2359814:case 2098693:mc.L(a);
break;case 3670533:v.X(8192);break;case 3671045:v.X(16384);break;case 1572868:4==H.a?C.ic(1):v.X(3==H.a?32768:2==H.a?65536:4096);break;case 3678213:case 3686405:case 1675268:v.X(126976);break;case 1574917:ub.Ra(1);break;case 1574918:ub.Ra(-1);break;case 1802246:v.X(126976);for(var c="",f=0;4>f;++f)H.B[f]&&(c+='<div class=A id="#tw-'+f+'"><span class=dan'+~~H.$a[f]+">"+ba[~~H.$a[f]]+"</span>"+(1800<H.Ua[f]?"R"+~~H.Ua[f]:"")+"　"+H.B[f]+"</div>");!1===v.o[14]&&(c+='<div class=A id="#tw-4">('+I.Wb+
" ON)</div>");!0===v.o[14]&&(c+='<div class=A id="#tw-4">('+I.Wb+" OFF)</div>");A.Z(c,"font-size:75%;text-align:left;",0);break;case 1736718:v.X(126976);ub.Te();break;case 1736714:v.X(126976);ub.Se();break;case 1183749:case 1183750:case 1183751:case 1183752:case 1183753:e(a);break;case 1277961:case 1277957:case 1277960:case 1212429:d(a);break;case 425995:3==H.a&&A.l('<div style="text-align:left;font-size:75%;">'+I.Ic+"</div>");break;case 495623:if(u.hb){history.back();break}case 11:v.X(126976),-1!=
H.la&&(u.hb||(delete u.log,delete u.wg),ub.fa(),vb.fa(),H.fa()),v.o[14]=!1,H.a=0,u.log?(H.a=3,W.Y()):u.wg?H.a=2:(v.b.style.display="none",H.a=1),Db(),b?C.l({tag:"SPLASH"}):u.log?(ub.mf(u.log),v.K(),S.K()):u.wg?(W.Db(),W.L({tag:"HELO",name:"NoName",sx:"M"})):(W.Db(),C.l({tag:495623==a?"AUTOLOGIN":"LOGIN"}))}}}}(),pc=[2360326,"&times;",2098693,"",3670533," "+I.Vb,3671045," "+I.Vb,1572868,"",3678213,"&times;",3686405,"&times;",1675268,"&times;",2359816,I.Od,2360328,I.Nd,2359814,I.Md,401414,
"",401415,"",401418,"",401419,"",2359815,I.Pd,401412,"",401416,"",401417,"",409610,"",409609,"",409608,"",409614,"",409613,"",409612,"",409606,"",409607,"",409604,"",1574918,"",1574917,"",425995,"?",495623,I.Ld,1183749,"",1183750,"",1183751,"",1183752,"",1183753,"",1277961,"",1277957,"",1277960,"",1212429,"",1802246,I.Zd+' <span style="font-size:25%;vertical-align:50%;">▼</span>',1736714,I.$d+' <span style="font-size:25%;vertical-align:50%;">▼</span>',1736718,I.ae+' <span style="font-size:25%;vertical-align:50%;">▼</span>'],
qc=0;qc<pc.length;qc+=2){var rc=pc[qc+0],sc=kb("DIV",v.b,"tbl",{},{position:"absolute"});v[rc]=kb("DIV",sc,"tbc"+(rc&2097152?" bblink":""),{id:"m"+rc,innerHTML:pc[qc+1]},{textAlign:"center",verticalAlign:"middle",pointerEvents:"none"});rc&262144&&(sc.style.display="none");rc&524288&&(v[rc].style.borderRadius="0.6em")}var tc=p.check;v.o[1277961]=!(tc&1);v.o[1277957]=!(tc&2);v.o[1277960]=!(tc&4);v.o[1212429]=!!(tc&24);v[1572868].classList.add("cblink");var bc=function(){var a,e,d,b,f,c,g=kb("DIV",null,"nosel tbl ts0",{},{position:"absolute",pointerEvents:"none",fontFamily:"sans-serif",textAlign:"right"});g.innerHTML='<div class=tbc style="vertical-align:bottom;padding:0 0.1em;"></div>';return{Af:function(a){e=d=a},l:function(d,k,h){g.firstChild.innerHTML="";k||(k=Z.ok);bc.K(k,h);1==H.a&&(("BUTTON"==c.tagName?c.parentNode:c instanceof hc?Ub:c).appendChild(g),a=0>d?-d+1E3:(d||(ia(H.qb,H.s)?3E3:5E3))+e+1E3,f=a-1E3,b=a-1E3,ec().count=function(c){if(0>
b)return bc.Y(),!1;a-=c;if(~~(1+b/1E3)==~~(1+a/1E3))return!0;b=a;0<=a?(0>d?kc(1E3>a?0:3,0,0):3E3>a&&kc(7,0,0),g.firstChild.innerText=~~(a/1E3)):bc.Ie();return!0})},K:function(a,b){a&&(c=a);c instanceof hc&&~c.aa&1&&(c=void 0);if(!c)for(var d=13;(c=R[1024|d])&&!(c.v&&R[1024|d].aa&1);--d);c&&(d=g.style,d.fontSize=ab.style.fontSize,c instanceof hc?(d.left=~~((b?c.c:c.I)/t)+Q.u.canvas.offsetLeft+"px",d.top=~~((b?c.h:c.J)/t)+"px",d.width=~~(N[4]/t)+"px",d.height=~~((U[4]+T[4])/t)+"px"):(d.left=c.offsetLeft+
"px",d.top=c.offsetTop+"px",d.width=(c.offsetWidth||parseInt(c.parentNode.style.width))+"px",d.height=(c.offsetHeight||parseInt(c.parentNode.style.height))+"px"))},Ie:function(){if(c instanceof hc)H.fc(c.R);else if(c&&c.name){if(!c.disabled)C[c.name]()}else bc.Y(),mc.L(2360326)},Re:function(){e<d&&(e+=1E3)},zf:function(){return c},Y:function(){g.parentNode&&(a<e&&(e=1E3*~~(0>a?0:a/1E3)),f<a&&bc.Re(),b=-1,g.parentNode.removeChild(g),c=void 0)}}}();for(var S={b:kb("DIV",Ub,"",{},{position:"absolute"}),K:function(){var a=S.b.style,e=N[4]/t,d=~~Math.min(~~(2*e),(Mb.offsetHeight-Tb/t)/2);3==H.a&&(d=0);if(jb||d<e||p.desktop&1)S.b.style.display="none";else switch(a.top=Ub.offsetTop+(R[81]+U[4]+T[4])/t+"px",a.display="",~~p.cptype){default:case 1:var b=Math.min(2.25*d,Mb.offsetHeight-Ub.offsetHeight);a.width=Ub.offsetWidth+"px";a.height=b+"px";a.background="linear-gradient(to bottom, rgba(0,0,0,1.0) 0%,rgba(0,0,0,1.0) 50%,rgba(24,24,24,1.0) 100%)";
a.borderTop=a.borderBottom="solid 1px #222";for(var f=0;13>=f;++f)S[f].style.display="none";for(f=20;28>=f;++f)a=S[f].style,a.top="0px",a.width=3*e+"px",a.height=b-d+"px",a.display="";S.cc(0);S[30].style.display=S[31].style.display="none";a=S[30].style;a.width="50%";a.height=1*d+"px";a.display="";a.marginTop=b-d+"px";a=S[31].style;a.width="50%";a.height=1*d+"px";a.display="";a.marginTop=b-d+"px";S[30].innerHTML="&#12296;";S[31].innerHTML="&#12297;";S[30].name="CP_L";S[31].name="CP_R";break;case 2:b=
2*e;a.width=7.5*b+1+"px";a.height=2*d+1+"px";a.background="";a.borderTop=a.borderBottom="none";for(var c=V[32],c=c&&c.length?3*~~(c.length/3)+1:13,f=20;28>=f;++f)S[f].style.display="none";for(f=0;13>=f;++f)a=S[f].style,a.width=b+1+"px",a.height=d+1+"px",a.top=d*(f&1)+"px",a.left=R[80]/t+e*f+"px",a.display=f<c?"":"none";S[30].style.display=S[31].style.display="none"}},Xa:function(a,e,d){var b=R[1024|a];if(b&&(b.ma(e,d,!0),!(b.aa&8))){d=!!(b.aa&1)&&b.v;if(!S[20].style.display){var f=N[4]/t;b.aa&6&&
S.gc(R[80]/t+f*(a+.5))}f="";b.aa&4?(d&&bc.K(b),f=d?"#060":"#600"):b.aa&2&&(f=d?"#030":"#300");!f&&e&6||(S[0+a].style.backgroundColor=S[24].style.backgroundColor=f)}},gc:function(a){var e=N[4]/t;a<R[80]/t+0*e&&(a+=3*e);R[80]/t+14*e<a&&(a-=3*e);a=(~~((a-R[80]/t)/e)+.5)*e+R[80]/t;for(var d=20;28>=d;++d)S[d].style.left=~~(a+3*e*(d-24-.5))+"px";return a},cc:function(a){S.gc(~~(S[24].offsetLeft+S[24].offsetWidth/2+N[4]/t*a))}},uc=0;13>=uc;++uc)S[uc]=kb("DIV",S.b,"",{},{position:"absolute",border:"solid 1px #333",
background:"linear-gradient(135deg, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 50%,rgba(255,255,255,0.15) 100%)"}),kb("DIV",S[uc],"",{},{width:"50%",height:uc&1?"25%":"20%",backgroundColor:uc&1?"#333":"#555",pointerEvents:"none"});S[13].parentNode.removeChild(S[13]);
for(uc=20;28>=uc;++uc)S[uc]=kb("DIV",S.b,"",{},{position:"absolute",borderLeftStyle:"none",borderLeft:"solid 1px #333",background:"linear-gradient(135deg, rgba(255,255,255,0) 0%,rgba(255,255,255,0) 50%,rgba(255,255,255,0.10) 100%)"}),kb("DIV",S[uc],"",{},{position:"absolute",marginLeft:"50%",width:"1px",height:"50%",pointerEvents:"none",background:"linear-gradient(to bottom, rgba(195,0,0,1.0) 0%,rgba(255,0,0,1.0) 10%,rgba(0,0,0,0) 100%)"});S[28].style.borderRight="solid 1px #333";
S[30]=kb("BUTTON",S.b,"gray",{name:"CPda"},{background:"none"});S[31]=kb("BUTTON",S.b,"gray",{name:"CPok"},{background:"none"});S[30].style.borderRight="none";function kc(){}var gc=function(){var a={};return function(e,d,b){if(arguments.length){for(var f in a)if(a[f]==e&&b-.008<f&&f<b+.008)return;a[b]=e;kc(e,d,b)}else a={}}}();r.AudioContext=r.AudioContext||r.webkitAudioContext;
(function(){function a(a){function b(){this.removeEventListener("touchend",b,!1);this.removeEventListener("mousedown",b,!1);a()}ta($a,"touchend",b);ta($a,"mousedown",b)}if(AudioContext){var e=new AudioContext,d,b,f={},c=function(){kc=function(a,b,c){!p.nose&&!Xb.$&&0!=a&&d&&f[a]&&(b=e.createBufferSource(),b.buffer=f[a],b.connect(d),b.start?b.start(e.currentTime+c):b.noteOn(e.currentTime+c))}},g=0,m=function(a,b){var d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="arraybuffer";d.onload=function(){200==
this.status&&e.decodeAudioData(this.response,function(a){f[b]=a;--g||c()})};d.send()};bb&&kb("AUDIO",ab,"",{},{position:"absolute",display:"none"});a(function(){d=e.createGain?e.createGain():e.createGainNode();d.connect(e.destination);d.gain.value=.5;b=e.createGain?e.createGain():e.createGainNode();b.connect(e.destination);b.gain.value=0});for(var k=1;25>k;++k)2!=k&&(++g,m("https://cdn.tenhou.net/3/res/snd/"+Va(2,k)+".wav",k))}else{var h={};h[1]=h[8]=h[9]=h[10]=h[12]=h[13]=h[14]=h[15]=h[16]=h[17]=
h[18]=h[19]=h[20]=h[21]=h[22]=h[23]=h[24]=1;for(var l=5,m=function(){this.currentTime&&(this.removeEventListener("timeupdate",arguments.callee,!1),this.pause(),ta(this,"timeupdate",function(){this.endTime<this.currentTime&&(this.pause(),this.ec=0)}),--l||(kc=function(a,b,d){p.nose||Xb.$||0==a||setTimeout(function(){for(var b=0;5>b&&(l=(l+1)%5,!n[l].paused&&h[n[l].ec]&&!h[a]);++b);5!=b&&(b=n[l],b.paused||b.pause(),b.currentTime=2*a,b.endTime=2*a+(1==a?3:1),b.ec=a,b.play())},1E3*d)}))},n=[],k=0;5>k;++k)n[k]=
kb("AUDIO",ab,"",{src:"https://cdn.tenhou.net/3/res/snd/se.m4a"},{position:"absolute",display:"none"}),n[k].endTime=0,n[k].ec=0,n[k].volume=.7,ta(n[k],"timeupdate",m);a(function(){for(var a=0;a<n.length;++a)n[a].play()})}})();if(r.gr&&r.gr.eworx&&r.gr.eworx.AVAudioSessionAdapter){var vc=gr.eworx.AVAudioSessionAdapter;(new vc).setCategoryWithOptions(vc.Categories.PLAYBACK,vc.CategoryOptions.MIX_WITH_OTHERS,function(){},function(){})};Gb({JP:{Ge:" ポン カン チー カン カン ロン ツモ リーチ  キタ パオ".split(" ")},EN:{Ge:" Pon Kan Chii Kan Kan Ron Tsumo Riichi  Kita Pao".split(" ")}});
var Yb=function(){var a={M:[0,12,14,16,14,14,20,22,18,0,9,0],F:[0,13,15,17,15,15,21,23,19,0,9,0]};a[""]=a.C=a.M;var e={};return{b:kb("DIV",Mb,"",{},{position:"absolute",pointerEvents:"none",top:"0px"}),O:function(d,b,f){if(!Xb.$){var c=I.Ge[b];if(c){var g=10*-d,m=kb("SPAN",Yb.b,"tsv nosel",{innerHTML:c},{position:"absolute",fontWeight:"bold",color:"#FFF",opacity:0,whiteSpace:"nowrap"}),k=Ub.offsetWidth/40,h=~~(R[64+2*d]/t)+Ub.offsetLeft+Q.u.canvas.offsetLeft,l=~~(R[65+2*d]/t)+Ub.offsetTop,n=m.style,
x=Za++;f&1&&(e[x]=!0);~f&2&&(n.display="none");ec()[x]=function(c){if(!m.parentNode)return 0;if(0>g)return g+=c,0<g&&(g=0),1;0==g&&f&4&&(kc(a[H.Wa[d]][b],d,0),++g);g+=c;if(250>g)return n.opacity=g/250,n.fontSize=k*(4+(250-g)/250*4)+"px",n.left=h-m.offsetWidth/2+"px",n.top=l-m.offsetHeight/2+"px",1;if(750>g){if(1==n.opacity)return 1;n.opacity=1;n.fontSize=4*k+"px";n.left=h-m.offsetWidth/2+"px";n.top=l-m.offsetHeight/2+"px";return 1}return e[x]?(g-=c,1):1250>g?(n.opacity=(1250-g)/500,1):(m.parentNode.removeChild(m),
0)}}}},fa:function(){for(;Yb.b.firstChild;)Yb.b.removeChild(Yb.b.firstChild)},$b:function(){e={}}}}();var wc=function(){function a(){e=0}var e=0,d;xa(r,{touchstart:a,touchend:a,touchcancel:a,mousedown:a,mouseup:a,mouseover:a,mouseout:a,keydown:a,blur:a});return{Ff:function(a){jb&&2==H.a&&(e=0);e||(e=a);a=18E5-(a-e);0>a&&(location.reload(),e=a=0);2E4>a?(d||(d=kb("DIV",Ub,"ts0",{},{position:"absolute",left:"0px",top:"0px"})),d.innerText="ENTERING POWERSAVING MODE "+~~(a/1E3)):d&&(d.parentNode.removeChild(d),d=null)}}}();var ub=function(){function a(b){if(b){var d=/<([a-zA-Z0-9]+)[^>]*>|[^<]+|<\/(.*)>/g,c=d.exec(b);if(c){var h={};h.tag=c[1];for(var e=/ ([a-zA-Z0-9]+)="([^"]*)"/g,k;k=e.exec(c[0]);)h[k[1]]=k[2];for(;(c=d.exec(b))&&!c[2];)h.childNodes||(h.childNodes=[]),h.childNodes.push(c[1]?a(c[0]):~~c[0]);return h}}}function e(a){for(var b=-1,c=g;0<=--c;){switch(f[c].tag){case "INIT":return c+1;case "N":a=f[c][2];if(2==a||4==a||5==a)b=-1;break;case "D":case "E":case "F":case "G":if(-1!=b)return b;break;case "T":case "U":case "V":case "W":a||
(b=c)}a=!1}return-1}function d(b,d){d&&(f=a(d).childNodes);if(d&&f){for(var h=!1,e=0;40>e;++e){var k=p["log"+e];try{k=JSON.parse(k)}catch(pa){continue}if(k.log==b){h=!0;break}}h||(v.o[14]=void 0);for(var l,e=0;e<f.length;++e){switch(f[e].tag){case "SHUFFLE":l=K.uf(f[e].seed);break;case "GO":W.sa(f[e])}if("UN"==f[e].tag)break}for(c=[];e<f.length;++e){var k=f[e],m=[0,0,0,0],y=e;switch(k.tag){case "INIT":c.push(e);break;case "RYUUKYOKU":if("ron3"==k.type)for(h=0;4>h;++h)k["hai"+h]&&(m[h]=6);break;case "AGARI":for(;k=
f[e],m[~~k.who]=k.who==k.fromWho?7:6,k.paoWho&&(m[~~k.paoWho]=11),e+1<f.length&&"AGARI"==f[e+1].tag;++e);break;case "N":nc(k);m[~~k.who]=k[2];break;default:ub.vb(k)}if(m[0]||m[1]||m[2]||m[3])f.splice(y,0,{tag:"VOICE",type:m}),++e}if(l)for(e=0;e<c.length;++e){var k=f[c[e]],h=q(k.seed),h=6==h[3]&&0==h[4],J;l&&(J=k[5]=l(~~k.oya,h));if(J)if(h){if(H.s&16)for(D=0;6>D;++D)J[D]|=1280;for(h=0;h<(H.s&16?3:4);++h){for(D=0;4>D;++D)J[34*h+D]|=1280;for(;34>D;++D)J[34*h+D]|=h+1<<8}for(var m=0,D=c[e]+1;D<f.length&&
"INIT"!=f[D].tag;++D)k=f[D],"N"!=k.tag||4!=k[2]&&2!=k[2]&&5!=k[2]&&10!=k[2]||(h=~~k.who,J[m/4*34+m%4^1]|=h+1<<8,++m)}else{for(var ca=!1,y=13*(H.s&16?3:4),m=0,h=-1,D=c[e]+1;D<f.length&&"INIT"!=f[D].tag;++D)switch(k=f[D],k.tag){case "N":ca=4==k[2]||2==k[2]||5==k[2]||10==k[2];break;case "T":case "U":case "V":case "W":h=k.tag.charCodeAt(0)-84,J[ca?m++^1:J.length-1-y++]|=h+1<<8,ca=!1}for(k=H.s&16?3:4;y<J.length-14-m;++y)h=(h+1)%k,J[J.length-1-y]|=h+1<<8;for(;y<J.length;++y)J[J.length-1-y]|=1280}}for(e=
0;e<f.length;++e)vb.Hb(u.tw,f[e]);for(e=0;"INIT"!=f[e].tag;++e)switch(f[e].tag){case "BYE":case "SHUFFLE":case "GO":break;case "UN":case "TAIKYOKU":W.sa(f[e]);break;default:throw console.log(e,f[e]);}g=c[~~u.ts];delete u.ts}else A.l(I[2003],1,function(){u.hb?history.back():delete u.log})}function b(a){var b=a.split("-");if(4!=b.length)return a;if(120==b[3].charCodeAt(0)){a=parseInt(b[3].substr(1,4),16);var c=parseInt(b[3].substr(5,4),16),d=parseInt(b[3].substr(9,4),16),h=0;"2010041111gm"<=b[0]&&(h=
~~("3"+b[0].substr(4,6))%(34-~~b[0].substr(9,1)-1));b[3]=Va(4,(a^c^k[h+0]).toString(16))+Va(4,(c^k[h+0]^d^k[h+1]).toString(16))}return b.join("-")}var f,c,g,m={D:!0,E:!0,F:!0,G:!0,T:!0,U:!0,V:!0,W:!0,N:!0,RYUUKYOKU:!0,VOICE:!0},k=[22136,52719,55146,42104,59591,46934,9248,28891,49597,52974,62844,4015,18311,50730,43056,17939,64838,38145,27008,39128,35652,63407,65535,23473,35164,55230,27536,4386,64920,29075,42617,17294,18868,2081];return{vb:function(a){var b=a.tag;if(1<b.length){var c=a.tag.charCodeAt(1);
48<=c&&57>=c&&(a[0]=~~b.substr(1),a.tag=b.substr(0,1))}return a},mf:function(a){a=b(a);Sa("https://tenhou.net/3/mjlog2xml.cgi?"+a,function(b){d(a,b)},function(){d(a)})},Ra:function(a){if(f){if(0==arguments.length){for(var b=g;0<=b&&"INIT"!=f[b].tag;--b);if(0<=b)return ub.Ke(f,b,g-b)}else if(0>=a){var d=e(0>a);if(-1==d)return;if(0>a&&g==d+1)for(d=d-1==c[0]?f.length-1:d-2;"AGARI"==f[d-1].tag;--d);for(var h=[],b=0;b<c.length&&!(d<c[b]);++b);for(var k=c[b-1],b=k;b<d;++b)h.push(f[b]);W.sa(ub.Ke(f,k,d-
k));g=d;1==d-k&&xc.set()}else if(Z.ok&&!Z.ok.disabled){C.ok();return}if(!(f.length<=g))for(Xb.Ha(),b=!1;!b&&g<f.length;++g){switch(f[g].tag){case "REACH":2!=f[g].step&&(b=!0);break;case "AGARI":g+1<f.length&&"AGARI"!=f[g+1].tag&&(b=!0);break;default:m[f[g].tag]&&(b=!0)}W.sa(f[g])}}},fa:function(){g=0;f=void 0},Te:function(a,b){if(f&&f.length)if(a)g=~~b+1,ub.Ra(0);else{for(var d=-1,c=g;0<=c&&(-1==d&&"T"==f[c].tag&&(d=c),"INIT"!=f[c].tag);--c);if(!(0>c)){var h="",e=0;for(++c;c<f.length;++c){json=f[c];
if("INIT"==json.tag)break;"T"==json.tag&&(h+='<div class=A id="#tj-'+c+'"><span style="position:relative;">'+(c==d?'<div class=gray style="position:absolute;font-size:75%;top:25%;left:-1.25em;">&#8594;</div>':"")+ ++e+"巡目</span></div>")}A.Z(h,"",0)}}},Se:function(a,b){if(f&&f.length)if(a)g=~~b+1,ub.Ra(0);else{for(var c="",d=-1,h="",e=0;e<f.length;++e){var k=f[e];switch(k.tag){case "INIT":d=q(k.seed);h=d[0];h="東南西北".substr(~~(h/4),1)+(h%4+1)+z("局")+d[1]+z("本場");
d=e;break;case "RYUUKYOKU":var l=ga[k.type],c=c+('<div class=A id="#ts-'+d+'">'+h+"<br>流局"+(l?" "+l:"")+"</div>");break;case "AGARI":var l=~~k.who,m=~~k.fromWho,k=q(k.ten),c=c+('<div class=A id="#ts-'+d+'">'+h+"<br>"+z(l==m?"ツモ:":"ロン:")+H.B[l]+" "+k[1]+(l!=m?"<br>"+z("放銃:")+H.B[m]:"")+"</div>")}}A.Z(c,"font-size:70%;text-align:left;",0)}},Ib:function(a,b){var c=~~b;if(4==c)v.o[14]=!v.o[14];else if(4>c){for(var d=0;d<f.length;++d)vb.Hb(c,f[d]);u.tw=(u.tw+c)%
4}for(d=0;d<f.length;++d)if("UN"==f[d].tag){W.sa(f[d]);Vb.S();ub.Ra(0);break}},Ke:function(a,b,d){var c=a[b];if("INIT"!=c.tag)return null;for(var h=[],e=q(c.hai0);e.length;)h[e.pop()]=1;for(e=q(c.hai1);e.length;)h[e.pop()]=2;for(e=q(c.hai2);e.length;)h[e.pop()]=3;for(e=q(c.hai3);e.length;)h[e.pop()]=4;for(var k=q(c.seed),g=q(c.ten),e=q(c.chip),l=~~c.oya,n=c[5],f=[[],[],[],[]],m=[[],[],[],[]],Wa=-1;b<a.length&&d;++b,--d)switch(c=a[b],c.tag){case "D":case "E":case "F":case "G":var O=c.tag.charCodeAt(0)-
68,Fa=c[0]==Wa,Wa=c[0];h[Wa]=0;Fa&&m[O].push(254);m[O].push(Wa);break;case "T":case "U":case "V":case "W":O=c.tag.charCodeAt(0)-84;Wa=c[0];h[Wa]=O+1;break;case "N":for(var Wa=-1,O=~~c.who,Fa=~~c.m,mb=c[3],Ib=c[0],Xa=0;Xa<Ib.length;++Xa)h[Ib[Xa]]=0;5!=c[2]&&4!=c[2]&&10!=c[2]&&(mb=m[(O+mb)%4],mb.pop(),254==mb[mb.length-1]&&mb.pop());if(5==c[2]){for(Xa=0;Xa<f[O].length&&f[O][Xa]!=(Fa^24);++Xa);if(Xa==f[O].length)throw console.log("Log2ReiniXML INVALID KAKAN");f[O][Xa]=Fa}else f[O].unshift(Fa);break;
case "REACH":O=~~c.who;Fa=~~c.step;2==Fa?(c=q(c.ten),c.length?g=c:g[O]-=10):(1==Fa?m[O].push(255):(m[O].push(255),g[O]-=10),++k[2]);break;case "DORA":k.push(~~c.hai)}c=a[b];"AGARI"==c.tag&&c.who==c.fromWho&&(h[~~c.machi]=0);a={tag:"REINIT",seed:""+k,ten:""+g,oya:l,hai0:[],hai1:[],hai2:[],hai3:[]};for(b=0;136>b;++b)h[b]&&a["hai"+(h[b]-1&3)].push(b);n&&(a[5]=n);e.length&&(a.chip=e);for(O=0;4>O;++O)f[O].length&&(a["m"+O]=f[O]);for(O=0;4>O;++O)m[O].length&&(a["kawa"+O]=m[O]);return a}}}();var yc={},M=function(){function a(a,d){var c;if(2==a&&99==d)return M[4195];var e=0,h=M[4096|100*a+d];h||(h=M[4096|100*a+d]=xa(new Image,{load:Q.Jb,error:function(){ob("IMAGE ONERROR",e++,this.src);10>e&&setTimeout(function(){h.src=h.src},2E3)}}));c=c||(99==d?"":b);var g=N[a];1==a&&99==d&&(g=N[0]);8==a&&99==d&&(g=N[0]);c=sa[11]()+"/5/img/vieww"+a+Va(2,d)+Va(3,g)+c+".png";g&&h.src!=c&&(h.src=c);return h}function e(a,b,d){for(var c=3;c<arguments.length;++c){var h=arguments[c],e=h>>8&7;M[h]=ya(M[h]||
{},{Ba:a,cb:b%10*N[e],eb:(U[e]+T[e])*~~(b/10),ia:N[e],ya:U[e]+T[e],offsetX:0,offsetY:0,Le:d});if(5==e||7==e)M[h].offsetY+=U[e%4]+T[e%4]-(U[e]+T[e]);5==e&&(M[h].offsetX+=N[e%4]-N[e])}}function d(a,b,d,e,h){for(var c=5;c<arguments.length;++c){var k=arguments[c],g=k>>8&7;yc[k]=ya(yc[k]||{},{Ba:a,cb:b,eb:d,ia:e,ya:h,offsetX:zc[g],offsetY:U[g]+T[g]-h});if(5==g||7==g)yc[k].offsetY+=U[g%4]+T[g%4]-(U[g]+T[g]);5==g&&(yc[k].offsetX+=N[g%4]-N[g])}}var b,f;return{mb:xa(new Image,{load:Vb.S,error:function(){ob("IMAGE ONERROR",
this.src)}}),Bf:function(){f="000100070";nb(p.backgroundImage)?(u.sb=!1,Vb.u.canvas.style.background="linear-gradient(to bottom, rgba(0,0,0,0.3) 0%,rgba(0,0,0,0.2) 100%),url('"+p.backgroundImage+"') center center /cover no-repeat"):(p.backgroundImage&&p.backgroundImage.match(/^([0-9]{9})$/)&&(f=p.backgroundImage),u.sb=!0,Vb.u.canvas.style.background="");var c=u.sb?0:9,g=sa[11]()+"/3/img/bg"+c+Va(4,~~Sb)+Va(4,~~Tb)+f+".png";0==c&&"000100070"==f&&(Vb.u.canvas.style.background="linear-gradient(to bottom, rgba(0,0,0,0.3) 0%,rgba(0,0,0,0.2) 100%),url('https://cdn.tenhou.net/3/res/img/bg0_1280x0960h000s100v070q040.jpg') center center /cover no-repeat",
g="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==");M.mb.src!=g&&(M.mb.src=g);b="000000ffffff000000";p.msk&&p.msk.match(/^([0-9a-f]{6})$/)&&(b=RegExp.$1+b.substr(6));e(a(5,48),0,-1,1328);e(a(7,48),0,-1,1840);for(g=0;4>=g;++g){for(var c=a(g,0),m=0;34>m;++m){var k=10*(~~(m/9)+1)+m%9+1;e(c,k-10,m,g<<8|k)}e(c,0,4,g<<8|51);e(c,10,13,g<<8|52);e(c,20,22,g<<8|53)}c=M[4096];e(c,30,-1,48,560);e(c,38,-1,49,561);e(c,39,-1,50,562);c=M[4196];e(c,30,-1,304,816);e(c,38,-1,305,
817);e(c,39,-1,306,818);c=M[4296];e(c,30,-1,1584);e(c,38,-1,60,572);c=M[4396];e(c,38,-1,316,828);c=M[4496];e(c,30,-1,1084);e(c,38,-1,1073);e(c,39,-1,1074);for(g=0;8>g;g+=2){c=a(g,99);m=N[g]+T[g];k=0;if(0==g||2==g)k=~~(47*m/43);if(4==g||6==g)k=~~(24*m/43);var h=~~(T[g]/12*5);d(c,0,0,m-zc[g],k,g<<8|0);d(c,0,k-h,2*h,h,g<<8|3,g<<8|2)}var g=U[1]+T[1],m=2*~~(47*(N[0]+T[0])/43),k=T[0]/12,h=T[0]+~~(5*k),l,c=a(8,99);l=0;d(c,0,l+m-U[0],h,U[0],1,513);d(c,0,l+~~(17*k),h,U[0],5,517);d(c,0,l,h,U[0]+~~(12*k),4,
516);d(c,0,l+m-U[1],h,U[1],257,769,1281,1793);d(c,0,l+~~(17*k),h,U[1],261,773,1285,1797);d(c,0,l,h,U[1]+~~(12*k),260,772,1284,1796);c=a(1,99);l=0;d(c,0,l,h,g,256,768,1280,1792);d(c,0,l+g-~~(5*k),2*~~(5*k),~~(5*k),259,771,1283,1795,258,770,1282,1794)},xa:function(a,b,d,e){var c=M[4096|100*d];if(c.complete||!c.height){var k=N[d],g=U[d]+T[d],f=k*(arguments.length-4),m=1*g;a.innerHTML=b+"<canvas width="+f+" height="+m+' style="width:'+f/t+"px;height:"+m/t+'px;pointer-events:none;vertical-align:middle;"></canvas>';
f=a.getElementsByTagName("CANVAS")[0].getContext("2d");f.clearRect(0,0,f.canvas.width+1,f.canvas.height+1);f.globalAlpha=e;for(m=4;m<arguments.length;++m){var w=arguments[m],B;K.Gb(w)?(B=0,w=~~(w/4/9)):(w=K.bb[w],48==w&&(w=40),B=w%10,w=~~(w/10)-1);f.drawImage(c,B*k,w*g,k,g,k*(m-4),0,k,g)}}}}}();var vb=function(){function a(a,b){var c=b.split(",");8==c.length?c=[c[(0+a)%4*2+0],c[(0+a)%4*2+1],c[(1+a)%4*2+0],c[(1+a)%4*2+1],c[(2+a)%4*2+0],c[(2+a)%4*2+1],c[(3+a)%4*2+0],c[(3+a)%4*2+1]]:16==c.length&&(c=[c[(0+a)%4*2+0],c[(0+a)%4*2+1],c[(1+a)%4*2+0],c[(1+a)%4*2+1],c[(2+a)%4*2+0],c[(2+a)%4*2+1],c[(3+a)%4*2+0],c[(3+a)%4*2+1],c[(0+a)%4*2+8],c[(0+a)%4*2+9],c[(1+a)%4*2+8],c[(1+a)%4*2+9],c[(2+a)%4*2+8],c[(2+a)%4*2+9],c[(3+a)%4*2+8],c[(3+a)%4*2+9]]);return c.join(",")}function e(a){if(!f.length)return 0;
d+=a;if(d<b)return 1;a=f.shift();a.tag?W.sa(a):b+=a;return 1}var d,b,f=[],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=["","","",""],m=["","","",""];return{Hb:function(b,c){if(!b)return c;var d=c.tag,e=d.charCodeAt(1);if(1==d.length||48<=e&&57>=e)e=d.charCodeAt(0),78==e?c.who=(4+~~c.who-b)%4:68<=e&&71>=e?c.tag="DEFG".substr((4+(e-68)-b)%4,1)+d.substr(1):84<=e&&87>=e&&(c.tag="TUVW".substr((4+(e-84)-b)%4,1)+d.substr(1));else switch(d){case "UN":d=[c.n0,c.n1,c.n2,c.n3];c.n0=
d[(b+0)%4];c.n1=d[(b+1)%4];c.n2=d[(b+2)%4];c.n3=d[(b+3)%4];c.dan&&(d=c.dan.split(","),c.dan=d.concat(d.splice(0,b)).join(","));c.rate&&(d=c.rate.split(","),c.rate=d.concat(d.splice(0,b)).join(","));c.sx&&(d=c.sx.split(","),c.sx=d.concat(d.splice(0,b)).join(","));c.rc&&(d=c.rc.split(","),c.rc=d.concat(d.splice(0,b)).join(","));c.gold&&(d=c.gold.split(","),c.gold=d.concat(d.splice(0,b)).join(","));break;case "TAIKYOKU":case "KANSEN":c.oya=(4+~~c.oya-b)%4;break;case "REINIT":d=[c.m0,c.m1,c.m2,c.m3],
c.m0=d[(b+0)%4],c.m1=d[(b+1)%4],c.m2=d[(b+2)%4],c.m3=d[(b+3)%4],d=[c.kawa0,c.kawa1,c.kawa2,c.kawa3],c.kawa0=d[(b+0)%4],c.kawa1=d[(b+1)%4],c.kawa2=d[(b+2)%4],c.kawa3=d[(b+3)%4];case "INIT":c.oya=(4+~~c.oya-b)%4;d=[c.hai0,c.hai1,c.hai2,c.hai3];c.hai0=d[(b+0)%4];c.hai1=d[(b+1)%4];c.hai2=d[(b+2)%4];c.hai3=d[(b+3)%4];d=c.ten.split(",");c.ten=d.concat(d.splice(0,b)).join(",");void 0!=c.chip&&(d=c.chip.split(","),c.chip=d.concat(d.splice(0,b)).join(","));break;case "REACH":c.who=(4+~~c.who-b)%4;c.ten&&(d=
c.ten.split(","),c.ten=d.concat(d.splice(0,b)).join(","));break;case "RYUUKYOKU":d=[c.hai0,c.hai1,c.hai2,c.hai3];c.hai0=d[(b+0)%4];c.hai1=d[(b+1)%4];c.hai2=d[(b+2)%4];c.hai3=d[(b+3)%4];c.sc=a(b,c.sc);void 0!=c.owari&&(c.owari=a(b,c.owari));break;case "AGARI":c.who=(4+~~c.who-b)%4;c.fromWho=(4+~~c.fromWho-b)%4;void 0!=c.paoWho&&(c.paoWho=(4+~~c.paoWho-b)%4);c.sc=a(b,c.sc);void 0!=c.owari&&(c.owari=a(b,c.owari));break;case "VOICE":d=c.type;c.type=d.concat(d.splice(0,b));break;case "BYE":c.who=(4+~~c.who-
b)%4}if(c.childNodes)for(d=c.childNodes,e=0;e<d.length;++e)d[e].tag&&vb.Hb(b,d[e]);return c},ef:function(a){if(a=a.childNodes){Xb.$=!0;for(var b=0;b<a.length;++b)W.sa(ub.vb(a[b]));W.sa({tag:"INITBYLOG"})}else Xb.$=!1;return 1},kf:function(a){ec().Jf||(d=b=0,ec().Jf=e);a=a.childNodes;for(var c=0;c<a.length;++c)a[c].tag&&ub.vb(a[c]);Array.prototype.push.apply(f,a);return 1},tf:function(){for(var a=0;a<c.length;++a)c[a]=0;for(a=0;4>a;++a)m[a]=g[a]=""},fa:function(){for(;f.length;)f.pop()},Ib:function(a,
b){if(a){var c=~~b;4==c?v.o[14]=!v.o[14]:4>c&&(u.tw=(u.tw+c)%4)}vb.fa();H.fa();W.Db();W.L({tag:"HELO",name:"NoName",sx:"M"})},Ye:function(a){var b=""+V[48|a];if(m[a]!=b&&(m[a]=b,V[64|a]=sb.nb(V[48|a]),b=""+V[64|a],g[a]!=b)){g[a]=b;for(a=0;a<c.length;++a)c[a]=0;for(b=0;4>b;++b)if(V[64|b])for(a=0;a<V[64|b].length;++a)c[V[64|b][a]]=1;for(a=0;a<R.ta.length;++a)b=R.ta[a],b.i&&b.ma&&b.ma(-1025,c[b.i.Le]?1024:0,!0)}},Ze:function(a){a.i&&a.ma&&a.ma(-1025,c[a.i.Le]?1024:0,!0)}}}();var Z={};function Ac(a,e){for(var d=[a],b=e||{};d.length;){a=d.pop();for(var f=0;f<a.childNodes.length;++f)d.push(a.childNodes[f]);a.id?b[a.id]=a:a.name&&(b[a.name]=a)}Z=b}
var C=function(){var a,e=[],d={SPLASH:1,LOGIN:1,LOBBY:1,STORE:1};return{b:null,l:function(b){C.b?"RYUUKYOKU"==a.tag&&"OWARI"==b.tag||"AGARI"==a.tag&&"OWARI"==b.tag||"AGARI"==a.tag&&"AGARI"==b.tag?e.push(b):C.Y(b):(a=b,C.b=kb("DIV",Ub,"tbc",{},{position:"relative",textAlign:"center",verticalAlign:"middle"}),C.b.innerHTML='<div style="background-color:rgba(0,0,0,0.85);color:#FFF;border:solid 1px #444;padding:1em 0.5em;"></div>',C.K(),C[a.tag](a,C.b.firstChild))},K:function(){if(C.b){var b=~~(N[1]/t);
if(b){d[a.tag]&&(b=0);var e=C.b.style;e.paddingLeft=b+"px";e.paddingRight=~~(Ub.offsetWidth-Sb/t+b)+"px"}}},Y:function(a){function b(){for(var b in Z)delete Z[b];C.b&&(C.b.parentNode.removeChild(C.b),C.b=null,Z={});a instanceof Function?a():a&&C.l(a);oc.Va&&oc.Va()}C.b&&"none"!=C.b.style.display?ec().Mf=Bc(b):b()},fa:function(){e=[]},nop:function(){},ok:function(b){lb(!0,"ok");bc.Y();e.length?C.Y(e.shift()):"TRAINING"==a.tag?C.Gf(b):"SPLASH"==a.tag?v.ka(11):"LOGIN"==a.tag||"AUTOLOGIN"==a.tag?(p.gpid?
(W.L({tag:"HELO",name:p.uname||"NoName",sx:p.sx||"M",gpid:p.gpid}),p.removeItem("gpid")):("ID########-########"!=Z.uname.value&&Cb("uname",Z.uname.value,"NoName"),W.L({tag:"HELO",name:p.uname||"NoName",sx:p.sx||"M"})),lb(!0,0)):"OWARI"==a.tag?(2!=H.a||u.hb||delete u.wg,v.ka(495623)):"NINTEI"==a.tag?C.bc():(1==H.a&&W.L({tag:"NEXTREADY"}),3==H.a&&ub.Ra(1))},exit:function(){v.ka(495623)}}}();ya(C,function(){function a(a,b){return a?'<span style="color:'+(0<a?"#0FF":"#F00")+';">'+(0<a?"+":"")+a+(void 0!=b?b:"")+"</span>":""}function e(b,d,e,k){for(var c=b.sc?q(b.sc):[],g=[],f=0;4>f;++f)g[f]='<span style="font-weight:bold;color:#888;">'+H.pb[f]+"</span> ",c.length||(g[f]+=ba[H.$a[f]]+(1800>H.Ua[f]?"":' <span style="color:#888;">R</span>'+~~H.Ua[f])+"<br>"),g[f]+='<span style="font-weight:bold;color:#CCC;">'+Ca(H.B[f])+"</span><br>";f=2.4;if(8==c.length||16==c.length)g[0]+=100*c[0]+(c[1]?
" "+a(100*c[1]):""),g[1]+=100*c[2]+(c[3]?" "+a(100*c[3]):""),g[2]+=100*c[4]+(c[5]?" "+a(100*c[5]):""),g[3]+=100*c[6]+(c[7]?" "+a(100*c[7]):"");16==c.length&&(++f,g[0]+="<br>"+c[8]+"枚"+(c[9]?" "+a(c[9],"枚"):""),g[1]+="<br>"+c[10]+"枚"+(c[9]?" "+a(c[11],"枚"):""),g[2]+="<br>"+c[12]+"枚"+(c[9]?" "+a(c[13],"枚"):""),g[3]+="<br>"+c[14]+"枚"+(c[9]?" "+a(c[15],"枚"):""));c="";b.ba&&(c=q(b.ba),c=z("")+c[0]+" "+z("")+c[1]);return'<table cellpadding=0 cellspacing=0 width=100% style="text-align:center;"><tr><td rowspan=1 style="width:33%;height:'+
f/2+'em;font-family:icons2,sans-serif;">'+c+'</td><td rowspan=2 style="width:34%;"><div id=sc2 style="height:'+1*f+"em;padding:0.2em 0;"+(H.B[2]?'border:solid 1px #222;">'+g[2]:'">')+'</div></td><td rowspan=1 style="width:33%;height:'+f/2+'em;" class=gray>'+ka(H.s)+'</td></tr><tr><td rowspan=2><div id=sc3 style="height:'+1*f+"em;padding:0.2em 0;"+(H.B[3]?'border:solid 1px #222;">'+g[3]:'">')+'</div></td><td rowspan=2><div id=sc1 style="height:'+1*f+"em;padding:0.2em 0;"+(H.B[1]?'border:solid 1px #222;">'+
g[1]:'">')+'</div></td></tr><tr><td rowspan=2><div id=sc0 style="height:'+1*f+"em;padding:0.2em 0;"+(H.B[0]?'border:solid 1px #222;">'+g[0]:'">')+'</div></td></tr><tr><td rowspan=1 id=info0 style="height:'+f/2+'em;">'+(d||"")+'</td><td rowspan=1 id=info2 style="height:'+f/2+'em;">'+(k||"")+'</td></tr><tr><td></td><td rowspan=1 id=info1 style="position:relative;">'+(e||"")+"</td><td></td></tr></table>"}function d(b,d){return H.B[d].length?'<tr><td align=center style="border:solid 1px #222;padding:0.5em;">'+
Ca(H.B[d])+'<table cellpadding=0 cellspacing=0 align=center><tr><td align=right style="width:6em;">'+100*b[2*d+0]+'</td><td align=right style="width:5em;">'+a(b[2*d+1].toFixed(1))+"</td>"+(16==b.length?'<td align=right style="width:4em;">'+a(b[2*d+8],"枚")+"</td>":"")+'<td style="width:3em;"></td></tr></table></td></tr>':""}function b(a,b){for(var c,d=0;c=Z["yaku"+d];++d)c.childNodes[0].style.opacity=c.childNodes[1].style.opacity=0;Z.sc0.style.opacity=Z.sc1.style.opacity=Z.sc2.style.opacity=Z.sc3.style.opacity=
Z.total.style.opacity=0;Z.ok.disabled=!0;var e=!!a.doraHaiUra;e&&(Z.info2.style.opacity=0);var g=!!a.yakuman,f=-(g?3E3:750),x=0;ec().Kf=function(a){if(0>f)return f+=a,0<f&&(f=0),1;0==f&&kc(g&&0==x?1:11,0,0);var c=Math.min(1,f/(g?3E3:600)),h=Z["yaku"+x];h.childNodes[0].style.opacity=h.childNodes[1].style.opacity=c;x==d-1&&(e&&(Z.info2.style.opacity=c),Z.sc0.style.opacity=Z.sc1.style.opacity=Z.sc2.style.opacity=Z.sc3.style.opacity=Z.total.style.opacity=c);f+=a;1==c&&(x++,f=-(~H.s&2048&&e&&x==d-1?1200:
250));return x<d?1:(b(),0)}}var f={TAIKYOKU:"對局",SAIKAI:"再開",KANSEN:"觀戰"};return{TAIKYOKU:function(a,b){var c="TAIKYOKU"==a.tag;b.innerHTML='<div style="font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;">'+f[a.tag]+"</div>"+e(a,"",c?'<button name=ok style="padding:0 2em;">OK</button>':'<button disabled style="font-size:150%">'+decodeURIComponent(a.msg||"WAIT")+"</button>");Ac(b);c&&bc.l(-1E4)},AGARI:function(a,d){var c="";kc(10,0,0);a.ten=q(a.ten);a.chip=q(a.chip);
for(var g=a.who!=a.fromWho,f=0,l=0;l<a.chip.length;l+=2)f+=a.chip[l+1];var f=f?f+z(g?"枚":"枚∀"):"",n;n=g?a.ten[1]+z("点"):ha[(H.s&16?0:2)+(H.la==a.who?1:0)][a.ten[1]]+z(H.la==a.who?"点∀":"点");var c=c+'<div id=total style="font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:250%;">',x=[];if(a.yakuman){a.yakuman=q(a.yakuman);c+=z("役滿")+n+f;for(l=0;l<a.yakuman.length;l+=1)x.push([aa[a.yakuman[l]],2*l<a.chip.length?a.chip[2*l+1]+z("枚"):""]);for(l*=2;l<a.chip.length;l+=
2)x.push([aa[a.chip[l+0]],a.chip[l+1]+z("枚")])}else{a.yaku=q(a.yaku);for(var E=da[a.ten[2]],w=0,l=0;l<a.yaku.length;l+=2)w+=a.yaku[l+1];if(30==a.ten[0]&&4==w||60==a.ten[0]&&3==w)!g&&H.s&16?a.ten[1]==(H.la==a.who?8E3:6E3)&&(E=da[1]):a.ten[1]==(H.la==a.who?12E3:8E3)&&(E=da[1]);~H.s&2048&&(c+=(E?"":a.ten[0]+z("符")+w+z("飜"))+z(E)+n+f);for(g=l=0;l<a.yaku.length;l+=2)f=a.yaku[l+1]+z(H.s&2048?"点":"飜"),g<a.chip.length&&a.yaku[l+0]==a.chip[g+0]&&(f+=a.chip[g+1]+z("枚"),g+=2),x.push([aa[a.yaku[l+
0]],f])}c+='</div><table cellpadding=0 cellspacing=0 style="width:100%;font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:150%;"><tr>';l=4>x.length?0:Math.ceil(x.length/2);for(g=0;g<x.length;++g){if(0==g||g==l)c+="<td width=50% align=center valign=top><table cellpadding=0 cellspacing=0>";c+="<tr id=yaku"+g+' style="">';c+='<td align=left style="position:relative;">'+x[g][0]+"</td>";c+='<td align=left style="position:relative;">　'+x[g][1]+"</td>";c+="</tr>";if(g==l-1||g==x.length-1)c+="</table></td>"}c+=
"</tr></table>";x=q(a.doraHai);for(l=a.doraHaiUra?q(a.doraHaiUra):[];5>x.length;)x.push(136);for(;5>l.length;)l.push(136);c+=e(a,"",'<button name=ok style="width:100%;padding:0 1em;">OK</button>',"");d.innerHTML=c;Ac(d);M.xa(Z.info0,"",0,1,x[0],x[1],x[2],x[3],x[4]);M.xa(Z.info2,"",0,1,l[0],l[1],l[2],l[3],l[4]);3!=H.a&&b(a,function(){Z.ok.disabled=!1;a.owari||bc.l(-5E3)})},RYUUKYOKU:function(a,b){b.innerHTML='<div style="font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;">'+(a.type?ga[a.type]:
"流局")+"</div>"+e(a)+'<button name=ok style="padding:0 2em;">OK</button>';Ac(b);2!=H.a||a.owari||(Z.ok.disabled=!0);a.owari||bc.l(-5E3)},OWARI:function(a,b){H.fa();Vb.S();var c;c=a.sc;c=c.split(",");for(var e=0;e<c.length;++e)c[e]=Number(c[e]);var g,e=[0,1,2,3];for(g=1;4>g;++g)if(!(c[2*e[g-1]+1]>=c[2*e[g]+1])){var f=e[g];e[g]=e[g-1];e[g-1]=f;g=0}g='<div style="font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;">終局</div><table cellpadding=0 cellspacing=0 width=75% align=center style="text-align:center;">'+
d(c,e[0]);g+=d(c,e[1]);g+=d(c,e[2]);g+=d(c,e[3]);g+="</table>";ec().yf=Cc(1500);b.innerHTML=g+'<button name=ok style="padding:0 2em;">OK</button>';Ac(b)}}}());C.KANSEN=C.SAIKAI=C.TAIKYOKU;Gb({JP:{le:"設定",Ab:"表示・入力",re:"Sound",pe:"画面方向",lb:["回転","縦画面","横画面"],Ce:"※アプリ版でのみご利用いただけます",je:"配信ID保護",ze:"※ログイン画面のID入力を非表示にします",ie:"入力補助",Bb:["Default","3 TAPs","2 TAPs"],we:"※縦画面のみで表示されます",
ne:"Desktop入力",ye:"※「鳴きなし」他が常時手牌下に表示されます",qe:"牌山表示",ua:["Default","あり","なし"],oe:"大きな手牌",Be:"※横画面対戦時で牌山表示:なし/Desktop入力:なしの場合",ke:"SEなし",se:"卓",te:"標準の画像",ue:"画像URL",Ae:"※defaultのHSV画像は高速にダウンロードされます",
he:"標準的な画像URLを使用してください。",ve:"牌",De:"牌背色",me:"回線",xe:"* 国際特別回線は性能を保証するものではありません。",Cb:["標準回線 / default","中国(香港)特別回線 / CH(HK)"]},EN:{le:"Setting",Ab:"UI",re:"SE",lb:["Auto Rotate","Vertical","Horizontal"],pe:"Screen Orientation",
Ce:"*Only available in the App version",je:"Hide ID",ze:"*Hides your ID in the login screen",ie:"Input Assistance",we:"*Only available in Vertical device view",ne:"Desktop Input",ye:"*Shows options (e.g. Auto Win) below your hand",qe:"Show Wall",ua:["Default","ON","OFF"],oe:"Enlarged hand input",Be:"*Only available:'Show Wall'(off) and 'Desktop Input'(off)",ke:"No SE",se:"Table",te:"Deault Image",ue:"Image URL",Ae:"*The default HSV image downloads fast.",he:"Please, use a standard image URL.",ve:"Tiles",
De:"Tile back color",me:"Connection",xe:"*No performance guarantee for international special connections.",Cb:["Default Connection","China and HK Proxy Connection"]}});
ya(C,function(){function a(a){var b=Z.panes.childNodes,c=b.length;f=(f+a+c)%c;for(a=0;a<c;++a)b[a].style.display=a==f?"":"none";Z.paneDisp.innerHTML=b[f].firstChild.innerHTML+z(" / "+I.le)}function e(){K.a=~~p.yama;0==K.a&&p.desktop&&(K.a=1);Db();H.fa();H.connected=15;H.s=1;H.UN({tag:"UN",n0:"COM",n1:"COM",n2:"COM",n3:"COM",sx:",,,"});H.ra({tag:"REINIT",seed:"2,1,1,5,5,57",ten:"123,234,345,456",oya:"0",hai0:"1,3,6,16,21,41,49,53,75,116,117,121,135",hai1:"1,3,6,16,21,41,49,53,75,116,117,121,135",kawa0:"46,125,82,128,73,94,66,130,131,55,5,126,38,124",
kawa1:"108,120,11,74,76,50,42,78,67,70",kawa2:"119,32,29,65,2,104,5,126,38,124",kawa3:"122,127,4,112,107,77,129,69,109,106,123"});R.K();p.desktop&1?(v.b.style.display="",v[1572868].innerHTML="",v.X(126976)):v.b.style.display="none"}function d(a){Cb("hideid",~~a.target.checked,0)}function b(a){Cb("nose",~~a.target.checked,0)}var f=0,c={iH:0,iS:10,iV:7,hR:0,hG:0,hB:0};return{CONFIG:function(c,f){Vb.u.canvas.style.visibility="";e();var g;g='<div id=paneDisp style="font-size:125%;pointer-events:none;">　</div><hr><div id=panes style="height:12em;">'+
('<div style="display:none;padding:0.5em;text-align:left;"><span style="display:none;">'+I.Ab+"</span><span class=bth>"+I.pe+":</span><div class=select-wrapper><button name=sco></button></div><br>"+z(I.Ce)+"<br><br><input type=checkbox id=cfgSelShowID /><label class=bth for=cfgSelShowID>"+I.je+"</label><br>"+z(I.ze)+"<br></div>");g+='<div style="display:none;padding:0.5em;text-align:left;"><span style="display:none;">'+I.Ab+"</span><span class=bth>"+I.ie+":</span><div class=select-wrapper><button name=cpt></button></div><br>"+
z(I.we)+"<br><br><span class=bth>"+I.ne+":</span><div class=select-wrapper><button name=dtp></button></div><br>"+z(I.ye)+"<br></div>";g+='<div style="display:none;padding:0.5em;text-align:left;"><span style="display:none;">'+I.Ab+"</span><span class=bth>"+I.oe+":</span><div class=select-wrapper><button name=lth></button></div><br>"+z(I.Be)+"<br><br><br><span class=bth>"+I.qe+":</span><div class=select-wrapper><button name=yam></button></div><br></div>";g+='<div style="display:none;padding:0.5em;text-align:left;"><span style="display:none;">'+
I.re+"</span><input type=checkbox id=cfgNoSE /><label class=bth for=cfgNoSE>"+I.ke+"</label><br></div>";g+='<div style="display:none;padding:0.5em;text-align:left;"><span style="display:none;">'+I.se+"</span><input type=checkbox id=cfgUseDefaultIMG /><label class=bth for=cfgUseDefaultIMG>"+I.te+'</label><br><br><br><div id=cfgUseDefaultIMG1><div class=select-wrapper><button name=iH style="width:4em;"></button></div><div class=select-wrapper><button name=iS style="width:4em;"></button></div><div class=select-wrapper><button name=iV style="width:4em;"></button></div><br>'+
z(I.Ae)+"<br></div><div id=cfgUseDefaultIMG0>"+I.ue+":"+z("(.jpg|.png|.gif)")+'<input name=cfgBGIMG style="width:100%;font-size:125%;"/><br></div></div>';g+='<div style="display:none;padding:0.5em;text-align:left;"><span style="display:none;">'+I.ve+"</span><br><div class=bth>"+I.De+':</div><div class=select-wrapper><button name=hR style="width:4em;"></button></div><div class=select-wrapper><button name=hG style="width:4em;"></button></div><div class=select-wrapper><button name=hB style="width:4em;"></button></div><br></div>';
g+='<div style="display:none;padding:0.5em;text-align:left;"><span style="display:none;">'+I.me+"</span><br><br>"+z(I.xe)+'<br><br><div class=select-wrapper style="width:100%;"><button name=icn style="width:100%;"></button></div><br></div>';f.innerHTML=g+'</div><hr><button name=cfgPrev class=ra1 style="width:33%;">&laquo;</button><button name=cfgNext class=ra2 style="width:33%;">&raquo;</button><button name=cfgClose style="width:34%;">CLOSE</button>';Ac(f);Z.cfgSelShowID.checked=!!p.hideid;Z.cfgNoSE.checked=
!!p.nose;Z.sco.disabled=!oa;ta(Z.cfgBGIMG,"change",C["#iV"]);ta(Z.cfgSelShowID,"change",d);ta(Z.cfgNoSE,"change",b);ta(Z.cfgUseDefaultIMG,"change",C["#iV"]);nb(p.backgroundImage)?Z.cfgBGIMG.value=p.backgroundImage:Z.cfgUseDefaultIMG.checked=!0;C["#sco"]();C["#yam"]();C["#cpt"]();C["#hB"]();C["#iV"]();C["#dtp"]();C["#lth"]();C["#icn"]();a(0)},hB:function(a){for(var b="iH"==a.name?36:16,d="",e=0;e<b;++e)d+='<div class=A id="#'+a.name+"-"+e+'">'+e+(e==c[a.name]?"<div class=desc>(default)</div>":"")+
"</div>";A.Z(d,"",0)},"#iV":function(a,b){var c=p.backgroundImage,d="000100070";c&&c.match(/^\d{9}$/)&&(d=c);var e=~~d.substr(0,3),g=~~d.substr(3,3),f=~~d.substr(6,3);if(Z.cfgUseDefaultIMG.checked){Z.cfgUseDefaultIMG0.style.display="none";Z.cfgUseDefaultIMG1.style.display="";if(a)switch(d=10*~~b,a){case "#iH":e=d;break;case "#iS":g=d;break;case "#iV":f=d}d=Va(3,e)+Va(3,g)+Va(3,f);Cb("backgroundImage",d,"000100070")}else Z.cfgUseDefaultIMG0.style.display="",Z.cfgUseDefaultIMG1.style.display="none",
(d=Z.cfgBGIMG.value)?nb(d)?p.backgroundImage=d:a&&a.target==Z.cfgBGIMG&&A.l(I.he):p.removeItem("backgroundImage");c!=p.backgroundImage&&Db();Z.iH.innerHTML=z("H:")+~~(e/10);Z.iS.innerHTML=z("S:")+~~(g/10);Z.iV.innerHTML=z("V:")+~~(f/10)},"#hB":function(a,b){var c=p.msk,d=c||"000000",e=parseInt(d.substr(0,2),16),g=parseInt(d.substr(2,2),16),f=parseInt(d.substr(4,2),16);if(a)switch(d=17*~~b,a){case "#hR":e=d;break;case "#hG":g=d;break;case "#hB":f=d}d=Va(2,e.toString(16))+Va(2,g.toString(16))+Va(2,
f.toString(16));Cb("msk",d,"000000");Z.hR.innerHTML=z("R:")+~~(e/17);Z.hG.innerHTML=z("G:")+~~(g/17);Z.hB.innerHTML=z("B:")+~~(f/17);c!=p.msk&&Db()},sco:function(){A.Z('<div class=A id="#sco-0">'+I.lb[0]+'</div><div class=A id="#sco-1">'+I.lb[1]+'</div><div class=A id="#sco-2">'+I.lb[2]+"</div>","",0)},"#sco":function(a,b){var c=p.scro,c=~~(a?b:c);Cb("scro",c,0);oa&&r.screen.orientation.lock&&r.screen.orientation.lock(1==c?"portrait":2==c?"landscape":"any");Z.sco.innerHTML=I.lb[c]},yam:function(){A.Z('<div class=A id="#yam-0">'+
I.ua[0]+'</div><div class=A id="#yam-1">'+I.ua[1]+'</div><div class=A id="#yam-2">'+I.ua[2]+"</div>","",0)},"#yam":function(a,b){var c=p.yama,d=~~(a?b:c);Cb("yama",d,0);Z.yam.innerHTML=I.ua[d];c!=d&&e()},cpt:function(){A.Z('<div class=A id="#cpt-0">'+I.Bb[0]+'</div><div class=A id="#cpt-1">'+I.Bb[1]+'</div><div class=A id="#cpt-2">'+I.Bb[2]+"</div>","",0)},"#cpt":function(a,b){var c=~~(a?b:p.cptype);Cb("cptype",c,0);S.K();Z.cpt.innerHTML=I.Bb[c]},dtp:function(){A.Z('<div class=A id="#dtp-0">'+I.ua[0]+
'</div><div class=A id="#dtp-1">'+I.ua[1]+'</div><div class=A id="#dtp-2">'+I.ua[2]+"</div>","",0)},"#dtp":function(a,b){var c=p.desktop;3==c&&(c=0);var d=~~(a?b:c);Z.dtp.innerHTML=I.ua[d];0==d&&jb&&(d=3);Cb("desktop",d,0);c!=d&&e()},lth:function(){A.Z('<div class=A id="#lth-0">'+I.ua[0]+'</div><div class=A id="#lth-1">'+I.ua[1]+'</div><div class=A id="#lth-2">'+I.ua[2]+"</div>","",0)},"#lth":function(a,b){var c=p.lthai,d=~~(a?b:c);Cb("lthai",d,0);Z.lth.innerHTML=I.ua[d];c!=d&&e()},icn:function(){A.Z('<div class=A id="#icn-">'+
I.Cb[0]+'</div><div class=A id="#icn-HK">'+I.Cb[1]+"</div>","",0)},"#icn":function(a,b){var c=p.server||"",d=(a?b:c)||"";Cb("server",d,"");Z.icn.innerHTML=I.Cb["HK"==d?1:0];c!=d&&A.l("設定を有効にするには、再接続する必要があります。<br>再接続してもよろしいですか？",3,function(){location.reload()})},cfgPrev:function(){a(-1)},cfgNext:function(){a(1)},
cfgClose:function(){v.ka(11)}}}());C["#iH"]=C["#iS"]=C["#iV"];C.iH=C.iS=C.iV=C.hR=C.hG=C.hB;C["#hR"]=C["#hG"]=C["#hB"];Gb({JP:{Qb:"牌譜",Mc:'●「長押し」または「右クリック」からURLをコピーしたり、別タブで開くことができます<br><br>牌譜の検索やダウンロードはこちらから行えます<br><a href="https://tenhou.net/mjlog.html" target=_blank >https://tenhou.net/mjlog.html</a><br>',
Jc:"すべての端末の牌譜一覧を表示",Lc:"※有料会員の状態で打った牌譜のみ検索できます<br>※１０日前までの牌譜が検索可能です",Kc:"この端末に記録されている牌譜を表示",Ic:"- 右/左クリック … 進む/戻る<br>- 長押し … オートリピート<br>- センターパネル … 得点差表示<br>"},
EN:{Qb:"LOG",Mc:'*You can copy URLs by long tapping or right-clicking.<br><br>You can also search and download game logs here<br><a href="https://tenhou.net/mjlog.html" target=_blank >https://tenhou.net/mjlog.html</a><br>',Jc:"Show all game logs for all devices",Lc:"*You can only search for matches played with a Premium Subscription<br>*You can search games played in the last 10 days",Kc:"Show games logged in this device",Ic:"- L/R Click … Next/Back<br>- Long Press … Auto Repeat<br>- Center Panel … Show Score Diff<br>"}});
ya(C,function(){function a(a,b){for(var d=0;d<b.length;++d){var c=b[d],e='<div style="position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;">',m="javascript:void(0)",e=e+"<table cellpadding=0 cellspacing=0 width=100% height=100%><tr>",e=e+("<td rowspan=3 class=gray width=6% >"+(d+1)+".</td>");if(c){var m="https://tenhou.net/0/?log="+c.log+"&tw="+(4-~~c.oya)%4,e=e+"<td colspan=2>",e=e+(z(I.Qb+" | ")+c.log.substr(4,2)+"/"+c.log.substr(6,2)+z(" | ")),e=e+ka(c.type),k=c.lobby;
k&&(e+=" "+(1E4>k?"L":"C")+Va(4,k));var e=e+"</td>",e=e+"</tr><tr>",k=c.uname,h=~~c.oya;if(c=c.sc){for(var c=c.split(","),l=0;l<c.length;++l)c[l]=Number(c[l]);for(l=0;4>l;++l)e+="<td width=47% >",k[l]&&(e=l?e+("ABCD".substr((l+4-h)%4,1)+":"):e+(0+~~(k[1]&&c[3]>c[1])+~~(k[2]&&c[5]>c[1])+~~(k[3]&&c[7]>c[1])+1+"位 "),e+=Ca(k[l])+"("+Ya(c[2*l+1].toFixed(1))+")"),e+="</td>",1==l&&(e+="</tr><tr>")}else if(k)for(l=0;4>l;++l)e+="<td width=47% >"+Ca(k[l])+"</td>",1==l&&(e+="</tr><tr>")}e+="</tr></table>";
e+="</div>";e+='<a href="'+m+'" class=bt3 target=_blank></a>';kb("DIV",a,"",{innerHTML:e},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=C.logOpen}kb("DIV",a,"gray",{innerHTML:I.Mc},{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}function e(d,b){var e=b.split("\n");e[c-1]||e.pop();for(var c=0;c<e.length;++c){var g=e[c].split(" "),m=g[0],k=~~g[1];e[c]={type:parseInt(m.split("-")[1],16),lobby:~~m.split("-")[2],log:m,oya:(4-k)%4,uname:[g[2+(0+k)%4],g[2+(1+k)%4],g[2+
(2+k)%4],g[2+(3+k)%4]],sc:[0,g[6+(0+k)%4],0,g[6+(1+k)%4],0,g[6+(2+k)%4],0,g[6+(3+k)%4]].join()}}d.innerHTML="";c=kb("DIV",d,"",{innerHTML:'<a class=bt3 href="https://tenhou.net/mjlog.html" target=_blank style="padding:1em 0;">'+I.Kc+"</a>"},{textAlign:"center"});c.childNodes[0].onclick=function(){C.We(d);return!1};c=kb("DIV",d,"bt3",{innerHTML:I.Lc},{textAlign:"center",padding:"0.5em 0"});a(d,e.reverse())}return{We:function(d){d.innerHTML="";kb("DIV",d,"",{innerHTML:'<a class=bt3 href="https://tenhou.net/mjlog.html" target=_blank style="padding:1em 0;">'+
I.Jc+"</a>"},{textAlign:"center"}).childNodes[0].onclick=function(){d.innerHTML="<br>L O A D I N G ...";Sa(sa[22]()+"?un="+p.uname+"&raw=1",function(a){console.log(a);e(d,a)},function(){alert("DOWNLOAD ERROR")});return!1};for(var b=[],f=~~p.lognext,c=0;40>c;++c){var g=(f+40-1-c)%40;try{b.push(JSON.parse(p["log"+g]))}catch(m){}}a(d,b)},logOpen:function(a){if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)&&(a=a.target,a=a.href.split(/\?log=|&tw=/),1!=a.length))return u.log=a[1],u.TW=u.tw=~~a[2],u.ts=
0,v.ka(11),!1}}}());Gb({JP:{Rb:"観戦",Nc:"観戦可能な対戦はありません",Oc:"●「長押し」または「右クリック」からURLをコピーしたり、別タブで開くことができます<br>●観戦は５分遅れ<br>"},EN:{Rb:"WATCH",Nc:"There are no games to spectate.",Oc:"*You can long tap or right-click to copy the URL and open in a new tab<br>*Spectated games are delayed 5 minutes<br>"}});
ya(C,function(){function a(){Z.wgF0.innerText=f&2?"四":f&4?"三":"－";Z.wgF1.innerText=f&8?"東":f&16?"南":"－";Z.wgF2.innerText=f&32?"雀":f&64?"特":f&128?"鳳":"－"}function e(){var a=Z.klist;a.innerHTML="";var e=0;if(b)for(var m=0;m<b.length;++m){var k='<div style="position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;">',k=k+"<table cellpadding=0 cellspacing=0 width=100% height=100%>",k=k+("<tr><td rowspan=3 class=gray width=6%>"+
(e+1)+".</td>"),h,l=b[m],n=~~l[3];if(f&6){if(~n&16&&~f&2)continue;if(n&16&&~f&4)continue}if(f&24){if(~n&8&&~f&8)continue;if(n&8&&~f&16)continue}if(f&224&&0==d){if(0!=(n&1536)&&~f&32)continue;if(!(n&3584)&&2==ja(n)&&~f&64)continue;if(!(n&3584)&&3==ja(n)&&~f&128)continue}h="https://tenhou.net/0/?wg="+l[0];for(var x=[l[4],l[7],l[10],l[13]],E=0;4>E;++E)x[E]&&(x[E]=decodeURIComponent(escape(atob(x[E]))));for(var w=[~~l[5],~~l[8],~~l[11],~~l[14]],B=[~~l[6],~~l[9],~~l[12],~~l[15]],k=k+("<td colspan=2>"+
z(I.Rb+" | ")+l[2]+z(" | ")+ka(n)+"</td></tr><tr>"),E=0;4>E;++E)x[E]&&(k+="<td width=47%>",k+="<span class=dan"+w[E]+">"+ba[w[E]]+"</span>"+z("R")+B[E]+z("/")+x[E],k+="</td>",1==E&&(k+="</tr><tr>"));k+="</tr></table>";k+="</div>";k+='<a href="'+h+'" class=bt3 target=_blank></a>';kb("DIV",a,"",{innerHTML:k},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=C.wgOpen;++e}e||(a.innerHTML="<br>"+I.Nc);kb("DIV",a,"gray",{innerHTML:I.Oc},{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}
var d,b,f=128;return{If:function(c){d=c;Sa(sa[13]()+(1E4>d?Va(4,d):d)+".js",function(a){if(b=a.substr(3,a.length-3-2))try{b=JSON.parse(b)}catch(m){return}if(b)for(a=0;a<b.length;++a)b[a]=b[a].split(",");e()});e();a();Z.wgF2.style.display=0==d?"":"none"},wgF0:function(){f=f&-7|(f&2?4:f&4?0:2);a();e()},wgF1:function(){f=f&-25|(f&8?16:f&16?0:8);a();e()},wgF2:function(){f=f&-225|(f&32?64:f&64?128:f&128?0:32);a();e()},wgOpen:function(a){if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey))return a=a.target,
u.wg=a.href.split("?wg=")[1],u.TW=u.tw=0,v.ka(11),!1}}}());var Dc=[1,65,9,73,17,81,25,89,129,193,137,201,145,209,153,217,33,97,41,105,49,113,57,121,161,225,169,233,177,241,185,249,1057,545,1569,1065,553,1577,1585,1593],Ec=[7,3,15,11,135,131,143,139,39,35,47,43,167,163,175,171];
Gb({JP:{Pc:'---- ご注意 ----<br><br>Android4.4より前の標準ブラウザでは、対戦を行うことはできますが、表示の乱れやダブルタップで意図しない拡大が発生することがあります。Android4.4以降にOSをアップデートするか<a href="https://play.google.com/store/apps/details?id=com.android.chrome">Google Chrome Browser</a>を使用してください。',Tc:"必要な画像リソースの読み込みが完了していません",
Sb:"予約",Xc:"テストプレイ",Zc:"有効期限",ad:"段級位を取得するには<br>「新規ID」登録が必要です",ed:"接続",fd:"待機",dd:"終局",Qc:"上級卓の入場条件(１級以上または有効期限60日以上)を満たしていません※七段R2000以上は入場できません",
Uc:"特上卓の入場条件(四段R1800以上を満たしていません",Rc:"鳳凰卓の入場条件(七段R2000以上の有料会員)を満たしていません",Sc:"雀荘戦の入場条件(四段R1800以上の有料会員)を満たしていません",gd:"●アドレスバーを小さくするには下にスクロールしてからゆっくり上にスクロールします(機種依存あり)",
hd:"●OK/パス/ツモ切りは右クリックまたは余白をダブルタップ",jd:"※下の&laquo;&raquo;でタブを移動してください。",cd:"※段位戦４人打ち合算戦績",bd:"※段位戦３人打ち合算戦績",vc:"日月火水木金土".split(""),Gc:"【開催期間】",
Hc:"開始",Fc:"終了",Ec:"【ルール】",xc:"【ランキング】",Bc:"このロビーでは使用していません",Cc:"連続3戦の最大合計得点",Dc:"連続5戦の最大合計得点",zc:"【最新3戦】",Ac:"【最新3戦】",yc:"【最高得点】",pc:"【祝儀】",qc:"なし",
Ob:"祝儀1枚2000点",Pb:"祝儀1枚5000点",wc:"【参加費】",tc:"【参加対象】",zb:"予約",yb:"対戦",Qa:"人",kc:"有料会員向けの大会に参加するにはID登録が必要です。ログイン画面の「新規ID」からIDを取得してください",jc:"参加費が有料の大会に参加するにはID登録が必要です。ログイン画面の「新規ID」からIDを取得してください",
uc:"大会への参加費として\n\n有効期限###日分\n\nを支払います。よろしいですか？",nc:"参加登録",oc:"参加予約",lc:"参加不可",mc:"終了",Ya:["あと","日","時間","分","秒"],Zb:"※表示する対戦ルールを選択してください",kb:["位",
"位","位","位"],de:"月間戦績",na:"通算  得点 順位 収支 祝儀 平均  トップ 連対率 ラス率  Rate 総合 対戦数".split(" "),ee:"通算戦績",ha:"１位率 ２位率 ３位率 ４位率 飛び率 対戦数 平均得点 平均順位 平均収支 平均祝儀 和了率 放銃率 副露率 立直率 Rate".split(" "),
Vc:"マニュアル",Yc:"牌理",Wc:"料金のお支払い",$c:"牌譜/観戦URLを入力してください"},EN:{Pc:'---- ATTENTION ----<br><br>It is possible to play in Android versions older than 4.4, but you may face poor display quality and erratic behaviors when tapping. Please, update to Android4.4 or more, or <a href="https://play.google.com/store/apps/details?id=com.android.chrome">use the Google Chrome Browser</a> to play.',
Tc:"Still loading all necessary image resources...",Sb:"Join",Xc:"TEST PLAY",Zc:"Expire",ad:"To acquire a Rank<br>register a New ID",ed:"Online",fd:"Idle",dd:"Last",Qc:"You don't meet the requirements for 上級 tables (1 Kyu or more, or 60 days left of Premium) *七段R2000 and above can't enter",Uc:"You don't meet the requirements for 特上 tables (四段R1800 and above)",Rc:"You don't meet the requirements for 鳳凰 tables (Premium + 七段R2000 and above)",
Sc:"You don't meet the requirements for 雀荘戦 tables (Premium + 四段R1800 and above)",gd:"*To minimize the address bar, scroll down and then scroll back up slowly (device dependant)",hd:"*To accept, pass or to discard the tile you just drew, double tap or right click an empty space of the screen.",jd:"*Use the &laquo;&raquo; arrows below to move around tabs",cd:"*4-Player Ranked Total Stats",bd:"*3-Player Ranked Total Stats",vc:"Sun Mon Tue Wed Thr Fri Sat".split(" "),Gc:"【SCHEDULE】",
Hc:"Start",Fc:"End",Ec:"【RULES】",xc:"【RANKING】",Bc:"Not used in this lobby",Cc:"Best 3 Consecutive Matches Total",Dc:"Best 5 Consecutive Matches Total",zc:"【LAST 3】",Ac:"【LAST 5】",yc:"【BEST SCORE】",pc:"【CHIP】",qc:"none",Ob:"2000 pts per chip",Pb:"5000 pts per chip",wc:"【JOIN FEE】",tc:"【CONDITIONS】",zb:"WAIT ",yb:"PLAY ",Qa:"",kc:"For Premium championships you need a registered ID. Go back to the login panel and create a New ID.",
jc:"For championships with an entry fee you need a registered ID. Go back to the login panel and create a New ID.",uc:"You will pay \n\n Premium ### days\n\nto enter this championship. Proceed?",nc:"Entry",oc:"Entry",lc:"CAN'T ENTER",mc:"End",Ya:["WAIT ","DAYs","HOURs","MINs","SECs"],Zb:"*Select the rules you want to Display",kb:["st","nd","rd","th"],de:"MonthlyStats",na:"Sum Rank Pts Placing Gains Chips Avg. Rank 1st<small>%</small> Half<small>%</small> Last<small>%</small>  Rate Total Matches".split(" "),
ee:"TotalStats",ha:"1st<small>%</small> 2nd<small>%</small> 3rd<small>%</small> 4th<small>%</small> Tobi<small>%</small> Games <small>Avg.</small>Pts <small>Avg.</small>Place <small>Avg.</small>Gain <small>Avg.</small>Chips Win<small>%</small> DealIn<small>%</small> Call<small>%</small> Riichi<small>%</small> Rate".split(" "),Vc:"Documents",Yc:"TileEfficiency",Wc:"Pay membership fee",$c:"Enter the URL of the log/game"}});
function Fc(a){var e=a%10;a%=100;return 1==e&&11!=a?I.kb[0]:2==e&&12!=a?I.kb[1]:3==e&&13!=a?I.kb[2]:I.kb[3]}
ya(C,function(){function a(){return(""+(p.rule||"")).split(",")}function e(){function b(a,b){var c=d[a].childNodes[1];c.className="";c.innerHTML=b}function c(a,c,d){b(a,c==d?"1.00":(c/d).toFixed(3).substr(1))}if(Z.pftab){Z.pftab.style.display="none";Z.pftab_.style.display="";for(var d=Z.pftab.getElementsByTagName("TR"),e=1;e<d.length;++e)if(!(2>d[e].childNodes.length)){var f=d[e];f.style.borderBottom="1px solid #444";f=d[e].childNodes[0];f.className="gray";f.style.textAlign="left";f=d[e].childNodes[1];
f.innerHTML="-";f.className="gray";f.style.textAlign="right"}d[16].childNodes[0].innerHTML="";if(e=~~a()[4]){var g,f=4,n=0,h="";switch(x(e)){case 4:f=4;n=0;g=C[17];h=I.cd;break;case 3:f=3;n=0;g=C[16];h=I.bd;break;case 601:f=4;n=0;g=C[18];break;case 602:f=4;n=2;g=C[19];break;case 603:f=4;n=5;g=C[20];break;case 611:f=4;n=0;g=C[21];break;case 612:f=4;n=2;g=C[22];break;case 613:f=4;n=5;g=C[23];break;case 623:f=3;n=5;g=C[24];break;case 633:f=3,n=5,g=C[25]}d[16].childNodes[0].innerHTML=h;g&&(Z.pftab.style.display=
"",Z.pftab_.style.display="none",h=~~g[4]+~~g[5]+~~g[6]+~~g[7])&&(c(1,g[4],h),c(2,g[5],h),c(3,g[6],h),4==f&&c(4,g[7],h),c(5,g[8],h),b(6,h),b(7,(0<g[3]?"+":"")+(g[3]/h).toFixed(1)),b(8,((1*~~g[4]+2*~~g[5]+3*~~g[6]+4*~~g[7])/h).toFixed(2)),0!=(e&1536)&&(e=1*g[3]+g[0]*n,b(9,(0<e?"+":"")+(e/h).toFixed(1)),b(10,(~~g[0]/h).toFixed(2))),c(11,g[10],g[9]),c(12,g[11],g[9]),c(13,g[12],g[9]),c(14,g[13],g[9]),b(15,~~g[2]))}}}function d(b){function c(a){for(var b,c=1;c<arguments.length;++c)b=f[a].childNodes[c],
b.className="",b.innerHTML=arguments[c]}function d(a,b,d){c(a,b,(d?d:"- ")+z(Fc(d)))}function e(a,b,d,e){c(a,b==d?"1.00":(b/d).toFixed(3).substr(1),(e?e:"- ")+z(Fc(e)))}var g=Z.rnktab;if(g){Z.rnktab.style.display="none";Z.rnktab_.style.display="";for(var f=g.getElementsByTagName("TR"),n=1;n<f.length;++n){var g=f[n],h=g.childNodes;if(!(2>h.length)){16!=n&&18!=n&&(g.style.borderBottom="solid 1px #444");h[0].style.textAlign="left";h[0].className="gray";for(var k=1;k<h.length;++k)g=h[k],g.className="gray",
g.style.textAlign="right",g.style.paddingLeft="0.5em",1!=n&&6!=n&&(g.innerHTML="-")}}c(18,z("-"));g=~~a()[3];W.Pa!=g&&(W.Pa=g,W.L('<PXR V="'+g+'" />'));if(g&&(Z.rnktab.style.display="",Z.rnktab_.style.display="none",b&&(b=b.v2.split(","),15==b.length||21==b.length))){var n=~~b[0],h=~~b[1],k=~~b[2],m=~~b[3],l=n+h+k+m,J=b[4],w;switch(x(g)){case 4:w=C[17][2];break;case 3:w=C[16][2];break;case 601:w=C[18][2];break;case 602:w=C[19][2];break;case 603:w=C[20][2];break;case 611:w=C[21][2];break;case 612:w=
C[22][2];break;case 613:w=C[23][2];break;case 623:w=C[24][2];break;case 633:w=C[25][2]}var B=~~b[6],Wa=~~b[7],D=~~b[8],y=~~b[9],E=~~b[10],ca=~~b[11],pa=~~b[12],ea=~~b[13],fa=~~b[14];if(l){var Ta=g&16?30*n+0*h+-30*k:30*n+10*h+-10*k+-30*m,va=g&16?1*n+2*h+3*k:1*n+2*h+3*k+4*m,wa=n+h,ua=g&16?k:m;d(2,Ya(J),Wa);d(7,Ya((J/l).toFixed(1)),D);d(3,Ya(Ta),y);d(8,(va/l).toFixed(2),E);e(11,n,l,ca);~g&16&&e(12,wa,l,pa);e(13,ua,l,ea)}if(21==b.length){var J=b[15],ca=b[16],ra=~~b[17],qa=~~b[18],pa=~~b[19],ea=~~b[20];
d(4,Ya(J),ra);d(9,Ya((J/l).toFixed(1)),qa);d(5,Ya(ca),pa);d(10,Ya((ca/l).toFixed(2)),ea)}J="-";15==b.length&&D&&(J=Wa+D+y+E);21==b.length&&qa&&(J=ra+qa);d(15,~~w,fa);d(16,J,B);c(18,n+z(" + ")+h+z(" + ")+k+(g&16?"":z(" + ")+m)+z(" = ")+l)}}}function b(a){a=a.rankingcs.split(",");var b="",c=I.Bc,d=I.qc,e="",g="-",f=[],n="- -";a[0]=a[0]||y.ranking;if("sc3m"==a[0]||"sc3c0m"==a[0]||"sc3c2m"==a[0]||"sc3c5m"==a[0])c=I.Cc,"sc3c2m"==a[0]&&(d=I.Ob),"sc3c5m"==a[0]&&(d=I.Pb),e=I.zc,a[8]&&(n=a[8]),a[6]&&(g=Ya(Number(a[6]).toFixed(1))),
a[3]&&f.push(Ya(Number(a[3]).toFixed(1))),a[2]&&f.push(Ya(Number(a[2]).toFixed(1))),a[1]&&f.push(Ya(Number(a[1]).toFixed(1))),f.length&&f.push("= "+Ya((1*a[1]+1*a[2]+1*a[3]).toFixed(1)));else if("sc5m"==a[0]||"sc5c0m"==a[0]||"sc5c2m"==a[0]||"sc5c5m"==a[0])c=I.Dc,"sc5c2m"==a[0]&&(d=I.Ob),"sc5c5m"==a[0]&&(d=I.Pb),e=I.Ac,a[9]&&(n=a[9]),a[7]&&(g=Ya(Number(a[7]).toFixed(1))),a[5]&&f.push(Ya(Number(a[5]).toFixed(1))),a[4]&&f.push(Ya(Number(a[4]).toFixed(1))),a[3]&&f.push(Ya(Number(a[3]).toFixed(1))),a[2]&&
f.push(Ya(Number(a[2]).toFixed(1))),a[1]&&f.push(Ya(Number(a[1]).toFixed(1))),f.length&&f.push("= "+Ya((1*a[1]+1*a[2]+1*a[3]+1*a[4]+1*a[5]).toFixed(1)));f=f.length?f.join(" "):"--";b+='<div style="display:inline-block;text-align:left;">'+z(I.xc)+"　"+c+"<br>"+z(I.yc)+"　"+g+"　"+z(I.pc)+"　"+d+"</div>";b+='<div style="font-size:375%;padding:0.1em 0;">'+n+Fc(n)+"</div>";b+=z(e)+" "+f+"<br>";Z.csranking.innerHTML=b}function f(){if(M[4096]&&M[4096].complete&&M[4196]&&M[4196].complete&&
M[4296]&&M[4296].complete&&M[4396]&&M[4396].complete&&M[4496]&&M[4496].complete)return!0;A.l(I.Tc);return!1}function c(a){var b=Z.panes.childNodes,c=b.length;ca=(ca-1+a+c-1)%(c-1)+1;for(a=1;a<c;++a)b[a].style.display=a==ca?"":"none";Z.paneDisp.innerHTML=b[ca].firstChild.innerHTML;Z.panePrev.innerHTML=2>ca?"&laquo;":"　";Z.paneNext.innerHTML=2>ca?"&raquo;":"　";Z.hdr.style.display=b[ca].classList.contains("nohdr")?"none":"";b=b[ca].classList;b.contains("init_tlist")&&(b.remove("init_tlist"),
C.af(Z.tlist));b.contains("init_hlist")&&(b.remove("init_hlist"),C.We(Z.hlist));b.contains("init_klist")&&(b.remove("init_klist"),C.If(B))}function g(a){return(new Date(a.substr(0,4),a.substr(4,2),a.substr(6,2),a.substr(8,2),a.substr(10,2),a.substr(12,2))).getTime()}function m(a){return a.replace(/(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)/,function(a,b,c,d,e,g){return b+"."+c+"."+d+"("+I.vc[(new Date(b,c-1,d)).getDay()]+") "+e+":"+g})}function k(){var a=C[1];Z.expdisp.innerHTML=z(I.Zc+":")+(a?a.replace(/(\d\d\d\d)(\d\d)(\d\d)/,
"$1.$2.$3"):"- - - -")}function h(){var a=~~y.players,b=~~y.premiumonly,c=~~y.joinfee,d=y.rule,e=parseInt(d[2],16),g;g=""+(e&8?"東南":"東風")+(e&16?"サンマ":"戦")+" "+(e&4?"喰ナシ":"喰あり")+(e&2?"赤ナシ":"赤あり")+" ";ia(B,e)&&(g+="速");e&256&&(g+="暗");e&512&&(g+="祝");var f="",n=~~d[3],h=~~d[4],k=~~d[5],l=~~d[6];y.Fa=!!y.join;if(y.Fa){var x=(e&16?C[16]:C[17])[0];n&&h?y.Fa=n<=x&&x<=h:n?y.Fa=n<=x:h&&(y.Fa=
x<=h)}y.Fa&&(e=(e&16?C[16]:C[17])[2],k&&l?y.Fa=k<=e&&e<=l:k?y.Fa=k<=e:l&&(y.Fa=e<=l));n&&h&&n==h?f+=ba[n]+"限定":n&&h?f+=ba[n]+"～"+ba[h]:n?f+=ba[n]+"以上":h&&(f+=ba[h]+"以下");f.length&&(k||l)&&(f+=" & ");k&&l?f+="R"+k+"～R"+l:k?f+="R"+k+"以上":l&&(f+="R"+l+"以下");f.length||(f+="段位R指定なし");f+="<br>";f=c?f+"だれでもOK":b?f+(a?"固定 "+a+" 名(有効期限3日以上)":"有効期限3日以上"):
f+(a?"固定 "+a+" 名":"だれでもOK");a=c?"有効期限"+c+"日分":a?"- - -":b?"なし":"無料";d=""+('<div style="font-size:150%;padding-top:0.25em;">'+decodeURIComponent(y.title)+'</div><hr><table cellpadding=0 cellspacing=0 style="margin:0 auto;text-align:left;"><tr><td><table cellpadding=0 cellspacing=0><tr><td colspan=3>'+z(I.Gc+"JST")+"<br></td></tr><tr><td>"+z(I.Hc)+"</td><td>&nbsp;</td><td>"+m(d[0])+"</td></tr><td>"+z(I.Fc)+"</td><td></td><td>"+
m(d[1])+'</td></tr></td></tr><tr><td colspan=3 style="padding-top:0.25em;">'+z(I.Ec)+"<br>"+g+'</td></tr></table></td><td style="padding:0 0 0 1em;"><table cellpadding=0 cellspacing=0><tr><td>'+z(I.wc)+"<br>"+a+'<br></td></tr><tr><td style="padding-top:0.25em;">'+z(I.tc)+"<br>"+f+"</td></tr></table></td></tr></table>");Z.csmain.innerHTML=d;W.L("<DATE />")}function l(){pa=void 0;Z.joincs0&&W.L("<DATE />")}function n(a){return'<div style="margin:0.5em 0;"><div class=select-wrapper><button name=rule id=rule'+
a+' style="width:11.5em;text-align:left;"></button></div><button name=join id=join'+a+" disabled>"+I.Sb+"</button></div>"}function x(a){if(0!=(a&1536))switch(a){case 1057:return 601;case 545:return 602;case 1569:return 603;case 1065:return 611;case 553:return 612;case 1577:return 613;case 1585:return 623;case 1593:return 633}else return a&16?3:4}function E(a){return a?(ka(a)+"　　　").substr(0,6)+"&nbsp;&nbsp;"+J[a]:"SELECT GAME"}function w(a){return a.replace(/,/g,"</td><td>").replace(/\|/g,
"</td></tr><tr><td>").replace(/>\(/g,'><table cellpadding=0 cellspacing=0 width=100% style="border-collapse:collapse;"><tr><td>').replace(/\)</g,"</td></tr></table><")}var B,y,J={n:[],gb:[],ab:[]},D={},ca=location.search.match(/^\?(C[0-9]{8})/)?2:1,pa;return{bc:function(){D={};location.search.match(/^\?L([1-9][0-9]{3})/)?(W.L({tag:"LOBBY",id:RegExp.$1}),B=~~RegExp.$1):location.search.match(/^\?(C[0-9]{8})/)?(B=~~("1"+RegExp.$1.substr(1,4)),W.L({tag:"CS",lobby:RegExp.$1})):(B=0,C.l({tag:"LOBBY"}))},
LOBBY:function(a,g){Vb.u.canvas.style.visibility="";W.Pa=0;var f;f=C[17];var l=C[16];C[2]||f.length||l.length?(f.length||(f=[0,0,1500]),l.length||(l=[0,0,1500]),f="<tr><td class=gray>四麻:</td><td>"+ba[f[0]]+"</td><td class=gray>R</td><td>"+~~f[2]+'</td><td style="padding:0 0 0 0.25em;">'+f[1]+"</td><td class=gray>/</td><td>"+ma[~~f[0]]+"</td><td class=gray>pt</td></tr>",l="<tr><td class=gray>三麻:</td><td>"+ba[l[0]]+"</td><td class=gray>R</td><td>"+~~l[2]+'</td><td style="padding:0 0 0 0.25em;">'+
l[1]+"</td><td class=gray>/</td><td>"+ma[~~l[0]]+"</td><td class=gray>pt</td></tr>"):(f="<tr><td class=gray>"+I.ad+"</td></tr>",l="");f='<div id=panes style="height:16em;">'+('<div id=hdr><table cellpadding=0 cellspacing=0 style="width:100%;white-space:nowrap;text-align:right;"><tr><td><table cellpadding=0 cellspacing=0 style="width:100%;"><tr><td style="text-align:left;">'+z(I.ed+":")+"<span id=lnn0>"+~~J.n[0]+"</span> "+z(I.fd+":")+"<span id=lnn2>"+~~J.n[2]+"</span> "+z(I.dd+":")+"<span id=lnn3>"+
~~J.n[3]+"</span> </td></tr><tr><td><span id=iddisp>"+Ca(C[0])+'</span> <span id=expdisp></span></td></tr></table></td><td rowspan=2 style="width:1px;padding-left:0.25em;"><table cellpadding=0 cellspacing=0 align=right>'+f+l+'</table></td></tr></table><div style="display:none;"></div><hr></div>');f+='<div style="display:none;padding:1em 1em;"><span style="display:none;">　</span><div id=lbinfo style="height:3em;">'+z((oa?"":I.gd)+" "+I.hd)+"</div><br><div class=select-wrapper><button name=testplay>"+
I.Xc+"</button></div><br><br><br>"+z(I.jd)+"</div>";1E4>B?f+='<div style="display:none;padding:0.25em 0;"><span style="display:none;">'+(0==B?"対戦":"個室L"+Va(4,B))+"</span>"+n(0)+n(1)+n(2)+"</div>":2E4>B&&(f+='<div style="display:none;"><span style="display:none;">大会C'+Va(4,B%1E4)+'</span><div id=csmain style="height:9em;"></div><span style="font-size:150%;padding:0 1em;">'+z(I.zb)+"<span id=lnj0>"+~~J.gb[0]+"</span>"+z(I.Qa)+" "+z(I.yb)+"<span id=lng0>"+~~J.ab[0]+"</span>"+
z(I.Qa)+"</span>",f+="<button name=join id=joincs0 disabled>　</button></div>");1E4<=B&&2E4>B&&(f+='<div style="display:none;"><span style="display:none;">大会C'+Va(4,B%1E4)+'</span><div id=csranking style="height:9em;"></div><span style="font-size:150%;padding:0 1em;">'+z(I.zb)+"<span id=lnj1>"+~~J.gb[0]+"</span>"+z(I.Qa)+" "+z(I.yb)+"<span id=lng1>"+~~J.ab[0]+"</span>"+z(I.Qa)+"</span>",f+="<button name=join id=joincs1 disabled>　</button></div>");0==B?f+=w('<div style="display:none;"><span style="display:none;">'+
I.de+"</span>"+n(3)+'<table cellpadding=0 cellspacing=0 id=rnktab style="margin:0 auto;"><tr><td valign=top style="min-width:10em;">(,'+I.na[0]+","+I.na[1]+"|"+I.na[2]+",,|"+I.na[3]+",,|"+I.na[4]+",,|"+I.na[5]+',,)</td><td style="width:0.5em;"></td><td valign=top style="min-width:7em;">(,'+I.na[6]+","+I.na[7]+'|,,|,,|,,|,,)</td><td rowspan=2 style="width:1em;"></td><td rowspan=2 valign=top style="min-width:11em;">('+I.na[8]+",,|"+I.na[9]+",,|"+I.na[10]+',,|<div style="border-bottom:1px solid transparent;">&nbsp;</div>|'+
I.na[12]+",,|"+I.na[13]+',,)</td></tr><tr><td colspan=3 align=right style="padding:0;"><table cellpadding=0 cellspacing=0 style="border-collapse:collapse;"><tr><td style="padding-right:0.5em;">'+I.na[14]+",</td></tr></table></tr></table><div id=rnktab_><br><br>"+z(I.Zb)+"</div></div>"):(f+='<div style="display:none;"><span style="display:none;">'+(1E4>B?"個室L":"大会C")+Va(4,B%1E4)+'</span><div style="height:8.5em;border:1px solid #444;text-align:left;margin-bottom:0.5em;position: relative;"><button name=chatInput style="font-size:100%;position:absolute;right:0;top:8.5em;">&middot;&middot;&middot;</button><div id=chat style="height:100%;font-size:75%;overflow-y:scroll;"><div>#ENTER LOBBY '+
B+"</div></div></div>",1E4>B?f+=n(3):2E4>B&&(f+='<span style="font-size:150%;padding:0 1em;">'+z(I.zb)+"<span id=lnj2>"+~~J.gb[0]+"</span>"+z(I.Qa)+" "+z(I.yb)+"<span id=lng2>"+~~J.ab[0]+"</span>"+z(I.Qa)+"</span><button name=join id=joincs2 disabled>　</button>"),f+="</div>");0==B&&(f+=w('<div style="display:none;"><span style="display:none;">'+I.ee+"</span>"+n(4)+'<table cellpadding=0 cellspacing=0 id=pftab style="margin:0 auto;"><tr><td valign=top style="min-width:6.5em;">('+I.ha[0]+",|"+I.ha[1]+
",|"+I.ha[2]+",|"+I.ha[3]+",|"+I.ha[4]+',)</td><td style="width:1em;"></td><td valign=top style="min-width:8em;">('+I.ha[5]+",|"+I.ha[6]+",|"+I.ha[7]+",|"+I.ha[8]+",|"+I.ha[9]+',)</td><td style="width:1em;"></td><td valign=top style="min-width:6.5em;">('+I.ha[10]+",|"+I.ha[11]+",|"+I.ha[12]+",|"+I.ha[13]+",|"+I.ha[14]+',)</td></tr><tr><td colspan=5 class=gray style="font-size:75%;padding:0.2em;"></td></tr></table><div id=pftab_><br><br>'+z(I.Zb)+"</div></div>"));f+='<div class="nohdr init_hlist" style="display:none;height:100%;"><span style="display:none;">'+
I.Qb+'</span><div style="position:relative;height:100%;"><div class=sscl id=hlist style="position:relative;height:100%;border:solid 1px #222;overflow-y:scroll;"></div><div class=sblink style="visibility:hidden;">▼</div></div></div>';f+='<div class="nohdr init_klist" style="display:none;height:100%;"><span style="display:none;">'+I.Rb+'</span><div style="position:relative;height:100%;"><div class=sscl id=klist style="position:relative;height:100%;border:solid 1px #222;overflow-y:scroll;"></div><div class=sblink style="visibility:hidden;">▼</div><button name=wgF0 class="ra0 bgb" style="position:absolute;left:0em;bottom:0em;">－</button><button name=wgF1 class="ra0 bgb" style="position:absolute;left:2em;bottom:0em;">－</button><button name=wgF2 class="ra0 bgb" style="position:absolute;left:4em;bottom:0em;">－</button></div></div>';
f=f+'<div class="nohdr init_tlist" style="display:none;height:100%;"><span style="display:none;">Trainingβ</span><div style="position:relative;height:100%;"><div class=sscl id=tlist style="position:relative;height:100%;border:solid 1px #222;overflow-y:scroll;"></div><div class=sblink style="visibility:hidden;">▼</div></div></div>'+('<div style="display:none;padding:2em 0"><span style="display:none;">Tools</span> <button name=openurl>OpenURL</button> <button name=help>'+I.Vc+"</button> <button name=hairi>"+
I.Yc+"</button><br><br><button name=purchase>"+I.Wc+"</button><br></div>");fb&&(f+='<div style="display:none;"><span style="display:none;">Caution</span><div style="padding:1em 4em;">'+I.Pc+"</div></div>");f+="</div><hr>";l=!!Object.keys(D).length;g.innerHTML=f+('<table cellpadding=0 cellspacing=0 style="width:100%;"><tr><td style="position:relative;vertical-align:middle;"><div id=paneDisp style="position:absolute;font-size:300%;width:100%;padding:0.25em 0;pointer-events:none;">　</div><button name=panePrev class=ra1 style="font-size:300%;width:50%;height:1.5em;">　</button><button name=paneNext class=ra2 style="font-size:300%;width:50%;height:1.5em;">　</button></td><td style="width:9.5em;"><button name=cancel style="width:100%;height:2.5em;'+
(l?"":"display:none;")+'">CANCEL</button><button name=logout style="width:100%;height:2.5em;'+(l?"display:none;":"")+'">LOGOUT</button></td></tr></table>');Ac(g);C["#rule0"]();e();d();k();c(0);1E4<=B&&2E4>B&&(h(),b({rankingcs:""}),W.Pa=-1,W.L('<PXR V="-1" />'));u.training&&setTimeout(function(){C.l({tag:"TRAINING",file:u.training})},1)},ff:function(a){J.n=a.n.split(",");J.gb=a.j.split(",");J.ab=a.g.split(",");Z.lnn0&&(Z.lnn0.innerText=~~J.n[0],Z.lnn2.innerText=~~J.n[2],Z.lnn3.innerText=~~J.n[3],C["#rule0"]());
for(a=0;3>a;++a)Z["lnj"+a]&&(Z["lnj"+a].innerText=~~J.gb[0]),Z["lng"+a]&&(Z["lng"+a].innerText=~~J.ab[0]);return 1},bf:function(a){var b=a.lobby;b&&(4==b.length?(B=~~b,C.l({tag:"LOBBY"})):9==b.length&&(B=~~("1"+b.substr(1,4))));var b=$a.getElementById("chat"),c=a.text;if(b&&c&&c.length){c=decodeURIComponent(c);(a=a.uname)&&a.length&&(c=decodeURIComponent(a)+": "+c);a=$a.createElement("DIV");a.innerText=c;var c=b.scrollHeight,d=b.scrollTop+b.clientHeight;b.appendChild(a);c<=d&&d<b.scrollHeight&&(b.scrollTop=
b.scrollHeight)}return 1},cf:function(a){a&&(y=a,y.rule=y.rule.split(","),y.join=~~y.join,y.joinfee=~~y.joinfee,y.players=~~y.players,y.premiumonly=~~y.premiumonly);Z.joincs0?h():C.l({tag:"LOBBY"});return 1},df:function(a){var b=Z.joincs0;if(!b)return 1;a=g(a.t);var c=g(y.rule[0]),d=g(y.rule[1]);if(d<=a)b.innerText=I.mc,b.disabled=!0;else if(y.Fa)if(a<c){var e=(c-a)/1E3;b.innerText=I.Ya[0]+(86400<e?(e/24/60/60).toFixed(1)+I.Ya[1]:3600<e?(e/60/60).toFixed(1)+I.Ya[2]:60<e?(e/60).toFixed(1)+I.Ya[3]:
5*~~(e/5)+I.Ya[4]);b.disabled=!0}else e=parseInt(y.rule[2],16),b.innerText=I.Sb,b.disabled=!!D[e];else y.joinfee?(b.innerText=I.nc,b.disabled=!1):y.premiumonly?(b.innerText=I.oc,b.disabled=!1):(b.innerText=I.lc,b.disabled=!0);Z.joincs1.innerText=Z.joincs2.innerText=b.innerText;Z.joincs1.disabled=Z.joincs2.disabled=b.disabled;pa||(pa=setTimeout(l,a<c-6E4||d<a||c<a&&a<d-3E4?3E4:5E3));return 1},hf:d,jf:function(a){Z.joincs0&&b(a)},panePrev:function(){c(-1)},paneNext:function(){c(1)},testplay:function(){A.Z('<div class=A id="#testplay-64">'+
ka(64)+'<div class=desc>(４人打 東風 喰断アリ 赤アリ 速)</div></div><div class=A id="#testplay-0">'+ka(0)+'<div class=desc>(４人打 東風 喰断アリ 赤アリ)</div></div><div class=A id="#testplay-16">'+ka(16)+'<div class=desc>(３人打 東風 喰断アリ 赤アリ)</div></div><div class=A id="#testplay-1536">'+ka(1536)+'<div class=desc>(４人打 東風 喰断アリ 赤アリ 祝儀)</div></div><div class=A id="#testplay-1552">'+
ka(1552)+'<div class=desc>(３人打 東風 喰断アリ 赤アリ 祝儀)</div></div><div class=A id="#testplay-2064">東天紅 三麻β<div class=desc>(３人打 東天紅)</div></div>',"font-size:80%;text-align:left;",0)},"#testplay":function(a,b){if(f()){var c=~~b;lb(!0,3,1);Z.cancel.style.display="";Z.logout.style.display="none";W.L({tag:"JOIN",t:B+","+c})}},rule:function(a){C["#rule0"]("#"+a.id)},"#rule0":function(b,
c){for(var f=0;f<na.length;++f)J[na[f]]=~~J.gb[f]+":<div class=n2r>"+~~J.ab[f]+"</div>";var g=[],n=C[2],h=C[17],k=C[16],l="";b&&void 0===c&&(l+='<div class=A id="'+b+'-0">SELECT GAME</div>');for(var m=Dc.concat(~~p.swar?Ec:[]),f=0;f<m.length;++f){var x=!0,w=m[f],y=w&16?k:h;if(!B)switch(ja(w)+4*(0!=(w&1536))){case 0:x=13<=y[0]&&1800<=y[2]?!1:!0;break;case 1:x=16<=y[0]&&2E3<=y[2]?!1:9<=y[0]||60<=n;break;case 2:x=13<=y[0]&&1800<=y[2]?!0:!1;break;case 3:x=16<=y[0]&&2E3<=y[2]?n:!1;break;case 6:x=13<=y[0]&&
1800<=y[2]?n:!1}else if(1E4>B&&ja(w)+4*(0!=(w&1536)))continue;x?(g[w]=1,l&&(l+='<div class="A nobr"id="'+b+"-"+w+'">'+E(w)+"</div>")):l&&"#rule3"==b&&(l+='<div class="A nobr" id="'+b+"-"+w+'">'+ka(w)+"</div>")}b&&"#rule3"!=b&&l&&!B&&(9<=h[0]||60<=n||(l+='<div class=A id="'+b+'-128">※四麻上級卓</div>'),9<=k[0]||60<=n||(l+='<div class=A id="'+b+'-144">※三麻上級卓</div>'),13<=h[0]&&1800<=h[2]||(l+='<div class=A id="'+b+'-32">※四麻特上卓</div>'),
13<=k[0]&&1800<=k[2]||(l+='<div class=A id="'+b+'-48">※三麻特上卓</div>'),13<=h[0]&&1800<=h[2]&&n||(l+='<div class=A id="'+b+'-1056">※四麻雀荘戦</div>'),13<=k[0]&&1800<=k[2]&&n||(l+='<div class=A id="'+b+'-1072">※三麻雀荘戦</div>'),16<=h[0]&&2E3<=h[2]&&n||(l+='<div class=A id="'+b+'-160">※四麻鳳凰卓</div>'),16<=k[0]&&2E3<=k[2]&&n||(l+='<div class=A id="'+b+'-176">※三麻鳳凰卓</div>'));
b&&void 0===c&&(l+='<div class=A id="'+b+'-showall">※喰断ナシON/OFF</div>');if(l)A.Z(l,"text-align:left;",0);else if(b&&"showall"==c)Cb("swar",~~!~~p.swar,0);else{n=a();5>n.length&&(n=[1,9]);if(b){if(n[~~b.slice(-1)]==c)return;n[~~b.slice(-1)]=~~c}for(f=0;5>f;++f)if(Z["rule"+f]&&Z["join"+f]){w=~~n[f];if(0==(w&2048)&&~w&1){switch(w){case 128:case 144:A.l(I.Qc);break;case 32:case 48:A.l(I.Uc);break;case 160:case 176:A.l(I.Rc);break;case 1056:case 1072:A.l(I.Sc)}w=0}3==f&&w&&!g[w]?
(n[f]=w,Z["join"+f].disabled=!0,Z["rule"+f].innerHTML=ka(w)):(g[w]||(w=0),D[w]||(Z["join"+f].disabled=!w),n[f]=w,Z["rule"+f].innerHTML=E(w))}p.rule=n;"#rule3"==b&&d();"#rule4"==b&&e()}},join:function(b){if(f()){var c;if("joincs0"!=b.id&&"joincs1"!=b.id&&"joincs2"!=b.id){var d=a();c=d[~~b.id.slice(-1)];for(b=0;5>b;++b)c==d[b]&&Z["rule"+b]&&(Z["rule"+b].disabled=Z["join"+b].disabled=!0)}else if(y.Fa)c=parseInt(y.rule[2],16),Z.joincs0.disabled=Z.joincs1.disabled=Z.joincs2.disabled=!0;else{if(y.joinfee){var e=
p.uname;if(!e||!e.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)){A.l(I.jc);return}A.l(I.uc.replace("###",y.joinfee),3,function(){Sa(sa[32]()+"?lobby="+B+"&uname="+e,function(a){a=Da(a);H.ERR({code:a.res});1027==a.res&&(C[1]=a.expire,k(),C.bc())})});return}if(y.premiumonly){e=p.uname;if(!e||!e.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)){A.l(I.kc);return}H.ERR({code:1020});return}}lb(!0,1);Z.cancel.style.display="";Z.logout.style.display="none";W.L({tag:"JOIN",t:B+","+c});D[c]=1}},openurl:function(){A.l(I.$c+
'<br><input type=text size=20 value="" style="font-size:100%;" value=""/>',3,function(a){a=a.getElementsByTagName("INPUT")[0];u.Df(a.value)})},cancel:function(){lb(!1,"rule","join",1);Z.cancel.style.display="none";Z.logout.style.display="";D={};C["#rule0"]();W.L({tag:"JOIN"})},logout:function(){lb(!0,3,1);v.ka(11)},purchase:function(){var a=p.uname;a&&a.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?oa&&store?C.l({tag:"STORE"}):r.open("https://tenhou.net/reg/?ID"+RegExp.$1,"_blank"):A.l("ログイン画面の「新規ID」からIDを取得してください")},
hairi:function(){r.open("https://tenhou.net/2/",oa?"_system":"_blank")},help:function(){r.open("https://tenhou.net/man/",oa?"_system":"_blank")},chatInput:function(){A.l('CHAT:<input type=text size=15 style="font-size:100%;"/>',3,function(a){a=a.getElementsByTagName("INPUT")[0];(a=a.value)&&W.L({tag:"CHAT",text:a})})},Cf:function(b){if(Z.hdr&&!Z.joincs0){var c=Z.hdr.childNodes;if(c&&!(2>c.length))if(b&&"join"==b.name){b=~~a()[~~b.id.slice(-1)];var d=~~C[17][0],e=~~C[16][0],f="";if(!(b&3584)){var g=
[0,0,0,0];switch(ja(b)){case 0:g[0]=20;g[1]=10;break;case 1:g[0]=40;g[1]=10;break;case 2:g[0]=50;g[1]=20;break;case 3:g[0]=60,g[1]=30}b&16?(g[0]+=g[1],g[1]=0,g[2]=la[e]):g[3]=la[d];b&8&&(g[0]*=1.5,g[1]*=1.5,g[2]*=1.5,g[3]*=1.5);f+=ba[b&16?e:d]+z("[");f=b&16?f+(z("1"+Fc(1))+"+"+g[0]+"   "+z("2"+Fc(2))+"+"+g[1]+"   "+z("3"+Fc(3))+(0>g[2]?"":"+")+g[2]):f+(z("1"+Fc(1))+"+"+g[0]+"   "+z("2"+Fc(2))+"+"+g[1]+"   "+z("3"+Fc(3))+"+0   "+z("4"+Fc(4))+(0>g[3]?"":"+")+g[3]);f+=z("]")+" "}f+=rb((0!=(b&2048)?"１局":
b&8?"東南":"東風")+(b&3584?"打ち切り":b&16?"+3局サドンデス":"+4局サドンデス"));f+=" "+rb(z("ウマ")+(0!=(b&2048)?"×":0!=(b&1536)?b&16?"0-30":"10-30":b&16?"0-20":"10-20"));f+=" "+rb(z("1本場")+(0!=(b&2048)?"--":0!=(b&1536)&&~b&8?b&16?"1000":"1500":b&16?"200":"300"));f+=" "+rb(z("明槓ドラ")+(b&3584?"先":"後"));f+=" "+rb(z("喰断")+(b&4?"×":"○"));f+=" "+rb(z("祝儀")+
(~b&512?"×":b&1024?"1枚5000点":"1枚2000点"));f+=" "+rb(z("東西場")+(0!=(b&1536)&&~b&8?"○":"×"));f+=" "+rb(z("和了止め")+"○");f+=" "+rb(z("聴牌止め")+"○");0!=(b&1536)&&(f+=" "+rb(z("段位変動")+"ナシ"));c[1].innerHTML=f;c[0].style.display="none";c[1].style.display=""}else c[1].innerHTML="",c[0].style.display="",c[1].style.display="none"}},Hf:function(b){var c=a();c[3]=c[4]=b;p.rule=c}}}());
C["#rule1"]=C["#rule2"]=C["#rule3"]=C["#rule4"]=C["#rule0"];Gb({JP:{Ub:"個室",Tb:"大会",pd:"お試しゲストログイン",qd:"新規ID登録",od:"IDで続きから",xd:"プレーヤ名を8文字以内で入力してください",td:"このプレーヤ名で新しいIDを作成しますか？",ld:"ID変更",sd:"男",rd:"女",Gd:"男",Dd:"女",md:"大会·個室",
nd:"段位·個室",vd:"プレーヤID(半角19文字)を入力してください",wd:"※アプリ版以外で作成したIDも使用可能です。",yd:"IDの書式が正しくありません",ud:"部屋番号の数字部分を入力してください。",kd:"入力してあるIDをクリアしますがよろしいですか？IDを紛失しないようにコピーしてください。",
Ed:"ランキング戦",Fd:"<div class=desc>(段位戦·雀荘戦)</div>",zd:"イベント会場１",Ad:"<div class=desc>(公式イベントで使用します)</div>",Bd:"イベント会場２",Cd:"",Jd:"個室番号指定",Kd:"<div class=desc>(L0123やC01234567などの部屋番号)</div>",Hd:"新規作成",Id:"<div class=desc>(個室作成ページを開きます)</div>"},
EN:{Ub:"個室",Tb:"大会",pd:"Guest Login",qd:"New ID",od:"Existing ID",xd:"Enter player name in 8 characters or less.",td:"Register this player name?",sd:"M",rd:"F",Gd:"<b>M</b>ale",Dd:"<b>F</b>emale",ld:"Change ID",md:"Lobby/Room",nd:"Lobby/Room",vd:"Enter your 19-characters Player ID",wd:"*IDs created outside of this APP are also accepted",yd:"The entered ID is wrong format.",ud:"Enter the number of the lobby.",kd:"Clear the entered ID?<br>Make a copy your ID not to lose it.",Ed:"Ranked Match",
Fd:"<div class=desc>(段位戦·雀荘戦)</div>",zd:"Event Venue 1",Ad:"<div class=desc>(official events)</div>",Bd:"Event Venue 2",Cd:"",Jd:"Custom Lobby",Kd:"<div class=desc>(e.g. L0123 or C01234567)</div>",Hd:"New Lobby",Id:"<div class=desc>(opens a new browser page)</div>"}});
ya(C,function(){function a(){Z.uname.value=p.uname&&19==p.uname.length&&(~~p.hideid||p.gpid)?"ID########-########":p.uname||"NoName"}var e=new Image;setTimeout(function(){e.src="https://cdn.tenhou.net/3/res/img/bglogow_0921x0651.png"},1);return{LOGIN:function(d,b){var f="";location.search.match(/^\?(L[1-9][0-9]{3})/)?f=z(I.Ub)+RegExp.$1:location.search.match(/^\?(C[0-9]{8})/)&&(f=z(I.Tb)+RegExp.$1.substr(0,5));b.style.border="";b.innerHTML=""+('<div style="position:relative;"><div class=select-wrapper style="float:left;"><button name=lang></button></div><button name=cfg style="float:right;font-family:cwTeX-Q-Kai-T,icons2,serif;""></button><img src="'+
e.src+'" width='+~~(3.683*N[1]*2.3/t)+" height="+~~(2.604*N[1]*2.3/t)+' style="margin:0.5em 0;"/><span style="position:absolute;bottom:2em;">'+f+'</span></div><div id=pane0><table cellpadding=0 cellspacing=0 width=100%><tr><td><input name=uname size=22 style="margin:0;padding:0;color:#fff;background:none;text-align:center;border:solid 1px #444;width:100%;"/></td><td width=1><div class=select-wrapper><button name=sx></button></div></td><td width=1><button name=ok style="padding:0 1em;">OK</button></td></tr></table><button name=clearid>'+
I.ld+"</button><div class=select-wrapper><button name=mvlb>"+(f?I.nd:I.md)+'</button></div></div><div id=pane1><button name=ok style="width:100%;">'+I.pd+"</button><br><button name=regid>"+I.qd+"</button><button name=idcont>"+I.od+"</button><br></div>");Ac(b);Z.pane0.style.display=Z.pane1.style.display="none";Z["pane"+(p.uname?0:1)].style.display="";C["#sx"]();C["#lang"]();a();cb&&oa&&xa(Z.uname,{focus:function(){tb(1)},blur:function(){tb()}});"AUTOLOGIN"==d.tag||p.gpid?(C.b.style.display="none",
C.ok()):Vb.u.canvas.style.visibility="hidden"},NINTEI:function(a,b){ec().yf=Cc(3E3);b.innerHTML='<div style="font-family:cwTeX-Q-Kai-T,icons2,serif;font-size:400%;">認定</div><div style="text-align:left;margin:1em 0;display:inline-block;">'+decodeURIComponent(a.nintei).replace(/\n/g,"<br>")+'</div><button name=ok style="padding:0 2em;">OK</button>';Ac(b)},clearid:function(){A.l(I.kd,3,function(){p.removeItem("uname");a();Z.pane0.style.display="none";Z.pane1.style.display=""})},sx:function(){A.Z('<div class=A id="#sx-M">'+
I.Gd+'</div><div class=A id="#sx-F">'+I.Dd+"</div>","",0)},"#sx":function(a,b){"F"==(a?b:"F"==p.sx?"F":"")?(Z.sx.innerHTML=I.rd,p.sx="F"):(Z.sx.innerHTML=I.sd,p.removeItem("sx"))},lang:function(){A.Z('<div class=A id="#lang-JP">JP</div><div class=A id="#lang-EN">EN</div>',"",0)},"#lang":function(a,b){var d=a?b:Eb;Z.lang.innerHTML=d;"JP"==d?p.removeItem("lang"):p.lang=d;Eb!=d&&location.reload()},cfg:function(){C.l({tag:"CONFIG"})},mvlb:function(){A.Z('<a class=A href="?L0000" >'+I.Ed+I.Fd+'</a><a class=A href="?C00112233" >'+
I.zd+I.Ad+'</a><a class=A href="?C00223344" >'+I.Bd+I.Cd+'</a><div class=A id="#sellb" >'+I.Jd+I.Kd+'</div><a class=A href="https://tenhou.net/make_lobby.html" target=_blank>'+I.Hd+I.Id+"</a>","font-size:80%;",0)},"#sellb":function(){var a="0000";location.search.match(/^\?(L[1-9][0-9]{3}|C[0-9]{8})/)&&(a=RegExp.$1);A.l(I.ud+'<div style="font-size:75%;">'+I.Ub+'L<span style="color:#F00;">8141</span> / '+I.Tb+'C<span style="color:#F00;">00112233</span></div><input type=text size=15 value="'+a+'" style="font-size:100%;"/><br>',
3,function(a){a=a.getElementsByTagName("INPUT")[0];a=a.value;a.match(/^L?(\d{4})$/)?location.href="?L"+RegExp.$1:a.match(/^C?(\d{8})$/)&&(location.href="?C"+RegExp.$1)})},regid:function(){A.l(I.xd+'<br><input type=text size=22 style="font-size:100%;"/><br>',3,function(a){a=a.getElementsByTagName("INPUT")[0];var b=a.value;if(b)return Sa(sa[30]()+encodeURIComponent(b),function(a){a=Da(a);0!=a.res?H.ERR({code:a.res}):(b=decodeURIComponent(a.uname),A.l(b+"<br><br>"+I.td,3,function(){Sa(sa[31]()+encodeURIComponent(b),
function(a){a=Da(a);1012!=a.res?H.ERR({code:a.res}):(p.uname=Z.uname.value=a.id,A.l(I[1012]),Z.pane0.style.display="",Z.pane1.style.display="none")})}))}),!0})},idcont:function(){A.l(I.vd+'<br><input type=text size=22 value="ID00000000-aabbccdd" style="font-size:100%;margin:0.25em"/><br><div id=info></div><small class=gray>'+I.wd+"</small>",3,function(d){d=d.getElementsByTagName("INPUT")[0];var b=d.value;d=$a.getElementById("info");if("ID00000000"!=b.substr(0,10)&&b.match(/^ID[0-9A-F]{8}\-[0-9a-zA-Z]{8}$/))d.innerHTML=
"";else return d.innerHTML='<span style="font-size:75%;color:#F00">'+I.yd+"</span>",!1;p.uname=b;a();Z.pane0.style.display="";Z.pane1.style.display="none";return!0})}}}());C.AUTOLOGIN=C.LOGIN;ya(C,{SPLASH:function(a,e){for(var d=r.tenhouEventInfo,b=4>d.length?2:5,f=.5>Math.random()?0:2,c='<table cellpadding=0 cellspacing=0 align=center width=100% style="font-size:0;"><tr>',g=0;g<b;++g){var m=d.splice(Math.floor(Math.random()*d.length),1)[0],k=g!=f&&5==b?1:2,c=c+("<td rowspan="+k+" colspan="+k+" width="+25*k+'% ><a href="https://tenhou.net'+m.href+'" target=_blank><img src="https://cdn.tenhou.net'+(m.img?m.img:m.href+"title.jpg")+'" border=0 style="width:100%;"/></a></td>');2==g&&(c+="</tr><tr>");
d.length<b-g-1&&d.push(m)}c+='</tr></table><div style="padding:0.75em 0;"><small>';r.trainingInfo&&(c+=r.trainingInfo+"<br>");e.innerHTML=c+'</small></div><button name=ok style="width:8em;">OK</button>';Ac(e)}});Gb({JP:{fe:"商品を選択して「購入」ボタンを押してください。<br>金額は通貨によっては変動する場合があります。",ge:"購入"},EN:{fe:"Choose your product and press the Buy button.<br>The final price may be affected by currency fluctiation.",ge:"BUY"}});
ya(C,function(){var a;return{STORE:function(e,d){a=-1;d.innerHTML=""+("<div><br><br>"+I.fe+'<br><br><div class=select-wrapper><button name=iap>SELECT PRODUCT</button></div><br><br><button name=storePurchase style="width:8em;">'+I.ge+'</button><br></div><br><br><hr><button name=exit style="width:6em;">CLOSE</button>');Ac(d)},storePurchase:function(){if(-1!=a){var e=p.uname;e.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)&&(e=RegExp.$1,store.order(a).then(function(){lb(!0,2)}).error(function(a){lb(!1,2);
A.l("STORE ERROR "+a.code+": "+a.message)}))}},iap:function(){var a="",d;for(d in store.products){var b=store.products[d];b.valid&&(a+='<div class=A id="#iap-'+d+'">'+rb(b.title)+"<br>"+b.price+"</div>")}A.Z(a,"font-size:75%;",0)},"#iap":function(e,d){var b=store.products[~~d];a=b.id;Z.iap.innerHTML=b.title+" "+b.price}}}());
oa&&ta($a,"deviceready",function(){if(1.3>(r.storeVersion||0)){var a="net.tenhou.catalog20170119.";store.register({id:a+"ex30",type:store.CONSUMABLE});store.register({id:a+"ex60",type:store.CONSUMABLE});store.register({id:a+"ex120",type:store.CONSUMABLE});store.register({id:a+"ex180",type:store.CONSUMABLE});store.register({id:a+"ex300",type:store.CONSUMABLE})}else a="net.tenhou.catalog20170211.",store.register({id:a+"ex30",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:a+"ex60",type:store.NON_RENEWING_SUBSCRIPTION}),
store.register({id:a+"ex120",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:a+"ex180",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:a+"ex300",type:store.NON_RENEWING_SUBSCRIPTION}),store.register({id:a+"ex600",type:store.NON_RENEWING_SUBSCRIPTION});store.when("product").approved(function(a){p.uname.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?(store.validator="https://tenhou.net/reg/via_cordova.cgi?id="+RegExp.$1,a.verify()):a.finish()});store.when("product").verified(function(a){a.finish()});
store.when("product").finished(function(){lb(!1,2)});store.when("product").cancelled(function(){lb(!1,2)});store.error(function(a){"6777001"==a.code||"6777002"==a.code?store=void 0:ob("------ error",JSON.stringify(a));lb(!1,2)});store.ready(function(){});store.refresh()});ya(C,function(){function a(a){return a.replace(/\s+$/,"")}function e(a){return Ab(a).replace(/(\d)([mpsz])(?![mpsz])/g,function(a,b,c){a=("m"==c?10:"p"==c?20:"s"==c?30:40)+~~b;10==a&&(a=51);20==a&&(a=52);30==a&&(a=53);40==a&&(a=69);b=~~(.6*N[0]);return'<img src="'+sa[11]()+"/6/img/edit"+Va(3,b)+0+Va(2,a)+'.png" style="background:'+(69==a?"#444":"#EEE")+';vertical-align:middle;" width="'+b/t+'px" />'})}function d(a){var b=a>>2;return(27>b&&16==a%36?"0":b%9+1)+"mpsz".substr(b/9,1)}function b(a){Z.trtitle.innerHTML=
l.title||"天鳳トレーニング";Z.trprogress.innerHTML='<span class=gray style="float:right;font-weight:bold;">'+(a?"A":"Q")+Va(2,h?h[0]+1:1)+"/"+Va(2,h?h.container.length:1)+"</span>";Z.trmain.innerHTML=e((l[a?"explanation":"question"]||"").replace(/\n/g,"<br>"));Z.trmain.style.height=(a?14:8)+"em";Z.ok.disabled=!1;switch(a){case 0:E=!1;C.b.classList.remove("hide");Z.ok.innerHTML="OK";W.Db();H.fa();H.connected=15;a=C[17]||"";W.sa({tag:"UN",n0:C[0]||"自家",n1:"下家",
n2:"対面",n3:"上家",dan:~~a[0]+",0,0,0",rate:parseFloat(a[2])+",0,0,0",sx:("F"==p.sx?"F":"M")+",M,M,M"});H.la=0;Vb.S();var b=[q(Bb(l.hai0)),q(Bb(l.hai1)),q(Bb(l.hai2)),q(Bb(l.hai3))];a=[];l.packet&&Array.prototype.push.apply(a,JSON.parse(JSON.stringify(l.packet)));2==b[0].length%3&&a.push({tag:"T"+b[0].pop()});var c=(l.seed?l.seed:"0,0,0,0,0,").split(",");l.kyoku&&(c[0]=l.kyoku);l.honba&&(c[1]=l.honba);l.nagare&&(c[2]=l.nagare);l.dora&&(c[5]=c[5]=Bb(l.dora));W.sa({tag:"TRAININGINIT",
seed:""+c,ten:l.ten,oya:~~l.oya,hai0:""+Ea(b[0]),m0:l.m0,kawa0:Bb(l.kawa0),hai1:""+Ea(b[1]),m1:l.m1,kawa1:Bb(l.kawa1),hai2:""+Ea(b[2]),m2:l.m2,kawa2:Bb(l.kawa2),hai3:""+Ea(b[3]),m3:l.m3,kawa3:Bb(l.kawa3)});for(b=0;b<a.length;++b)W.sa(ub.vb(a[b]));break;case 1:Z.ok.innerHTML="NEXT"}C.ic(1)}function f(a){n?a():Sa(sa[21]()+"auth.cgi?"+p.uname,function(b){n=b;a()},function(){H.ERR({code:1200})})}function c(a){l=h=void 0;x=a.match(/\.json$/)?a:"free-sample.json";Sa(sa[21]()+x+"?"+n,function(b){try{l=JSON.parse(b)}catch(ca){alert("JSONに不具合があるため読み込めませんでした\n\n"+
ca);return}if("membersonly"==l.error||"subscribe"==l.error){b=p.uname;if(!b||!b.match(/^ID[0-9A-F]{8}-[0-9A-Za-z]{8}$/))return H.ERR({code:1200});"membersonly"==l.error?A.l("この問題は有料会員に公開されています。<br><br>会費のお支払いをお願いいたします。",3,C.purchase,C.exit):A.Z('<div style="margin:0.5em;">購読期間と料金を選択してください。</div><div class=A id="#trs-1">1日間 - 有効期限7日分</div><div class=A id="#trs-7">7日間 - 有効期限8日分</div><div class=A id="#trs-21">21日間 - 有効期限9日分</div>',
"",0)}else if(l.container)h=l,C["#trjump"](0,0);else if(u.training){if(!Z.json)if(60>C[2])alert("編集機能を利用するには有効期限の残り日数が60日以上必要です。");else{Lb.style.height=Hb=0;ab.style.overflow="";for(var c='<br><hr><br><table class=trtab width=100%><tr><td class=bth width=1>表題</td><td width=100%><input name=title style="width:100%;"></td></tr><tr><td class=bth width=1>問題</td><td width=100%><textarea name=question maxlength=1024 rows=10 style="width:100%;"></textarea></td></tr><tr><td class=bth width=1>回答</td><td width=100%><input name=answer style="width:100%;"><br>'+
z("カンマ区切 例)8m,8p,r2p(リーチ2p)")+'</td></tr><tr><td class=bth width=1>解説</td><td width=100%><textarea name=explanation maxlength=4096 rows=10 style="width:100%;"></textarea></td></tr><tr><td class=bth width=1>補足</td><td width=100%><textarea name=comment maxlength=4096 rows=10 style="width:100%;"></textarea></td></tr></table><hr><table class=trtab width=100%><tr><td class=bth width=1>局</td><td><input name=kyoku><br>'+z("0:東1局 ... 7:南4局")+
"</td></tr><tr><td class=bth width=1>本場</td><td><input name=honba></td></tr><tr><td class=bth width=1>供託</td><td><input name=nagare></td></tr><tr><td class=bth width=1>ドラ</td><td><input name=dora></td></tr><tr><td class=bth width=1>親</td><td><input name=oya><br>"+z("0:自家 1:下家 2:対面 3:上家")+"</td></tr></table>",d=["自家","下家","対面","上家"],e=0;4>e;++e)c+="<br><hr><br><span class=bth>■"+
d[e]+"</span><br><table class=trtab width=100%><tr><td class=bth width=1>点数</td><td width=100%><input name=ten"+e+' style="width:100%;"></td></tr>',e||(c+="<tr><td class=bth width=1>手牌</td><td width=100%><input name=hai"+e+' style="width:100%;"></td></tr>'),c+="<tr><td class=bth width=1>副露</td><td width=100%><input name=m"+e+' style="width:100%;"></td></tr><tr><td class=bth width=1>河</td><td width=100%><input name=kawa'+e+' style="width:100%;"></td></tr></table>';
c=c+"<br><hr><br><div id=verify></div>"+('<br><hr><br><span class=bth>■JSON</span><br><textarea name=json maxlength=8192 rows=40 style="width:100%;font-size:75%;">'+JSON.stringify(l,null,"\t")+"</textarea>");Nb.innerHTML=c;c=Nb.getElementsByTagName("TEXTAREA");for(d=0;d<c.length;++d)ta(c[d],"change","json"==c[d].name?k:m);c=Nb.getElementsByTagName("INPUT");for(d=0;d<c.length;++d)ta(c[d],"change",m);Ac(Nb,Z)}123==a.charCodeAt(0)&&(b=l,l=JSON.parse(a),l.title=l.title||b.title,l.question=l.question||
b.question,l.answer=l.answer||b.answer,l.explanation=l.explanation||b.explanation,l.comment+=b.comment,b=JSON.stringify(l));Z.json.value=b;k()}else C["#trjump"](0,0)},function(){alert("問題ファイルを読み込めませんでした")})}function g(){var a;a="■合計得点<br>"+("'"+Z.ten0.value+"' + '"+Z.ten1.value+"' + '"+Z.ten2.value+"' + '"+Z.ten3.value+"' = "+(~~Z.ten0.value+~~Z.ten1.value+~~Z.ten2.value+~~Z.ten3.value)+"<br><br>");
a+="■使用枚数<br>";for(var b=Bb(Z.hai0.value),b=b+(","+Bb(Z.dora.value)),c=0;4>c;++c){var b=b+(","+Bb(Z["kawa"+c].value)),d=Z["m"+c].value;if(d)for(var d=d.split(","),f=0;f<d.length;++f){var g={m:d[f]};nc(g);var n=g[0];if(1==n.length)switch(g[2]){case 4:case 5:case 2:g=n[0]>>2,n=[g+0,g+1,g+2,g+3]}n&&(b+=","+n)}}c=[];for(f=0;38>f;++f)c[f]=0;b=b.split(",");for(f=0;f<b.length;++f)g=b[f],""!=g&&255!=g&&254!=g&&(136==g?c[30]++:16==g?c[0]++:52==g?c[1]++:88==g?c[2]++:c[10*~~(g/4/9)+
~~(g/4)%9+1]++);c[30]="-";for(f=0;38>f;++f)a+=e(30==f?"0z":wb(36*~~(f/10)+(f%10?f%10*4-1:16)))+c[f]+" ",9==f%10&&(a+="<br>");Z.verify.innerHTML=a}function m(){if(Z.json){var c=l.packet;l={};l.title=a(Z.title.value);l.question=a(Z.question.value);l.answer=a(Z.answer.value);l.explanation=a(Z.explanation.value);l.comment=a(Z.comment.value);""==l.comment&&delete l.comment;var d="0 0 0 0 0 ".split(" ");"0"!=Z.kyoku.value&&(d[0]=Z.kyoku.value);"0"!=Z.honba.value&&(d[1]=Z.honba.value);"0"!=Z.nagare.value&&
(d[2]=Z.nagare.value);""!=Z.dora.value&&(d[5]=Bb(Z.dora.value));l.seed=""+d;l.oya=Z.oya.value;l.ten=[Z.ten0.value,Z.ten1.value,Z.ten2.value,Z.ten3.value];Z.hai0.value&&(l.hai0=xb(Bb(Z.hai0.value).split(",")));for(d=0;4>d;++d)""!=l.ten[d]&&(l.ten[d]=~~(l.ten[d]/100)),Z["m"+d].value&&(l["m"+d]=Z["m"+d].value),Z["kawa"+d].value&&(l["kawa"+d]=xb(Bb(Z["kawa"+d].value).split(",")));l.ten=""+l.ten;c&&(l.packet=c);Z.json.value=JSON.stringify(l,null,"\t").replace(/"packet": \[[^\]]*\]/,'"packet": '+JSON.stringify(c));
b(0);g()}}function k(){if(Z.json){try{l=JSON.parse(Z.json.value)}catch(y){alert("JSONに不具合があるため読み込めませんでした\n\n"+y);return}var a=(l.seed?l.seed:"0,0,0,0,0,").split(",");Z.title.value=l.title||"";Z.question.value=l.question||"";Z.answer.value=l.answer||"";Z.explanation.value=l.explanation||l.description||"";Z.comment.value=l.comment||"";Z.kyoku.value=l.kyoku||a[0];Z.honba.value=l.honba||a[1];Z.nagare.value=
l.nagare||a[2];Z.dora.value=l.dora||xb(a.slice(5));Z.oya.value=l.oya||0;for(var a=(l.ten?l.ten:",,,").split(","),c=0;4>c;++c)Z["ten"+c].value=""!=a[c]?100*a[c]:"",c||(Z["hai"+c].value=l["hai"+c]||""),Z["m"+c].value=l["m"+c]||"",Z["kawa"+c].value=l["kawa"+c]||"";b(0);g()}}var h,l,n,x="",E=!1;return{TRAINING:function(a,b){H.a=4;W.Y();b.innerHTML='<div style="width:100%;"><table width=100% cellpadding=0 cellspacing=0><tr><td align=left class=gray id=trtitle></td><td id=trprogress align=right></td></tr></table><hr><div style="position:relative;"><div id=trmain class=vscl style="line-height:1.2em;height:8em;overflow-y:scroll;text-align:left;"><br><br>'+
z("<center>左下のメニューからトレーニングを終了して<br><br>もう一度開いてください。</center>")+'</div><div class=sblink style="visibility:hidden;">▼</div></div><hr><table width=100% cellpadding=0 cellspacing=0><tr><td align=left width=1><button name=trmenu style="font-family:cwTeX-Q-Kai-T,icons2,serif;"></button></td><td class=ra0 style="border:1px solid #444;" width=100%><span class="bt3 ra0" style="color:#444;font-size:150%;">卓表示<span></td><td align=right width=1><button name=ok style="width:6em;" disabled>OK</button></td></tr></table></div>';
Ac(b);C.b.classList.add("flipinhs");f(function(){c(a.file)})},ic:function(a){lb(!1,"ok");C.b.style.display=a?"":"none";v.b.style.display=a?"none":"";v[1572868].innerHTML=" 問題"},Gf:function(a){a&&"NEXT"!=Z.ok.innerHTML&&!ac.u.canvas.style.display?(C.ic(0),2==V[32].length%3&&lc({tag:"T"}),Z.ok.innerHTML="CLOSE"):(C.b.classList.add("hide"),ta(C.b,"animationend",function(a){this.removeEventListener(a.type,arguments.callee,!1);h&&(h[0]=(h[0]+1)%h.container.length,l=h.container[h[0]]);b(0)}))},
Ue:function(a){console.log("sendTrainingAns",a);var c;switch(a.tag){case "REACH":E=!0;W.sa({tag:"REACH",who:0,step:1});return;case "D":c=(E?"r":"")+d(a.p);break;case "N":c="N",a.type&&(c+="-"+a.type),a.hai0&&(c+="-"+a.hai0),a.hai1&&(c+="-"+a.hai1),a.hai2&&(c+="-"+a.hai2)}if(c){a=l.answer.split(",");for(var e=0;e<a.length&&a[e]!=c;++e);e<a.length&&(c="")}setTimeout(function(){if(c)b(1);else{kc(24,0,0);var a=kb("DIV",Ub,"flipinqs tsv",{innerHTML:"○"},{position:"absolute",left:"50%",top:"50%",fontSize:"1600%",
fontWeight:"bold",pointerEvents:"none",marginTop:"-0.5em",marginLeft:"-0.5em"});setTimeout(function(){a.classList.add("hide");ta(a,"animationend",function(){a.parentNode.removeChild(a);b(1)})},1E3)}},1E3)},trmenu:function(){A.Z('<div class=A id="#trmenu-0">他の問題に移動</div><div class=A id="#trmenu-1">トレーニング終了</div>',"",0)},"#trmenu":function(a,b){if("1"==b)u.training?history.back():C.exit();else{var c="";if(h)for(var d in h.container)c+=
'<div class=A id="#trjump-'+d+'">Q'+Va(2,~~d+1)+"</div>";else l.title&&(c+='<div class=A id="#trjump-0">'+l.title+"</div>");A.Z(c,"text-align:left;",0)}},"#trjump":function(a,c){if(h){var d=~~c;l=h.container[d];h[0]=d}b(0)},"#trs":function(a,b){Sa(sa[21]()+"subscribe.cgi?file="+x+"&auth="+n+"&type="+b,function(a){a=JSON.parse(a);if("insufficient"==a.error)return H.ERR({code:1020});"ok"==a.error&&c(x)})},af:function(a,b){if(b){var c={},d=b.subscribing;if(d)for(var e=0;e<d.length;++e)c[d[e].file]=d[e].expire;
a.innerHTML="";for(var f={free:'<span style="color:#088;font-weight:bold;">【無料】</span>',member:'<span style="color:#088;font-weight:bold;">【会員無料】</span>',subscribing:'<span style="color:#880;font-weight:bold;">【購読中】</span>'},d=b.all,e=0;e<d.length;++e)d[e].Oe=1E3*(d[e].type||"undefined").length+e;d.sort(function(a,b){return a.Oe-b.Oe});for(e=0;e<d.length;++e){var g=d[e],n=g.file,h=c[n],n="https://tenhou.net/0/?training="+n,
k='<div style="position:absolute;width:100%;height:100%;padding:0.2em 0.5em;pointer-events:none;">',k=k+('<div class=nobr style="overflow:hidden;text-overflow:ellipsis;">'+(f[h?"subscribing":g.type]||"")+" ");g.tip&&(k+='<span style="color:#F00;font-weight:bold;font-size:75%;">'+g.tip+"</span> ");k+=g.title+"</div>";k+='<div class=nobr style="color:#CCC;overflow:hidden;text-overflow:ellipsis;font-size:75%;">';k+='<span style="color:#000;background-color:#666;">レベル:'+(g.level||"初中")+
"</span> ";k+="問題数:"+g.n+" ";g.type&&(k+="毎月２～３回更新 ");h&&(k+="購読終了:"+h+" ");k+="</div>";k+='<div class=nobr style="color:#666;overflow:hidden;text-overflow:ellipsis;">'+(g.memo||"")+"</div>";k+="</div>";k+='<a href="'+n+'" class=bt3 target=_blank></a>';kb("DIV",a,"",{innerHTML:k},{height:"3.4em",position:"relative",textAlign:"left"}).childNodes[1].onclick=C.trOpen}kb("DIV",a,"gray",{innerHTML:"●「長押し」または「右クリック」から別タブで開く/URLのコピーなどが行えます"},
{fontSize:"75%",align:"left",padding:"1em 0 6em 0"})}else a.innerHTML=z("<br>Loading ..."),c=(c=p.uname)&&c.match(/^ID([0-9A-F]{8})-[0-9A-Za-z]{8}$/)?RegExp.$1:"00000000",Sa(sa[21]()+"free-index.json?"+c,function(b){try{b=JSON.parse(b)}catch(Ib){return}C.af(a,b)})},trOpen:function(a){if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey)){var b=p.uname;if(!b||!b.match(/^ID[0-9A-F]{8}-[0-9A-Za-z]{8}$/))return H.ERR({code:1200}),!1;a=a.target;a=a.href.split(/\?training=/);if(1!=a.length)return C.l({tag:"TRAINING",
file:a[1]}),!1}}}}());Gb({JP:{Fe:"フリテン"},EN:{Fe:"Furiten"}});
var $b=kb("DIV",Ub,"nosel ts0",{},{position:"absolute",fontSize:"60%",pointerEvents:"none",display:"none"}),V=function(){var a=0;return{ra:function(){$b.innerHTML=I.Fe;for(var a=0;4>a;++a)V[32|a]=[],V[48|a]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],V[16|a]=[],delete V[64|a]},Ef:function(a){for(var d=[],b=0;b<V[32|a].length;++b)d.push(b);Ba(d,V[32|a]);for(b=0;b<V[32|a].length;++b)if(d[b]!=b){var e=R[1024|a<<8|d[b]],c=R[1024|a<<8|b];Xb.O(0,c,0);c.Ga(!0,a&&!v.o[1277960]?136:
V[32|a][d[b]]);e=Xb.O(0,e.c+c.i.offsetX,e.h+c.i.offsetY,c.c+c.i.offsetX,c.h+c.i.offsetY,.04,c.i,.5,c,1);a||gc(4,0,e/1E3)}Aa(V[32|a])},Ve:function(a){v.X(256);bc.Y();if(1==H.a||!v.o[1277960]){var d=0;a&2&&(d=Math.max(d,V[33].length));a&4&&(d=Math.max(d,V[34].length));a&8&&(d=Math.max(d,V[35].length));for(var d=30*d,b=0;b<d;b+=30)kc(4,0,b/1E3);var e=0,b=0;ec()[Za++]=function(c){for(b+=c;e<b&&e<d;e+=30)for(c=1;4>c;++c)if(!(~a&1<<c)){var g=~~(e/30),f=R[1024|c<<8|g];f.v&&(g=V[32|c][g],Q.Ca(),f.ga(0),f.w=
c,f.i=M[c<<8|K.bb[g]],f.ga(1),Q.Da())}return e<d}}},hc:function(e){Q.Ca();for(var d=0,b=V[32|e],f=0;14>f;++f){var c=R[1024|e<<8|f];if(c.v){var g=R[1024|e<<8|d];g.Ga(!0,e&&!v.o[1277960]?136:b[d]);g.c=c.c;g.h=c.h;g.ma(-1025,c.aa&1024,!1);g.ga(1);++d;a|=1<<e}else d<b.length&&b.splice(d,1)}for(;14>d;++d)c=R[1024|e<<8|d],c.v&&c.ga(0);Q.Da()},ub:function(e){if((e||v.o[1183750])&&(!e||v.o[1277960])){Q.Ca();for(var d=V[32|e],b=[],f=[],c=[],g=-1,m=0;m<d.length;++m){var k=R[1024|e<<8|m];k.v&&(c.push({Fb:m,
aa:k.aa,c:k.c,h:k.h}),f.push(d[m]),0==e&&k==bc.zf()&&(g=b.length),b.push(b.length))}Ba(b,f);for(m=0;m<b.length;++m)if(d[c[m].Fb]=f[b[m]],k=R[1024|e<<8|c[b[m]].Fb],b[m]==m){if(k.c!=k.I||k.h!=k.J)a|=1<<e}else{var h=R[1024|e<<8|c[m].Fb];h.Ga(!0,e&&!v.o[1277960]?136:f[b[m]]);k=c[b[m]];h.c=k.c;h.h=k.h;h.ma(-1042,k.aa&1041,!1);h.ga(1);a|=1<<e}Q.Da();-1!=g&&bc.K(R[1024|e<<8|c[b[g]].Fb])}},tb:function(){for(var e=0;4>e;++e)if(!(~a&1<<e)){for(var d=[],b=0,f=0,c=0;14>c;++c){var g=R[1024|e<<8|c];if(g.v){var m=
g.c-g.I,k=g.h-g.J;if(0!=m||0!=k)d.length&&b!=m&&f!=k&&(R.Ta(0,200,d),d=[]),b=m,f=k,d.push(g)}}d.length&&R.Ta(0,200,d)}a=0}}}();V.ra();
function lc(a){if(1==H.a||4==H.a)if(!C.b||C.b.style.display){var e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0];if(a)if("REACH"==a.tag)for(var d=sb.xf(V[48]),b=0;b<V[32].length;++b){var f=d[~~(V[32][b]/4)];e[b]|=f&&f.length?1:16}else if("T"==a.tag&&V[64])for(b=V[32].length-1,e[b]|=1,--b;0<=b;--b)e[b]|=16;else if("N"!=a.tag||3!=a[2]&&1!=a[2])for(b=0;14>b;++b)e[b]|=1;else for(d={},1==(a[0][2]>>2)-(a[0][1]>>2)?(0<(a[0][1]>>2)%9&&(d[(a[0][1]>>2)-1]=1),8>(a[0][2]>>2)%9&&(d[(a[0][2]>>2)+1]=1)):d[a[0][0]>>2]=1,b=0;b<V[32].length;++b)e[b]|=
d[V[32][b]>>2]?16:1;else bc.Y(),v.X(256);Q.Ca();for(b=0;14>b;++b)S.Xa(b,-18,e[b]);Q.Da();a&&bc.l(0,void 0,"T"==a.tag)}};r.requestAnimationFrame=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||r.oRequestAnimationFrame||r.msRequestAnimationFrame||function(a){setTimeout(a,1E3/60)};
var ec=function(){function a(){}var e={},d,b=0,f=0,c=Date.now(),g=requestAnimationFrame;setInterval(function(){var e=Date.now();b&&f&&b==f&&requestAnimationFrame==g&&(requestAnimationFrame=a,d(b+e-c),requestAnimationFrame=g);f=b;c=e;wc.Ff(e)},250);requestAnimationFrame(function(a){d=a?function(a){var c=0,g=1>=b?0:a-b,f;for(f in e)e[f](g)?++c:delete e[f];if(!c)for(f in e)++c;c?(b=a,requestAnimationFrame(d)):b=0}:window.performance&&window.performance.now?function(){var a=performance.now(),c=0,f=1>=
b?0:a-b,g;for(g in e)e[g](f)?++c:delete e[g];if(!c)for(g in e)++c;c?(b=a,requestAnimationFrame(d)):b=0}:function(){var a=Date.now(),c=0,g=1>=b?0:a-b,f;for(f in e)e[f](g)?++c:delete e[f];if(!c)for(f in e)++c;c?(b=a,requestAnimationFrame(d)):b=0};requestAnimationFrame(d)});return function(){!b&&d&&(requestAnimationFrame(d),b=1);return e}}();function fc(a,e){if(0<e)return ec()[Za++]=function(d){return 0<(e-=d)?!0:(a(),!1)},Za-1;a()}
function Cc(a){var e=C.b.style,d=e.opacity=0;return function(b){d+=b;e.opacity=Math.min(1,d/a);if(d<a)return 1;e.opacity=1;return 0}}function Bc(a){var e=C.b,d=e.style,b=0;return function(f){b+=f;d.opacity=Math.max(0,1-b/250);if(250>b)return 1;d.display="none";d.opacity=1;a&&a(e);return 0}};var N=[0,0,0,0,0,0,0,0],U=[0,0,0,0,0,0,0,0],T=[0,0,0,0,0,0,0,0],zc=[0,0,0,0,0,0,0,0],Gc=[0,0,0,0,0],Hc=[0,0,0,0,0],jc=[0,0,0,0],ic=[0,0,0,0],Ic=[0,0,0,0],Jc=[0,0,0,0],Sb=0,Tb=0,Wb=0,Kc=0,Lc=!1;
function Rb(){var a=Mb.offsetWidth*t,e=Mb.offsetHeight*t,d=p.desktop&1;function b(){f[1]=~~(2360*f[0]/31/56);g[0]=g[1]=g[4]=Math.min(~~(12*f[0]/31),~~(12*f[1]/40));c[0]=c[4]=~~(47*f[0]/31)-g[0];c[1]=~~(37*f[1]/40)-g[1];f[4]!=f[0]&&(g[4]=~~(12*f[4]/31),c[4]=~~(47*f[4]/31)-g[4]);f[2]=f[6]=f[0];g[2]=g[6]=g[0];c[2]=c[6]=c[0];f[3]=f[1];g[3]=g[1];c[3]=c[1];f[5]=f[7]=~~(380*c[1]/460);g[5]=g[7]=~~(44*f[5]/19)-c[1];c[5]=c[7]=c[1];var b=2*c[1],n=2*f[0];m=k=0;1==K.a||3==K.a?(m=Math.max(m,n+17*f[0]+2*f[1]+n),
k=Math.max(k,b+17*c[1]+2*c[0]+g[0]+c[4]+g[4]+(d?c[1]:0))):(m=Math.max(m,n+3*f[1]+6*f[0]+3*f[1]+n),k=Math.max(k,b+3*c[0]+6*c[1]+3*c[0]+g[0]+c[4]+g[4]+(d?c[1]:0)));m=Math.max(m,~~(14.1*f[4])+f[0]);Kc=c[7]+g[7]-(c[3]+g[3]);k=Math.max(k,~~(2.1*c[1])+Kc+4*(2*c[1]+c[0])+c[1]+g[1]+c[4]+g[4]);k=Math.max(k,c[0]+4*(2*c[1]+c[0])+~~(2.1*c[1])+Kc+2*c[1]+g[1]+(d?c[1]:0));return m<=a&&k<=e}var f=N,c=U,g=T,m,k;for(f[0]=99;10<f[0];--f[0]){Lc=!0;f[4]=~~(31*(2*c[1]+g[0])/47);if(b())break;Lc=!1;f[4]=~~((a-f[0])/14.1);
if(b())break}f[4]=~~((a-f[0])/14.1);for(f[4]=Math.min(f[4],~~(1.7*f[0]));10<f[4]&&!b();--f[4]);2==p.lthai||!Lc||d||1!=H.a&&4!=H.a||1==K.a||3==K.a||(f[4]=~~((a-f[0])/14.1),f[4]=Math.min(f[4],~~(31*(c[4]+g[4])/47)+g[0]+~~(.3*c[0])),g[4]=~~(12*f[4]/31),c[4]=~~(47*f[4]/31)-g[4]);for(var h=0;8>h;++h)zc[h]=N[h]-~~(5*T[4==h?4:0]/12);e-k<a-m?k=~~e:m=~~a;Wb=Math.max(m,~~(14.1*f[4])+f[0]);Sb=m;Tb=k};function hc(a){ya(this,a)}
ya(hc.prototype,{La:function(){if(this.P&&!this.Ea)if(this.i&&1==this.v){var a=0;this.da&&this.da.i&&1==this.da.v&&this.c+N[this.w]==this.da.c+N[this.da.w]&&this.h+T[this.w]==this.da.h+U[this.da.w]+T[this.da.w]&&(a|=this.da.za&&this.da.za.i&&1==this.da.za.v&&this.da.c+N[this.da.w]==this.da.za.c&&this.da.h==this.da.za.h?0:1);this.za&&this.za.i&&1==this.za.v&&this.c+N[this.w]==this.za.c&&this.h+U[this.w]==this.za.h+U[this.za.w]&&(a|=2);this.Aa&&this.Aa.i&&1==this.Aa.v&&this.c+N[this.w]==this.Aa.c+N[this.Aa.w]&&
this.h+U[this.w]+T[this.w]==this.Aa.h+T[this.Aa.w]&&(a|=4);yc[this.w<<8|a]?(this.P.i=yc[this.w<<8|a],this.P.v=1):(delete this.P.i,this.P.v=0)}else delete this.P.i},ma:function(a,e,d){var b=this.aa,b=b&a|e;a=this.ja;e=this.ca;b&4?(this.ja=M[this.w<<8|(b&1?60:50)],this.ca=b&1?.3:.2):b&2?(this.ja=M[this.w<<8|(b&1?60:50)],this.ca=b&1?.2:.1):b&16?(this.ja=M[this.w<<8|49],this.ca=.3):b&1024?(this.ja=M[this.w<<8|50],this.ca=.2):b&2048?(this.ja=M[this.w<<8|60],this.ca=.15):b&256?(this.ja=M[this.w<<8|49],
this.ca=.3):b&512?(delete this.ja,delete this.ca):b&4096?(this.ja=M[this.w<<8|49],this.ca=b&8192?.4:.15):(delete this.ja,delete this.ca);this.aa=b;!d||this.ja==a&&this.ca==e||this.Pe();return this},ga:function(a){if(!this.i)return this;var e=0,d=0;this.v&&(e=this.P.i?this.P.i.offsetX+this.P.i.ia:this.i.ia,d=this.i.ya);this.v=a;this.La();this.da&&this.da.La();this.Aa&&this.Aa.La();this.rb&&(this.rb.La(),this.rb.Aa&&this.rb.Aa.La());this.v&&(e=this.P.i?this.P.i.offsetX+this.P.i.ia:e?e:this.i.ia,d=this.i.ya);
Q.Ma(this.c+this.i.offsetX,this.h+this.i.offsetY-this.Ea,e,d);return this},Ga:function(a,e){var d=this.w%4;a&&(d||(d+=4),d&&136==e&&(d+=4));this.i=M[d<<8|K.bb[e]];this.w=d;this.i||ob("PH.setImage noimg ",d,e,K.bb[e]);return this},Pe:function(){void 0!==this.i&&0!==this.v&&Q.Ma(this.c,this.h-this.Ea,this.i.ia,this.i.ya)},Na:function(){void 0!==this.i&&0!==this.v&&Q.Ma(this.c,this.h-this.Ea,this.P.i?this.P.i.offsetX+this.P.i.ia:this.i.ia,this.i.ya)}});var R={ta:[]};
(function(){for(var a=[function(a,b){a.za=b;b.rb=a},function(a,b){a.da=b;b.Aa=a},function(a,b){a.rb=b;b.za=a},function(a,b){a.Aa=b;b.da=a}],e=[1024,14,2048,34,3072,26,4096,34,5120,5];e.length;)for(var d=e.shift(),b=e.shift(),f=0;4>f;++f){for(var c={},g=0;g<b;++g)R.ta.push(R[d|f<<8|g]=c[g]=new hc({v:0,w:f,c:0,h:0,Ea:0,I:0,J:0})),R.ta.push(c[g].P={v:0}),c[g].wa=c[g].P.wa=c[g];for(g=1;g<b;++g)if(!(2048==d&&17==g||3072==d&&6==g||3072==d&&12==g||4096==d&&17==g))a[f](c[g-1],c[g]);if(2048==d)for(g=0;17>
g;++g)a[(f+1)%4](c[g],c[g+17]),c[g].Ka=c[g+17];if(3072==d)for(g=6;18>g;++g)a[(f+1)%4](c[g],c[g-6]);if(4096==d)for(g=17;34>g;++g)a[(f+1)%4](c[g],c[g-17]);if(5120==d)break}for(g=0;a=R[1024|g];++g)a.R=g})();
ya(R,{K:function(){var a=ya(Gc,[N[0],0,-N[0],0,N[4]]),e=ya(Hc,[0,-U[1],0,U[1],0]),d=ya(jc,[0,N[1],0,-N[1]]),b=ya(ic,[U[0],0,-U[0],0]);ya(Ic,[0,N[1]-N[0],N[0]-N[1],0]);ya(Jc,[U[0]-U[1],U[1]-U[0],0,0]);var f=Q.u.canvas.offsetWidth*t,c=Q.u.canvas.offsetHeight*t,g=~~((f-Sb)/2),m=~~((c-Tb)/2),k=g+Sb,h=m+Tb-(p.desktop&1?U[1]:0),l=6*N[0],n=6*U[1],x=g+~~((k-g-l)/2),E=m+2*U[1]+(3==K.a||1==K.a?2*U[0]:0)+3*U[0];R[112]=x;R[113]=E+n;R[114]=x+l;R[115]=E+n-U[1];R[116]=x+l-N[0];R[117]=E-U[0];R[118]=x-N[1];R[119]=
E;for(var w=0;4>w;++w)R.Xe(w);for(var B,y=0;B=R[5120|y];++y)B.c=B.I=x+~~((l-5*N[0])/2)+N[0]*y,B.h=B.J=E;if(3==K.a){w=17*N[0]+2*N[1];B=17*U[1]+2*U[0];for(var J=x+~~((l-w)/2),D=E+~~((n-B)/2),J=[{Ia:J+w-1*N[0],Ja:D+B-1*U[0]},{Ia:J+w-1*N[1],Ja:D},{Ia:J,Ja:D},{Ia:J,Ja:D+B-1*U[1]}],w=0;4>w;++w)for(y=0;B=R[4096|w<<8|y];++y)B.c=B.I=J[w].Ia-a[w]*(16-y%17)-(17>y?0:d[w]),B.h=B.J=J[w].Ja-e[w]*(16-y%17)-(17>y?0:b[w]),B.Ea=0}else if(1==K.a)for(w=17*N[0]+N[1],B=17*U[1]+U[0],J=x+~~((l-w)/2),D=E+~~((n-B+T[0])/2),
J=[{Ia:J+w-N[0],Ja:D+B-U[0]},{Ia:J+w-N[1],Ja:D},{Ia:J,Ja:D},{Ia:J,Ja:D+B-U[1]}],w=0;4>w;++w)for(y=0;B=R[4096|w<<8|y];++y)B.c=B.I=J[w].Ia-a[w]*(16-y%17),B.h=B.J=J[w].Ja-e[w]*(16-y%17),B.Ea=17>y?0:T[w];else for(w=0;4>w;++w)for(y=0;B=R[4096|w<<8|y];++y)B.c=B.h=B.Ea=0;E+=T[0];R[16]=x;R[17]=E;R[18]=l;R[19]=n;a=3*N[1];e=3*U[0];R[48]=x+l+T[0];R[49]=E+n+T[0];R[50]=a-T[0];R[51]=e-T[0];R[52]=x+l+T[0];R[53]=E-e;R[54]=a-T[0];R[55]=e-T[0];R[56]=x-a;R[57]=E-e;R[58]=a-T[0];R[59]=e-T[0];R[60]=x-a;R[61]=E+n+T[0];
R[62]=a-T[0];R[63]=e-T[0];D=1==K.a||3==K.a?0:U[0];R[32]=x;R[33]=E+D;R[34]=l;R[35]=n-D-T[0];R[80]=k-~~(14.1*N[4])-N[0];R[81]=h-U[4]-T[4];R[82]=R[98]=k-N[1];R[85]=R[101]=m;R[86]=R[102]=g;R[96]=k-N[0];R[97]=h-T[0]-U[0];R[80]<g&&(a=~~((g-R[80])/2),R[80]+=a,R[96]+=a);B=~~(2.1*U[1])+Kc+4*(2*U[1]+U[0])+(H.s&16?U[1]:0);R[99]=Math.max(m+~~((h-Math.max(2*U[1],U[4]+T[4])-m-B)/2),0);R[83]=Math.min(R[99]+(B-U[1]-T[1]),h-U[4]-T[4]-U[1]);B+=T[1];R[87]=Math.max(m+~~((h-U[4]-T[4]-m-B)/2),0);R[103]=Math.min(R[87]+
(B-U[1]-T[1]),h-U[4]-T[4]-U[1]);w=~~(2.1*N[0])+4*(2*N[0]+N[1])+(H.s&16?N[0]:0);3==K.a&&(w=Math.max(w,17*N[0]+2*N[1]));1==K.a&&(w=Math.max(w,17*N[0]+1*N[1]));R[100]=x+~~((l-w)/2);~H.s&16&&!Lc&&(R[100]=N[1]);H.s&16&&(H.B[1]||(R[100]+=N[0]),H.B[3]||(R[100]=g));R[84]=R[100]+w-N[0];for(w=0;4>w;++w)for(R.$e(w),y=0;B=R[1024|w<<8|y];++y)B.c=B.I,B.h=B.J;Zb.K();R[64]=R[68]=~~(R[16]+R[18]/2);R[67]=R[71]=~~(R[17]+R[19]/2);R[65]=~~(R[81]-1.5*U[0]);R[66]=~~(R[82]-1.5*N[1]);R[69]=~~(R[85]+2.5*U[2]);R[70]=~~(R[86]+
2.5*N[3]);for(y in R.ta)R.ta[y].P&&void 0===R.ta[y].I&&console.log(y);R.ta.sort(function(a,b){return(void 0!=a.R?0:-f*c)+(a.P?f*c:0)+(a.wa.Ea+a.wa.J)*f+a.wa.I-((void 0!=b.R?0:-f*c)+(b.P?f*c:0)+(b.wa.Ea+b.wa.J)*f+b.wa.I)})},fa:function(){for(var a=0;a<R.ta.length;++a){var e=R.ta[a];e.v=0;e.P&&(void 0!==e.I&&(e.c=e.I),void 0!==e.J&&(e.h=e.J),e.ma(-1,0,!1),delete e.ob)}for(a=0;4>a;++a)R.Kb(a,-2)},$e:function(a){for(var e,d=16;R[2048|a<<8|d];--d);for(var b=0,f=0,d=16;e=R[2048|a<<8|d];--d){e.I=R[96+2*
a]-Gc[a]*(16-d);e.J=R[97+2*a]-Hc[a]*(16-d);var c=e.Ka;c.I=e.I+Gc[(a+1)%4];c.J=e.J+Hc[(a+1)%4];e.w!=a&&(b+=Gc[a]-jc[(a+1)%4],f+=Hc[a]-ic[(a+1)%4]);e.c=e.I+b;e.h=e.J+f;c.c=c.I+b;c.h=c.J+f;e.w!=a&&(e.c+=Ic[a],e.h+=Jc[a],c.c+=Ic[a],c.h+=Jc[a])}for(d=0;e=R[1024|a<<8|d];++d)e.I=0+R[80+2*a]+Gc[a?a:4]*d,e.J=0+R[81+2*a]+Hc[a?a:4]*d},Xe:function(a){for(var e=0,d=0,b,f=0;b=R[3072|a<<8|f];++f)if(b.I=R[112+2*a]+Gc[a]*f+(jc[a]-6*Gc[a])*(12<f?2:~~(f/6))+e,b.J=R[113+2*a]+Hc[a]*f+(ic[a]-6*Hc[a])*(12<f?2:~~(f/6))+
d,b.w!=a&&(b.I+=Ic[a],b.J+=Jc[a],e=-Gc[a]+jc[(a+1)%4],d=-Hc[a]+ic[(a+1)%4]),b.c=b.I,b.h=b.J,5==f||11==f)e=d=0}});ya(R,{Kb:function(a,e){for(var d,b=0;d=R[3072|a<<8|b];++b)d.w!=a&&(d.w=a),-1!=e||d.v||(e=b);0<=e&&(R[3072|a<<8|e].w=(a+1)%4);R.Xe(a)}});
ya(R,function(){function a(a){var b=0,d;for(d in e){var c=e[d];if(0<=c.t){c.qa<=c.t&&(c.t=c.qa);Q.Ca();var g,m;for(m in c){var k=c[m],h=k.Eb;if(h){var l=h.P.i?h.P.i.offsetX+h.P.i.ia:h.i.ia,n=h.i.ya,x=~~(h.I+(k.Wa-h.I)*(c.qa-c.t)/c.qa);x<=h.c?(l+=h.c-x,h.c=x):(l+=x-h.c,g=h.c,h.c=x,x=g);k=~~(h.J+(k.Lb-h.J)*(c.qa-c.t)/c.qa);k<=h.h?(n+=h.h-k,h.h=k):(n+=k-h.h,g=h.h,h.h=k,k=g);Q.Ma(x+h.i.offsetX,k+h.i.offsetY,l,n);c.qa<=c.t&&h.ga(h.v)}}Q.Da()}c.qa<=c.t&&delete e[d];c.t+=a;++b}0==b&&oc.Va&&oc.Va();return b}
var e={};return{Ta:function(d,b,f){if(Xb.$){Q.Ca();for(d=0;d<f.length;++d)b=f[d],b.Na(),b.c=b.I,b.h=b.J;for(d=0;d<f.length;++d)b=f[d],b.ga(b.v),b.Na();Q.Da()}else{b=e[Za++]={t:-~~d,qa:b};for(d=0;d<f.length;++d)b[d]={Eb:f[d],Wa:f[d].c,Lb:f[d].h};ec().Ta=a}}}}());var K=function(){function a(){return!1}function e(a){return 16==a||52==a||88==a}function d(a){a=(135-a+f)%136;return R[4096|~~(a/34)<<8|(a%34>>1)+17*(a&1)]}var b,f,c,g;return{a:0,ib:0,Sa:!1,bb:{136:48},ra:function(d){for(var k=K.bb,h=0;136>h;++h){var l=~~(h/4);k[h]=10*(~~(l/9)+1)+l%9+1}H.s&2?K.Gb=a:(K.Gb=e,k[16]=51,k[52]=52,k[88]=53);k=H.la;h=H.oa[3];l=H.oa[4];c=(4+k-H.oa[0]%4)%4;K.Sa=6==h&&0==l;f=((k+(h+1)+(l+1)-1)%4*17+17-1-(h+1)-(l+1))%68*2+2;K.Sa&&(f=34*(c+1));b=[0,0,0,0];K.ib=0;g=null;if(d)for(g=
[],h=0;136>h;++h)g[h]=d[135-h]},He:function(a){if(!K.Sa)return d(b[0]++);-1==a&&(a=(c+3)%4);var e=b[a]++;return R[4096|a<<8|33-(17*(e&1)+(e>>1))]},Oa:function(a){if(!K.Sa)return d(135-a^1);var b=(c+(a>>2))%4;a%=4;return R[4096|b<<8|17*(~a&1)+(a>>1)]},dc:function(a,b){return g?K.Sa?g[135-(34*a+~~(b%34/17)+b%17*2)]:g[(135-(34*a+~~(b%34/17)+b%17*2)+f)%136]:136},Qe:function(a){if(!b)return 0;if(0!=(H.s&2048))return 116-b[0]-2*(H.oa.length-5);if(!K.Sa)return 122-b[0]-K.ib;for(var c=0,d=-1,e=1;4>=e;++e)H.B[(a+
e)%4]&&c<b[(a+e)%4]&&(c=b[(a+e)%4],d=e);return(30-c)*(H.s&16?3:4)+d-1},Gb:a}}();
K.uf=function(a){function e(a){for(var b=0;b<a.length;++b)a[b]=(a[b]&255)<<24|(a[b]&65280)<<8|(a[b]&16711680)>>>8|(a[b]&4278190080)>>>24;return a}a=a.split(",");if("mt19937ar-sha512-n288-base64"==a[0]){a=function(a){a=atob(a);for(var b=[],c=0;c<a.length;c+=4)b.push(a.charCodeAt(c+0)<<0|a.charCodeAt(c+1)<<8|a.charCodeAt(c+2)<<16|a.charCodeAt(c+3)<<24);return b}(a[1]);var d=-1,b=new Mc;Nc(b,a,a.length);var f=new Mc;return function(a,g){if(g&&d!=a){for(var c=[],k=0;624>k;++k)c[k]=Oc(b);Nc(f,c,624)}d=
a;for(var h=g?f:b,c=[],l=[],k=0;9>k;++k){for(var n=[],x=0;32>x;++x)n[x]=Oc(h);Array.prototype.push.apply(l,e(Pc(e(n))))}for(var k=0;k<l.length;++k)l[k]>>>=0;if(H.s&16)for(k=0;136>k;++k)(4>k||32<=k)&&c.push(k);else for(k=0;136>k;++k)c.push(k);x=c.length;for(k=0;k<x-1;++k)h=k+l[k]%(x-k),n=c[k],c[k]=c[h],c[h]=n;return c}}};var xc=function(){function a(a){if(void 0!==b)return 350<e&&25<e-d&&(b(),d=e),e+=a,!0}var e=0,d=0,b=void 0;return{set:function(f,c){b=f;e=d=0;b?(c&&b(),ec().autoRepeat=a):delete ec().Lf}}}();var H=function(){function a(a){if(1==H.a){var b=(~~p.lognext+40-1)%40,c=p["log"+b];if(c){try{c=JSON.parse(c)}catch(w){return}c.sc||(c.sc=a,p["log"+b]=JSON.stringify(c))}}}function e(a,b,c,d,e,f,g){var n,h,l;c instanceof hc?(n=d.w%4,h=d.c,l=d.h,d.ga(0),d=M[c.w<<8|K.bb[e]]):(n=c,c=R[b|n<<8|d],h=c.c,l=c.h,d=M[n<<8|48]);switch(b){case 5120:l=0;break;case 4096:0==n?l=Tb:1==n?h=Sb:2==n?l=0:3==n&&(h=0);n&1&&(h-=Q.u.canvas.offsetLeft*t);break;case 1024:var x=k?K.Oa(K.ib++):K.He(n);1==K.a||3==K.a?(d=x.i,h=
x.c,l=x.h,Xb.O(a,x,0)):0==n?l=~~(Tb/2):1==n?h=~~(Sb/2):2==n?l=~~(Tb/2):3==n&&(h=~~(Sb/2));k=!1;break;case 3072:c.c=c.I+(Xb.$?0:~~(.2*Gc[n])+~~(.15*jc[n])),c.h=c.J+(Xb.$?0:~~(.2*Hc[n])+~~(.15*ic[n]))}c.Ga(1024==b,e);Xb.O(a+0,h,l,c.c,c.h,f,d,.06);b=Xb.O(a+10,h,l,c.c,c.h,f,d,.18,c,1);Xb.O(a+20,h,l,c.c,c.h,f,d,.06);0!=g&&gc(g,0,b/1E3);return b}function d(a){bc.Y();v.X(256);lc();var b={tag:"D",p:a};1==H.a?W.L(b):4==H.a&&C.Ue(b);b[0]=a;W.sa(b)}function b(){H.Me=[-1,-1,-1,-1];H.pb=["","","",""];for(var a=
0,b=0;4>b;++b)who=(H.la+b)%4,H.B[who]&&(H.Me[who]=a,H.pb[who]="東南西北".substr(a,1),++a)}var f={84:0,85:1,86:2,87:3,116:0,117:1,118:2,119:3},c=-1,g=-1,m=null,k,h="",l=!1;return{a:0,s:0,qb:0,la:-1,Me:[],pb:[],oa:[],pa:[],Je:[],Wa:[],$a:[],Ua:[],B:[],connected:0,fa:function(){var a=ec(),b;for(b in a)"autoRepeat"!=b&&delete a[b];Yb.fa();Xb.ra();Q.Jb();for(b=0;b<R.ta.length;++b)a=R.ta[b],a.v=0,a.P&&(void 0!==a.I&&(a.c=a.I),void 0!==a.J&&(a.h=a.J),a.ma(0,0,!1),delete a.ob);for(b=0;4>b;++b)R.Kb(b,
-2);m=null;g=-1;c=H.la=-1;ac.S(0,-1);Zb.ra();V.ra();$b.style.display=ac.u.canvas.style.display="none";bc.Y();v.X(256);lc();S.K();C.fa()},ra:function(a){if("REINIT"==a.tag||3==H.a)Xb.$=!0;k=!1;c=H.la=~~a.oya;H.oa=q(a.seed);H.pa=q(a.ten,100);H.Je=q(a.chip);b();bc.Af(ia(H.qb,H.s)?5E3:1E4);K.ra(a[5]);Zb.ra();V.ra();vb.tf();l&&(kc(1,0,0),l=!1);ac.S(void 0,-1);for(var d=0;4>d;++d)if(H.B[d])for(var f=0;13>f;++f)V[32|d].push(136);var g=0;if(1==K.a){for(d=0;4>d;++d)for(f=0;34>f;++f)R[4096|d<<8|f].ca=0;for(f=
0;17>f;++f)for(d=0;4>d;++d)Xb.O(e(g,4096,d,f,136,.08,4),R[4096|d<<8|f+17].Ga(!1,136),1),g+=12}else if(3==K.a){for(var h=u.tw+1,d=0;4>d;++d)for(f=0;34>f;++f){var n=K.dc(d,f),m=R[4096|d<<8|f],n=(n&3840)>>8;n==h?m.ma(-2049,2048,!1):5==n?m.ma(-12289,12288,!1):m.ma(-4097,4096,!1)}for(f=0;17>f;++f)for(d=0;4>d;++d)Xb.O(e(g,4096,d,f,K.dc(d,f)&255,.08,4),R[4096|d<<8|f+17].Ga(!1,K.dc(d,f+17)&255),1),g+=12}else for(f=0;5>f;++f)e(g,5120,0,f,136,.08,4),g+=45;Xb.O(function(){ac.S(void 0,c);for(var a=5;a<H.oa.length;++a)H.DORA({hai:H.oa[a],
Ne:a-5});if(K.Sa)for(var b=0;4>b;++b){var d=~~(.1*Gc[b]),e=~~(.1*Hc[b]);Q.Ca();for(a=0;34>a;++a)if(2<=a%17){var f=R[4096|b<<8|a];f.Na();f.c+=d;f.h+=e;f.La();f.Na()}for(a=0;34>a;++a)R[4096|b<<8|a].La();Q.Da()}});var D=[0,0,0,0];H.B[1]||(D[1]+=136-(H.s&2048?112:108));H.B[2]||(D[2]+=136-(H.s&2048?112:108));H.B[3]||(D[3]+=136-(H.s&2048?112:108));for(d=0;4>d;++d)for(m=q(a["m"+d]);m.length;)n=m.pop(),H.N({who:d,m:n}),k&&(K.Oa(K.ib).ga(0),++K.ib,k=!1),++D[(d+(n&3))%4],--D[d];a.hai&&(V[32]=q(a.hai));a.hai0&&
(V[32]=q(a.hai0));a.hai1&&(V[33]=q(a.hai1));a.hai2&&(V[34]=q(a.hai2));a.hai3&&(V[35]=q(a.hai3));S.K();for(d=0;4>d;++d)for(H.B[d]&&(D[d]+=13-V[32|d].length),f=0;f<V[32|d].length;++f)136>V[32|d][f]&&V[48|d][V[32|d][f]>>2]++;f=[q(a.kawa0),q(a.kawa1),q(a.kawa2),q(a.kawa3)];for(d=0;4>d;++d){Q.Ca();g=0;for(h=!1;f[d].length;)n=f[d].shift(),255==n?(R.Kb(d,g),0==d&&(V[64]=sb.nb(V[48]))):254==n?h=!0:(m=R[3072|d<<8|g],m.Ga(!1,n&255),m.ga(1),h&&(4==H.mode||1!=H.a&&v.o[1277961])&&m.ma(-257,256,!1),m.Na(),++D[d],
++g,h=!1);Q.Da()}Xb.$&&Q.Ca();Xb.O(function(){for(var a=0;4>a;++a)for(var b=0;b<D[a];++b)K.He(a).ga(0);for(var c=0,d=0;52>d;++d)a=(48>d?~~(d/4):d)%4,H.B[a]&&(b=48>d?4*~~(d/16)+d%4:12,V[32|a].length<=b||(e(c,1024,a,b,a&&!v.o[1277960]?136:V[32|a][b],.08,4),3==d%4&&(c+=75)));ac.S()});Xb.$&&Q.Da();Xb.O(function(){for(var a=0;4>a;++a)Xb.$&&Q.Ca(),(Xb.$||a||v.o[1183750])&&V.Ef(a),Xb.$&&Q.Da();if(~H.s&2048&&(1==K.a||3==K.a)){Q.Ca();K.Oa(14).Na();for(var a=K.Oa(14).w,b=~~(.15*Gc[a]),c=~~(.15*Hc[a]),d=14;48>
d;++d){var e=K.Oa(d);if(e.w!=a)break;e.c+=b;e.h+=c;e.Na()}K.Oa(13).La();K.Oa(15).La();Q.Da()}});$b.style.display="none";ac.u.canvas.style.display="";v.o[1183749]=v.o[1183752]=v.o[1183753]=v.o[1183751]=!1;v.o[1183750]=!0;v.X(256);if((3==H.a||2==H.a)&&v.o[1277957])for(d=0;4>d;++d)vb.Ye(d);if("REINIT"==a.tag||3==H.a)Xb.$=!1;Xb.O(W.Ha)},fc:function(a){var b=g;V[64]||(b=V[32|c][a]);d(b)},ERR:function(a){var b=~~a.code;a="(ERR"+b+")";var c=1;switch(b){case 1001:case 1002:case 1003:case 1004:case 1005:case 1006:case 1012:case 1019:case 1021:C.b.style.display=
"";lb(!1,0);break;case 1020:c|=2;break;case 1027:a="";break;case 1100:case 1101:C.cancel()}A.l(I[b]+a,c,function(){switch(b){case 1014:delete u.wg;u.hb&&history.back();break;case 1019:history.back();break;case 1020:C.purchase()}});return 1},HELO:function(a){if(a.closing)return location.reload(),1;if(2==H.a)return W.L({tag:"WG",id:u.wg,tw:u.tw}),1;var b;C[17]=a.PF4?a.PF4.split(","):[];C[16]=a.PF3?a.PF3.split(","):[];C[18]=a.PF601&&a.PF01C?(b=a.PF601.split(","),b.splice(1,0,0,a.PF01C.split(",")[1]),
b):[];C[19]=a.PF602&&a.PF02C?(b=a.PF602.split(","),b.splice(1,0,0,a.PF02C.split(",")[1]),b):[];C[20]=a.PF603&&a.PF03C?(b=a.PF603.split(","),b.splice(1,0,0,a.PF03C.split(",")[1]),b):[];C[21]=a.PF611&&a.PF11C?(b=a.PF611.split(","),b.splice(1,0,0,a.PF11C.split(",")[1]),b):[];C[22]=a.PF612&&a.PF12C?(b=a.PF612.split(","),b.splice(1,0,0,a.PF12C.split(",")[1]),b):[];C[23]=a.PF613&&a.PF13C?(b=a.PF613.split(","),b.splice(1,0,0,a.PF13C.split(",")[1]),b):[];C[24]=a.PF623&&a.PF23C?(b=a.PF623.split(","),b.splice(1,
0,0,a.PF23C.split(",")[1]),b):[];C[25]=a.PF633&&a.PF33C?(b=a.PF633.split(","),b.splice(1,0,0,a.PF33C.split(",")[1]),b):[];C[0]=decodeURIComponent(a.uname);C[1]=a.expire;C[2]=~~a.expiredays;a.nintei?(a.tag="NINTEI",C.l(a)):C.bc();return 1},REHELO:function(){W.lf();return 1},LN:C.ff,REJOIN:function(a){W.L({tag:"JOIN",t:a.t});return 1},CHAT:C.bf,CS:C.cf,DATE:C.df,RANKING:function(a){a.rankingcs?C.jf(a):C.hf(a);return 1},SHUFFLE:function(){return 1},GO:function(a){a.gpid&&(p.gpid=a.gpid);H.qb=~~a.lobby;
H.s=~~a.type;1!=H.a&&2!=H.a||W.L({tag:"GOK"});1==H.a&&0==H.qb&&H.s&1&&C.Hf(H.s);return 1},UN:function(a){if(3<=!!a.n0+!!a.n1+!!a.n2+!!a.n3){H.B=["","","",""];for(var b=0;4>b;++b)H.B[b]=decodeURIComponent(a["n"+b]).replace("Ⓟ","ⓟ").replace("Ⓢ","ⓢ");H.$a=q(a.dan?a.dan:",,,");H.Ua=q(a.rate?a.rate:",,,");H.Wa=(a.sx?a.sx:",,,").split(",");if(!1!==v.o[14])for(b=0;4>b;++b){if(a=H.B[b])(a=H.B[b])&&a.length?(a=a.charCodeAt(0),a=9372<=a&&9397>=a||9398<=a&&9423>=a||9424<=a&&9449>=a):a=!1,
a=!(a||20<=H.$a[b]);a&&(a=(u.tw+b)%4,H.B[b]=3==H.a&&a==u.TW?"私":"ABCD".substr(a,1)+"さん")}}else a.n0&&(H.connected|=1),a.n1&&(H.connected|=2),a.n2&&(H.connected|=4),a.n3&&(H.connected|=8),ac.S();return 1},BYE:function(a){H.connected&=~(1<<~~a.who);ac.S();return 1},TAIKYOKU:function(a){v.b.style.display="";v[1572868].innerHTML="";v.X(126976);W.Pa=0;l="SAIKAI"!=a.tag&&H.s&1;H.la=~~a.oya;if(1==H.a&&a.log){h=a.log;var c=~~p.lognext;p["log"+c]=JSON.stringify({type:H.s,lobby:H.qb,log:h,
oya:H.la,uname:H.B});p.lognext=(c+1)%40}H.connected=15;b();R.K();Zb.K();C.l(a);Vb.S();return 1},INIT:function(a){C.Y(function(){H.fa();H.ra(a)})},FURITEN:function(a){$b.style.display=~~a.show?"":"none";return 1},T:function(a){if(-1==c)return 1;if(k||3==H.a)V.ub(c),V.tb();3==H.a&&Yb.$b();m&&(R.Ta(0,120,[m]),m=null);g=void 0===a[0]?136:a[0];c=f[a.tag.charCodeAt(0)];var b=V[32|c].length;V[32|c].push(g);136>g&&V[48|c][g>>2]++;var h=R[1024|c<<8|b];h||ob("T d PH_TEHAI who="+c+" n="+b+" wg="+u.wg);h.c=h.I+
~~(.1*Gc[c]);h.h=h.J+~~(.1*Hc[c]);e(0,1024,c,b,c&&!v.o[1277960]?136:g,-120,5);ac.S(void 0,c);1!=H.a&&vb.Ze(h);var l=~~a.t;Xb.O(function(){3==H.a||2==H.a||c||(l&16&&v.o[1183752]?W.L({tag:"N",type:7}):(l=mc.sf(l,g))||!v.o[1183753]&&!V[64]?lc(a):(bc.Re(),d(g)));fc(W.Ha,Xb.$||3==H.a?0:500)})},D:function(a){if(-1==c)return 1;var b=a.tag.charCodeAt(0),d=100<=b&&103>=b||g===a[0];g=a[0];0<V[48|c][g>>2]&&V[48|c][g>>2]--;for(var f=V[32|c].length,b=0;b<f&&V[32|c][b]!=g;++b);b==f&&(b=d?f-1:~~((f-1)/2));b=R[1024|
c<<8|b];for(f=0;(m=R[3072|c<<8|f])&&m.v;++f);2==H.a||3==H.a?(v.o[1277957]&&vb.Ye(c),v.o[1277961]&&m.ma(-1281,(d?256:0)|b.aa&1024,!1)):(H.s&256||4==H.a)&&m.ma(-257,d?256:0,!1);e(0,3072,m,b,g,-120,6);var h=~~a.t;Xb.O(function(){h&8&&v.o[1183752]?(kc(8,0,0),fc(function(){W.L({tag:"N",type:6})},1E3)):~h&8&&h&&v.o[1183749]?W.L({tag:"N"}):h&&mc.qf(h,g);3==H.a?(V.hc(c),W.Ha()):fc(function(){V.hc(c);V.ub(c);V.tb();W.Ha()},Xb.$?0:300)})},N:function(a){bc.Y();v.X(256);lc();if(-1==c)return 1;3==H.a&&(V.ub(c),
V.tb());var b=c=~~a.who;ac.S(void 0,b);a[2]||nc(a);var d=a[0],f=V[32|b].length,h=[],l=3-a[3];if(a.tag){Yb.O(b,a[2],3==H.a?4:6);for(var n=0;n<d.length;++n)if(m&&d[n]==g)h[n]=m,m=null,l=n;else{for(var D=0;D<V[32|b].length&&V[32|b][D]!=d[n];++D);D==V[32|b].length&&(D=--f);h[n]=R[1024|b<<8|D];V[48|b][d[n]>>2]--}}else 5==a[2]&&H.N({who:b,m:a.m^24});k=!0;f=[];if(10==a[2])V[16|b].push(d[0]),Zb.wb(b),f[0]=R[b<<8|2064],f[0].w=b;else if(1==d.length){for(n=(H.s&16?16:17)-1;(f[0]=R[2048|b<<8|n])&&f[0].v&&f[0].Ka.ob!=
d[0];--n);f[0]&&(f[0].Ka.w=(b+3)%4,f[0]=f[0].Ka)}else{for(n=(H.s&16?16:17)-1;(f[0]=R[2048|b<<8|n])&&f[0].v;--n);f.unshift(R[2048|b<<8|n-1]);f.unshift(R[2048|b<<8|n-2]);for(n=0;n<f.length;++n)f[n].w=b;3==l&&(l=a[3]?2:1);4==d.length?(f[l].w=f[l].Ka.w=(b+1)%4,f[3]=f[2],f[2]=f[l].Ka):(k=!1,f[l].w=(b+1)%4,1==a[2]&&(f[l].Ka.ob=a[4]))}R.$e(b);if(a.tag){for(n=0;n<f.length;++n){l=d[n];4!=d.length||a[3]||0!=n&&3!=n||(l=136);D=.06;if(10==a[2])var D=f[n].c-h[n].c,ca=f[n].h-h[n].h,D=Math.sqrt(D*D+ca*ca)/4E3;e(0,
2048,f[n],h[n],l,D,0)}V.hc(b);V.ub(b);V.tb();b||(S.K(),k||lc(a));var pa=~~a.t;Xb.O(function(){pa&&mc.rf(pa);W.Ha()})}else{for(n=0;n<f.length;++n)l=d[n],4!=d.length||a[3]||0!=n&&3!=n||(l=136),f[n].Ga(!1,l),f[n].ga(1),f[n].Na();5!=a[2]&&10!=a[2]&&V[32|b].splice(V[32|b].length-3,3)}},DORA:function(a){if(-1==c)return 1;var b=~~a.hai,d=void 0===a.Ne?H.oa.length-5:a.Ne,e=(H.s&2048?20:H.s&16?8:4)+2*d,f=R[5120|d];if(1==K.a||3==K.a)f=K.Oa(e);f.Ga(!1,b);0==d&&3==K.a&&f.ma(-513,512,!1);f.Pe();"DORA"==a.tag&&
H.oa.push(b);1<d&&(Zb.wb(0),Zb.wb(1),Zb.wb(2),Zb.wb(3));return 1},REACH:function(a){if(1==a.step){var b=~~a.who;Yb.O(b,8,3==H.a?7:6);R.Kb(b,-1);0==b&&lc(a);fc(W.Ha,Xb.$||3==H.a?0:500)}else return 2==a.step&&(b=~~a.who,1==H.a&&0==b&&(V[64]=sb.nb(V[48])),H.oa[2]++,ac.S()),a.ten&&(H.pa=q(a.ten,100)),1},AGARI:function(b){if(-1==c)return 1;3==H.a&&Yb.$b();var d=~~b.who;V[32|d]=q(b.hai);V[32|d].splice(V[32|d].indexOf(~~b.machi),1);if(d&&d==b.fromWho){var e=R[1024|d<<8|V[32|d].length];e.ga(0).Ga(!0,~~b.machi).ga(1);
1!=H.a&&vb.Ze(e)}m&&(R.Ta(0,120,[m]),m=null);Yb.O(d,d==b.fromWho?7:6,3==H.a?4:6);b.paoWho&&Yb.O(~~b.paoWho,11,3==H.a?4:6);V.Ve(1<<d);fc(function(){C.l(b);b.owari&&(p.removeItem("gpid"),C.l({tag:"OWARI",sc:b.owari}),a(b.owari),W.Y())},3==H.a?0:1E3);xc.set();return 1},RYUUKYOKU:function(b){if(-1==c)return 1;3==H.a&&Yb.$b();b.hai1&&(V[33]=q(b.hai1));b.hai2&&(V[34]=q(b.hai2));b.hai3&&(V[35]=q(b.hai3));if("ron3"==b.type){var d=3==H.a?4:6;b.hai0&&Yb.O(0,6,d);b.hai1&&Yb.O(1,6,d);b.hai2&&Yb.O(2,6,d);b.hai3&&
Yb.O(3,6,d)}m&&(R.Ta(0,120,[m]),m=null);V.Ve(14);fc(function(){C.l(b);b.owari&&(p.removeItem("gpid"),C.l({tag:"OWARI",sc:b.owari}),a(b.owari),W.Y())},3==H.a?0:1E3);xc.set();return 1},VOICE:function(a){a=a.type;for(var b=0;4>b;++b)a[b]&&Yb.O(b,a[b],3);return 1},PROF:function(){return 1},INITBYLOG:vb.ef,WGC:vb.kf,TRAININGINIT:function(a){H.ra(a)}}}();H.W=H.V=H.U=H.T;H.g=H.f=H.e=H.d=H.G=H.F=H.E=H.D;H.KANSEN=H.SAIKAI=H.TAIKYOKU;H.REINIT=H.INIT;function Mc(){this.ea=624;this.xb=397;this.gf=2567483615;this.Nb=2147483648;this.Mb=2147483647;this.H=Array(this.ea);this.va=this.ea+1}function Qc(a,e){a.H[0]=e>>>0;for(a.va=1;a.va<a.ea;a.va++)e=a.H[a.va-1]^a.H[a.va-1]>>>30,a.H[a.va]=(1812433253*((e&4294901760)>>>16)<<16)+1812433253*(e&65535)+a.va,a.H[a.va]>>>=0}
function Nc(a,e,d){var b,f,c;Qc(a,19650218);b=1;f=0;for(c=a.ea>d?a.ea:d;c;c--){var g=a.H[b-1]^a.H[b-1]>>>30;a.H[b]=(a.H[b]^(1664525*((g&4294901760)>>>16)<<16)+1664525*(g&65535))+e[f]+f;a.H[b]>>>=0;b++;f++;b>=a.ea&&(a.H[0]=a.H[a.ea-1],b=1);f>=d&&(f=0)}for(c=a.ea-1;c;c--)g=a.H[b-1]^a.H[b-1]>>>30,a.H[b]=(a.H[b]^(1566083941*((g&4294901760)>>>16)<<16)+1566083941*(g&65535))-b,a.H[b]>>>=0,b++,b>=a.ea&&(a.H[0]=a.H[a.ea-1],b=1);a.H[0]=2147483648}
function Oc(a){var e,d=[0,a.gf];if(a.va>=a.ea){var b;a.va==a.ea+1&&Qc(a,5489);for(b=0;b<a.ea-a.xb;b++)e=a.H[b]&a.Nb|a.H[b+1]&a.Mb,a.H[b]=a.H[b+a.xb]^e>>>1^d[e&1];for(;b<a.ea-1;b++)e=a.H[b]&a.Nb|a.H[b+1]&a.Mb,a.H[b]=a.H[b+(a.xb-a.ea)]^e>>>1^d[e&1];e=a.H[a.ea-1]&a.Nb|a.H[0]&a.Mb;a.H[a.ea-1]=a.H[a.xb-1]^e>>>1^d[e&1];a.va=0}e=a.H[a.va++];e^=e>>>11;e^=e<<7&2636928640;e^=e<<15&4022730752;return(e^e>>>18)>>>0}Mc.prototype.random=function(){return Oc(this)*(1/4294967296)};var oc=function(){function a(){v.ka(1574918)}function e(){v.ka(1574917)}function d(){var a=V[32],a=a?3*~~(a.length/3)+1:1;if(R[1024|a].v)return R[1024|a]}function b(a,b){if(a&&a.tagName){var c=a.style;b?(c.backgroundColor=n&4?"#050":"#030",c.animationName="none",c.color||(c.color="#FFF")):(c.backgroundColor="",c.animationName="",c.color="")}}function f(a){if(h!=a){if(h&&h.tagName&&(b(h,!1),l&&!a)){h=l;return}l&&(~n&2||!a||a instanceof hc)&&(S.Xa(l.R,-15,0),l=void 0);if(!a&&l)h=l;else{h=a;a instanceof
hc&&S.Xa(a.R,-15,2|(n&8?8:0));if(!a||a instanceof hc)l=a;C.Cf(a);n&=-5;b(h,!0)}}}function c(a){if(l){var b=l.R;S.Xa(b,-15,0);S.Xa(b+a,-15,6);l=R[1024|b+a]}}function g(g,k){g&&xc.set();if(h){g||3!=H.a||(h==v[1574917]&&xc.set(e,!1),h==v[1574918]&&xc.set(a,!1));if(g&&!k)n&=-5,h instanceof hc&&S.Xa(h.R,-15,0),h&&h!=ac.u.canvas&&h.style&&~n&8&&f();else if(!k||~n&4)n|=4,h instanceof hc&&S.Xa(h.R,-15,4|(n&8?8:0));else{if("CPda"==h.name)f(),h=l;else if("CPok"==h.name){var D=d();D&&R[1024|D.R].aa&1&&D.v?H.fc(D.R):
m(Ub,0,0,!0,!1)}if(h instanceof hc)R[1024|h.R].aa&1&&h.v&&(H.fc(h.R),f());else if(h&&h.tagName){if(!g)return;if(h.name){if(!h.disabled)if("CP_L"==h.name)S.cc(-1),c(-1);else if("CP_R"==h.name)S.cc(1),c(1);else if(C[h.name])C[h.name](h)}else h==ac.u.canvas?ac.ka():h.parentNode.parentNode!=v.b||h.parentNode.style.visibility||v.ka(~~h.id.substr(1));n&2&&f()}}n&=-9;b(h,!0)}}function m(a,b,c,e,g,k){"BUTTON"==a.tagName||a.parentNode!=S.b||S[20].style.display?a.parentNode!=S.b||S[0].style.display||(c=R[81]/
t+1,g||(b=a.offsetLeft+1)):(c=R[81]/t+1,n&2&&!g&&(b=S.b.offsetLeft+S[24].offsetLeft+S[24].offsetWidth/2),n&=-3,g=!1);b*=t;c*=t;var m;if(g&&h instanceof hc){if(1==H.a||4==H.a){for(a=0;(m=R[1024|a])&&!(m.I<=b&&b<m.I+N[4]);++a);if(b=m&&h!=m)if(b=h,c=m,b!=c&&b.v&&c.v){v.o[1183750]&&v.ka(1183750);for(e=[b];b!=c;)a=R[1024|b.R+(c.R<b.R?-1:1)],k=S[b.R].style.backgroundColor,S[b.R].style.backgroundColor=S[a.R].style.backgroundColor,S[a.R].style.backgroundColor=k,k=V[32][b.R],V[32][b.R]=V[32][a.R],V[32][a.R]=
k,k=b.i,b.i=a.i,a.i=k,k=b.v,b.v=a.v,a.v=k,k=b.c,b.c=a.c,a.c=k,k=b.h,b.h=a.h,a.h=k,k=b.aa,b.aa=a.aa,a.aa=k,k=b.ja,b.ja=a.ja,a.ja=k,k=b.ca,b.ca=a.ca,a.ca=k,e.push(b=a);R.Ta(0,80,e);b=!0}else b=!1;b&&(h=l=m,bc.K(m))}}else if("BUTTON"==a.tagName)f(a.disabled?null:a);else if(a==ac.u.canvas)f(a);else if(a.parentNode&&a.parentNode==v.b)f(("SELECT"==a.tagName?a.previousSibling:a).firstChild);else{if(!A.fb()){if(n&2){g=N[4];var w=U[4]>>1;for(a=0;(m=R[1024|a])&&!(m.v&&m.I-g<=b&&b<m.I+N[4]&&m.J-w<=c&&c<m.J+
U[4]+T[4]);++a);}else for(a=0;(m=R[1024|a])&&!(m.I<=b&&b<m.I+N[4]&&m.J<=c&&c<m.J+U[4]+T[4]);++a);m&&k&&k.preventDefault()}n&=-9;if(!m&&e){if(b/t<S.b.offsetLeft+S[1].offsetLeft&&S.b.offsetTop+S[1].offsetTop<c/t&&c/t<S.b.offsetTop+S[1].offsetTop+S[1].offsetHeight)m=R[1025];else if(S.b.offsetLeft+S[12].offsetLeft+S[12].offsetWidth<b/t&&S.b.offsetTop+S[12].offsetTop<c/t&&c/t<S.b.offsetTop+S[12].offsetTop+S[12].offsetHeight)m=R[1036];else if(C.b&&!C.b.style.display&&Z.ok)m=Z.ok;else if(!v[2360326].parentNode.style.visibility&&
!v[2360326].parentNode.style.display)m=v[2360326];else if(1==H.a||4==H.a)m=d();m&&(n|=8)}f(m)}}var k={A:1,IMG:1,INPUT:1,SELECT:1,OPTION:1,LABEL:1,TEXTAREA:1},h,l,n=0,x,E,w,B,y;xa(r,{touchstart:function(b){var c=b.target;if(!k[c.tagName]&&"fixed-select"!=c.parentNode.className){var d=b.changedTouches;if(1!=d.length)f();else if(C.b&&!c.name&&"scroll"!=c.style.overflowY&&C.b.firstChild.contains(c))f(),h||-1==H.la||(C.b.style.visibility="hidden");else{x=Date.now();E=d[0].pageX;w=d[0].pageY;var d=E-Ub.offsetLeft-
Q.u.canvas.offsetLeft,g=w-Hb;"BUTTON"==c.tagName||c.parentNode!=S.b||S[20].style.display||S.gc(c.offsetLeft+c.offsetWidth/2);n|=2;m(c,d,g,!A.fb(),!1,b);h&&h!=ac.u.canvas&&h.style&&~n&8&&(n|=4);v.a&126976&&!v.b.contains(c)||(h==v[1574917]&&xc.set(e,!1),h==v[1574918]&&xc.set(a,!1))}}},touchmove:function(a){if(h instanceof hc){var b=a.touches;1==b.length&&(Math.abs(b[0].pageX-E)<10*t||m(a.target,b[0].pageX-Ub.offsetLeft-Q.u.canvas.offsetLeft,R[81]/t+1,!1,!0))}},touchend:function(a){xc.set();var b=a.target;
k[b.tagName]||!b.parentNode||k[b.parentNode.tagName]||"fixed-select"==b.parentNode.className||(A.fb()||a.preventDefault(),C.b&&"hidden"==C.b.style.visibility?C.b.style.visibility="":(a=a.changedTouches,1==a.length&&(g(!0,Math.abs(a[0].pageX-E)<10*t&&Math.abs(a[0].pageY-w)<10*t&&1E3>Date.now()-x),v.a&126976&&!v.b.contains(b)&&v.X(126976))))},touchcancel:function(){xc.set()},mousemove:function(a){var b=a.target;if(void 0!==a.buttons?2!=a.buttons:3!=a.which){B=a.pageX;y=a.pageY;var c=B-Ub.offsetLeft-
Q.u.canvas.offsetLeft,d=y-Hb;n&=-3;m(b,c,d,!1,void 0!==a.buttons?1==a.buttons:1==a.which)}},mousedown:function(b){var c=b.target;k[c.tagName]||!c.parentNode||k[c.parentNode.tagName]||"fixed-select"==c.parentNode.className||(C.b&&!c.name&&"scroll"!=c.style.overflowY&&C.b.firstChild.contains(c)?h||-1==H.la||(C.b.style.visibility="hidden"):(x=Date.now(),E=b.pageX,w=b.pageY,(void 0!==b.buttons?2!=b.buttons:3!=b.which)||1!=H.a&&4!=H.a?m(c,E-Ub.offsetLeft-Q.u.canvas.offsetLeft,w-Hb,!1):m(Ub,0,0,!A.fb()),
g(!1,!0),3!=H.a||v.a&126976&&!v.b.contains(c)||A.fb()||h||xc.set((void 0!==b.buttons?2==b.buttons:3==b.which)?a:e,!0)))},mouseup:function(a){xc.set();var b=a.target;!k[b.tagName]&&b.parentNode&&"dropdown"!=b.parentNode.className&&(C.b&&"hidden"==C.b.style.visibility?C.b.style.visibility="":(g(!0,Math.abs(a.pageX-E)<10*t&&Math.abs(a.pageY-w)<10*t&&1E3>Date.now()-x),v.a&126976&&!v.b.contains(b)&&v.X(126976)))}});return{Va:function(){if(!(h instanceof hc)){var a=$a.elementFromPoint(~~(B-r.pageXOffset),
~~(y-r.pageYOffset));a&&m(a,B-Ub.offsetLeft-Q.u.canvas.offsetLeft,y-Hb,!1)}}}}();ta(r,"touchstart",function(a){this.removeEventListener(a.type,arguments.callee,!1);delete oc.Va});var Rc="onwheel"in $a?"wheel":"onmousewheel"in $a?"mousewheel":"DOMMouseScroll";ta($a,Rc,function(a){3!=H.a||A.fb()||(a.preventDefault(),v.ka(0>(a.deltaY?-a.deltaY:a.wheelDelta?a.wheelDelta:-a.detail)?1574917:1574918))});
(function(){var a;ta(r,"touchstart",function(e){var d=e.target;"A"!=d.tagName||"auto"!=d.parentNode.style.overflowY&&"scroll"!=d.parentNode.parentNode.style.overflowY||(a=e.touches[0].screenY)});ta(r,"touchmove",function(e){var d=e.target;"A"==d.tagName&&("auto"==d.parentNode.style.overflowY&&0==d.parentNode.scrollTop||"scroll"==d.parentNode.parentNode.style.overflowY&&0==d.parentNode.parentNode.scrollTop)&&a<=e.touches[0].screenY&&e.preventDefault()});ta($a,Rc,function(a){var d=a.target,b=a.deltaY?
-a.deltaY:a.wheelDelta?a.wheelDelta:-a.detail;"A"==d.tagName&&("auto"==d.parentNode.style.overflowY&&0==d.parentNode.scrollTop||"scroll"==d.parentNode.parentNode.style.overflowY&&0==d.parentNode.parentNode.scrollTop)&&0<b&&a.preventDefault()})})();ab.oncontextmenu=function(a){if(a.target){a=a.target;if("A"!=a.tagName&&"INPUT"!=a.tagName&&"TEXTAREA"!=a.tagName)return!1;if(oa&&a.href)return r.prompt("Anchor URL as TEXT",a.href),!1}};var Pc=function(){var a=[-2147483648,8388608,32768,128],e=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,
1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,
3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,
116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],d=[];return function(b){var f,c,g,m,k,h,l,n,x,E,w,B,y,J,D,ca,pa,Wa=!1,O,Fa=0,mb=0,Ib=0,Xa=b.length,Ga,Ha,P,F,L,G,Jb,Kb,yb,zb,db,eb,X,Y,ea,fa,Ta;f=1779033703;c=4089235720;g=3144134277;m=2227873595;k=1013904242;h=4271175723;l=2773480762;n=1595750129;
x=1359893119;E=2917565137;w=2600822924;B=725511199;y=528734635;J=4215389547;D=1541459225;ca=327033209;pa=0;do{d[0]=pa;d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=d[16]=d[17]=d[18]=d[19]=d[20]=d[21]=d[22]=d[23]=d[24]=d[25]=d[26]=d[27]=d[28]=d[29]=d[30]=d[31]=d[32]=0;for(O=mb;Fa<Xa&&128>O;++Fa)d[O>>2]|=b[Fa],O+=4;Ib+=O-mb;mb=O-128;Fa==Xa&&(d[O>>2]|=a[O&3],++Fa);pa=d[32];Fa>Xa&&112>O&&(d[31]=Ib<<3,Wa=!0);for(O=32;160>O;O+=2)X=d[O-30],Y=d[O-29],Ga=(X>>>1|Y<<31)^(X>>>
8|Y<<24)^X>>>7,Ha=(Y>>>1|X<<31)^(Y>>>8|X<<24)^(Y>>>7|X<<25),X=d[O-4],Y=d[O-3],P=(X>>>19|Y<<13)^(Y>>>29|X<<3)^X>>>6,F=(Y>>>19|X<<13)^(X>>>29|Y<<3)^(Y>>>6|X<<26),X=d[O-32],Y=d[O-31],ea=d[O-14],fa=d[O-13],L=(fa&65535)+(Y&65535)+(Ha&65535)+(F&65535),F=(fa>>>16)+(Y>>>16)+(Ha>>>16)+(F>>>16)+(L>>>16),G=(ea&65535)+(X&65535)+(Ga&65535)+(P&65535)+(F>>>16),P=(ea>>>16)+(X>>>16)+(Ga>>>16)+(P>>>16)+(G>>>16),d[O]=P<<16|G&65535,d[O+1]=F<<16|L&65535;var va=f,wa=c,ua=g,ra=m,qa=k,za=h,Ia=l,Ja=n,Ka=x,La=E,Ma=w,Na=B,
Oa=y,Pa=J,Qa=D,Ra=ca;yb=ua&qa;zb=ra&za;for(O=0;160>O;O+=8)Ga=(va>>>28|wa<<4)^(wa>>>2|va<<30)^(wa>>>7|va<<25),Ha=(wa>>>28|va<<4)^(va>>>2|wa<<30)^(va>>>7|wa<<25),P=(Ka>>>14|La<<18)^(Ka>>>18|La<<14)^(La>>>9|Ka<<23),F=(La>>>14|Ka<<18)^(La>>>18|Ka<<14)^(Ka>>>9|La<<23),Jb=va&ua,Kb=wa&ra,db=Jb^va&qa^yb,eb=Kb^wa&za^zb,Ta=Ka&Ma^~Ka&Oa,G=La&Na^~La&Pa,X=d[O],Y=d[O+1],ea=e[O],fa=e[O+1],L=(fa&65535)+(Y&65535)+(G&65535)+(F&65535)+(Ra&65535),F=(fa>>>16)+(Y>>>16)+(G>>>16)+(F>>>16)+(Ra>>>16)+(L>>>16),G=(ea&65535)+
(X&65535)+(Ta&65535)+(P&65535)+(Qa&65535)+(F>>>16),P=(ea>>>16)+(X>>>16)+(Ta>>>16)+(P>>>16)+(Qa>>>16)+(G>>>16),X=P<<16|G&65535,Y=F<<16|L&65535,L=(eb&65535)+(Ha&65535),F=(eb>>>16)+(Ha>>>16)+(L>>>16),G=(db&65535)+(Ga&65535)+(F>>>16),P=(db>>>16)+(Ga>>>16)+(G>>>16),ea=P<<16|G&65535,fa=F<<16|L&65535,L=(Ja&65535)+(Y&65535),F=(Ja>>>16)+(Y>>>16)+(L>>>16),G=(Ia&65535)+(X&65535)+(F>>>16),P=(Ia>>>16)+(X>>>16)+(G>>>16),Qa=P<<16|G&65535,Ra=F<<16|L&65535,L=(fa&65535)+(Y&65535),F=(fa>>>16)+(Y>>>16)+(L>>>16),G=(ea&
65535)+(X&65535)+(F>>>16),P=(ea>>>16)+(X>>>16)+(G>>>16),Ia=P<<16|G&65535,Ja=F<<16|L&65535,Ga=(Ia>>>28|Ja<<4)^(Ja>>>2|Ia<<30)^(Ja>>>7|Ia<<25),Ha=(Ja>>>28|Ia<<4)^(Ia>>>2|Ja<<30)^(Ia>>>7|Ja<<25),P=(Qa>>>14|Ra<<18)^(Qa>>>18|Ra<<14)^(Ra>>>9|Qa<<23),F=(Ra>>>14|Qa<<18)^(Ra>>>18|Qa<<14)^(Qa>>>9|Ra<<23),yb=Ia&va,zb=Ja&wa,db=yb^Ia&ua^Jb,eb=zb^Ja&ra^Kb,Ta=Qa&Ka^~Qa&Ma,G=Ra&La^~Ra&Na,X=d[O+2],Y=d[O+3],ea=e[O+2],fa=e[O+3],L=(fa&65535)+(Y&65535)+(G&65535)+(F&65535)+(Pa&65535),F=(fa>>>16)+(Y>>>16)+(G>>>16)+(F>>>
16)+(Pa>>>16)+(L>>>16),G=(ea&65535)+(X&65535)+(Ta&65535)+(P&65535)+(Oa&65535)+(F>>>16),P=(ea>>>16)+(X>>>16)+(Ta>>>16)+(P>>>16)+(Oa>>>16)+(G>>>16),X=P<<16|G&65535,Y=F<<16|L&65535,L=(eb&65535)+(Ha&65535),F=(eb>>>16)+(Ha>>>16)+(L>>>16),G=(db&65535)+(Ga&65535)+(F>>>16),P=(db>>>16)+(Ga>>>16)+(G>>>16),ea=P<<16|G&65535,fa=F<<16|L&65535,L=(za&65535)+(Y&65535),F=(za>>>16)+(Y>>>16)+(L>>>16),G=(qa&65535)+(X&65535)+(F>>>16),P=(qa>>>16)+(X>>>16)+(G>>>16),Oa=P<<16|G&65535,Pa=F<<16|L&65535,L=(fa&65535)+(Y&65535),
F=(fa>>>16)+(Y>>>16)+(L>>>16),G=(ea&65535)+(X&65535)+(F>>>16),P=(ea>>>16)+(X>>>16)+(G>>>16),qa=P<<16|G&65535,za=F<<16|L&65535,Ga=(qa>>>28|za<<4)^(za>>>2|qa<<30)^(za>>>7|qa<<25),Ha=(za>>>28|qa<<4)^(qa>>>2|za<<30)^(qa>>>7|za<<25),P=(Oa>>>14|Pa<<18)^(Oa>>>18|Pa<<14)^(Pa>>>9|Oa<<23),F=(Pa>>>14|Oa<<18)^(Pa>>>18|Oa<<14)^(Oa>>>9|Pa<<23),Jb=qa&Ia,Kb=za&Ja,db=Jb^qa&va^yb,eb=Kb^za&wa^zb,Ta=Oa&Qa^~Oa&Ka,G=Pa&Ra^~Pa&La,X=d[O+4],Y=d[O+5],ea=e[O+4],fa=e[O+5],L=(fa&65535)+(Y&65535)+(G&65535)+(F&65535)+(Na&65535),
F=(fa>>>16)+(Y>>>16)+(G>>>16)+(F>>>16)+(Na>>>16)+(L>>>16),G=(ea&65535)+(X&65535)+(Ta&65535)+(P&65535)+(Ma&65535)+(F>>>16),P=(ea>>>16)+(X>>>16)+(Ta>>>16)+(P>>>16)+(Ma>>>16)+(G>>>16),X=P<<16|G&65535,Y=F<<16|L&65535,L=(eb&65535)+(Ha&65535),F=(eb>>>16)+(Ha>>>16)+(L>>>16),G=(db&65535)+(Ga&65535)+(F>>>16),P=(db>>>16)+(Ga>>>16)+(G>>>16),ea=P<<16|G&65535,fa=F<<16|L&65535,L=(ra&65535)+(Y&65535),F=(ra>>>16)+(Y>>>16)+(L>>>16),G=(ua&65535)+(X&65535)+(F>>>16),P=(ua>>>16)+(X>>>16)+(G>>>16),Ma=P<<16|G&65535,Na=
F<<16|L&65535,L=(fa&65535)+(Y&65535),F=(fa>>>16)+(Y>>>16)+(L>>>16),G=(ea&65535)+(X&65535)+(F>>>16),P=(ea>>>16)+(X>>>16)+(G>>>16),ua=P<<16|G&65535,ra=F<<16|L&65535,Ga=(ua>>>28|ra<<4)^(ra>>>2|ua<<30)^(ra>>>7|ua<<25),Ha=(ra>>>28|ua<<4)^(ua>>>2|ra<<30)^(ua>>>7|ra<<25),P=(Ma>>>14|Na<<18)^(Ma>>>18|Na<<14)^(Na>>>9|Ma<<23),F=(Na>>>14|Ma<<18)^(Na>>>18|Ma<<14)^(Ma>>>9|Na<<23),yb=ua&qa,zb=ra&za,db=yb^ua&Ia^Jb,eb=zb^ra&Ja^Kb,Ta=Ma&Oa^~Ma&Qa,G=Na&Pa^~Na&Ra,X=d[O+6],Y=d[O+7],ea=e[O+6],fa=e[O+7],L=(fa&65535)+(Y&
65535)+(G&65535)+(F&65535)+(La&65535),F=(fa>>>16)+(Y>>>16)+(G>>>16)+(F>>>16)+(La>>>16)+(L>>>16),G=(ea&65535)+(X&65535)+(Ta&65535)+(P&65535)+(Ka&65535)+(F>>>16),P=(ea>>>16)+(X>>>16)+(Ta>>>16)+(P>>>16)+(Ka>>>16)+(G>>>16),X=P<<16|G&65535,Y=F<<16|L&65535,L=(eb&65535)+(Ha&65535),F=(eb>>>16)+(Ha>>>16)+(L>>>16),G=(db&65535)+(Ga&65535)+(F>>>16),P=(db>>>16)+(Ga>>>16)+(G>>>16),ea=P<<16|G&65535,fa=F<<16|L&65535,L=(wa&65535)+(Y&65535),F=(wa>>>16)+(Y>>>16)+(L>>>16),G=(va&65535)+(X&65535)+(F>>>16),P=(va>>>16)+
(X>>>16)+(G>>>16),Ka=P<<16|G&65535,La=F<<16|L&65535,L=(fa&65535)+(Y&65535),F=(fa>>>16)+(Y>>>16)+(L>>>16),G=(ea&65535)+(X&65535)+(F>>>16),P=(ea>>>16)+(X>>>16)+(G>>>16),va=P<<16|G&65535,wa=F<<16|L&65535;L=(c&65535)+(wa&65535);F=(c>>>16)+(wa>>>16)+(L>>>16);G=(f&65535)+(va&65535)+(F>>>16);P=(f>>>16)+(va>>>16)+(G>>>16);f=P<<16|G&65535;c=F<<16|L&65535;L=(m&65535)+(ra&65535);F=(m>>>16)+(ra>>>16)+(L>>>16);G=(g&65535)+(ua&65535)+(F>>>16);P=(g>>>16)+(ua>>>16)+(G>>>16);g=P<<16|G&65535;m=F<<16|L&65535;L=(h&65535)+
(za&65535);F=(h>>>16)+(za>>>16)+(L>>>16);G=(k&65535)+(qa&65535)+(F>>>16);P=(k>>>16)+(qa>>>16)+(G>>>16);k=P<<16|G&65535;h=F<<16|L&65535;L=(n&65535)+(Ja&65535);F=(n>>>16)+(Ja>>>16)+(L>>>16);G=(l&65535)+(Ia&65535)+(F>>>16);P=(l>>>16)+(Ia>>>16)+(G>>>16);l=P<<16|G&65535;n=F<<16|L&65535;L=(E&65535)+(La&65535);F=(E>>>16)+(La>>>16)+(L>>>16);G=(x&65535)+(Ka&65535)+(F>>>16);P=(x>>>16)+(Ka>>>16)+(G>>>16);x=P<<16|G&65535;E=F<<16|L&65535;L=(B&65535)+(Na&65535);F=(B>>>16)+(Na>>>16)+(L>>>16);G=(w&65535)+(Ma&65535)+
(F>>>16);P=(w>>>16)+(Ma>>>16)+(G>>>16);w=P<<16|G&65535;B=F<<16|L&65535;L=(J&65535)+(Pa&65535);F=(J>>>16)+(Pa>>>16)+(L>>>16);G=(y&65535)+(Oa&65535)+(F>>>16);P=(y>>>16)+(Oa>>>16)+(G>>>16);y=P<<16|G&65535;J=F<<16|L&65535;L=(ca&65535)+(Ra&65535);F=(ca>>>16)+(Ra>>>16)+(L>>>16);G=(D&65535)+(Qa&65535)+(F>>>16);P=(D>>>16)+(Qa>>>16)+(G>>>16);D=P<<16|G&65535;ca=F<<16|L&65535}while(!Wa);return[f,c,g,m,k,h,l,n,x,E,w,B,y,J,D,ca]}}();Gb({JP:{Ee:'再接続しますか？<hr><small>Wi-Fi(無線LAN)やbluetoothは電子レンジや近隣利用者の影響を受け接続が切れる場合があります。"設定"から国際高速回線が使用できる場合があります。International high-speed connection(回線) may be available from 設定(Config).</small><hr>'},
EN:{Ee:"Reconnect?<hr><small>Wi-Fi (wireless LAN) and Bluetooth conditions may sometimes be interrupted by microwaves or other nearby users.You can also select an International Special Connection through Settings.</small><hr>"}});
var W=function(){function a(a){b&&(b.close(),b=null);r.WebSocket&&(b=xa(new WebSocket(sa[10]()),{error:function(a){console.log("ws:onerror",a)},open:function(){this.send(JSON.stringify(a))},message:function(a){try{var b=JSON.parse(a.data)}catch(m){}2==H.a&&vb.Hb(u.tw,b);ub.vb(b);1==H.a&&"D"==b.tag||W.sa(b)},close:function(){this==b&&(d=[],A.l("CONNECTION CLOSED<br>"+I.Ee,3,function(){location.reload()}))}}))}function e(){if(d.length)if(d[0][6])ob("RUNNING",d[0]);else{var a=d[0];d[0][6]=1;H[a.tag](a)&&
W.Ha()}}var d=[],b;setInterval(function(){b&&1==b.readyState&&(b.send("<Z/>"),W.Pa&&b.send('<PXR v="'+W.Pa+'" />'))},1E4);return{Pa:0,sa:function(a){d.push(a);1==d.length&&e()},L:function(d){b?(0==b.readyState&&console.log("ws.readyState="+b.readyState,d),b.send(d.tag?JSON.stringify(d):d)):"HELO"==d.tag&&setTimeout(function(){a(d)},1)},Y:function(){b&&(b.close(),b=null)},lf:function(){b&&ta(b,"close",function(){setTimeout(function(){C.l({tag:"AUTOLOGIN"})},1E4)});W.Y()},Db:function(){for(b&&1==b.readyState&&
b.send("<BYE/>");d.length;d.shift())delete d[0][6]},Ha:function(){d.length&&(delete d[0][6],d.shift(),e())}}}();r.handleOpenURL=function(a){a=a.split("?")[1];location.href=a?"?"+a:"index.html"};r.top!==r&&(location.href="https://tenhou.net/0/"+location.search);var Sc=p.lastreload,Tc=Date.now();Sc?36E5<Tc-Sc?(p.lastreload=Tc,location.reload()):Ob():(p.lastreload=Tc,Ob());
})();
//